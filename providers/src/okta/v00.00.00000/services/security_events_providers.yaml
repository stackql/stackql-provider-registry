openapi: 3.0.3
info:
  title: security_events_providers API
  description: okta security_events_providers API
  version: 5.1.0
paths:
  /api/v1/security-events-providers:
    get:
      summary: List all security events providers
      description: Lists all Security Events Provider instances
      operationId: listSecurityEventsProviderInstances
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/SecurityEventsProviderResponse'
              examples:
                list:
                  $ref: '#/components/examples/ListOfSecurityEventsProviderInstances'
        '401':
          $ref: '#/components/responses/ErrorInvalidToken401'
        '403':
          $ref: '#/components/responses/ErrorAccessDenied403'
        '429':
          $ref: '#/components/responses/ErrorTooManyRequests429'
      security:
        - apiToken: []
        - oauth2:
            - okta.securityEventsProviders.read
      tags:
        - SSFReceiver
      x-okta-lifecycle:
        lifecycle: LIMITED_GA
        isGenerallyAvailable: false
        SKUs:
          - Okta Identity Engine
    post:
      summary: Create a security events provider
      description: Creates a Security Events Provider instance
      operationId: createSecurityEventsProviderInstance
      x-codegen-request-body-name: instance
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SecurityEventsProviderRequest'
            examples:
              well-known-URL-provided:
                $ref: >-
                  #/components/examples/SecurityEventsProviderRequestWellKnownUrl
              issuer-and-JWKS-URL-provided:
                $ref: >-
                  #/components/examples/SecurityEventsProviderRequestIssuerAndJwksUrl
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SecurityEventsProviderResponse'
              examples:
                well-known-URL-provided:
                  $ref: >-
                    #/components/examples/SecurityEventsProviderResponseWellKnownUrl
                issuer-and-JWKS-URL-provided:
                  $ref: >-
                    #/components/examples/SecurityEventsProviderResponseIssuerAndJwksUrl
        '400':
          $ref: '#/components/responses/ErrorApiValidationFailed400'
        '401':
          $ref: '#/components/responses/ErrorInvalidToken401'
        '403':
          $ref: '#/components/responses/ErrorAccessDenied403'
        '429':
          $ref: '#/components/responses/ErrorTooManyRequests429'
      security:
        - apiToken: []
        - oauth2:
            - okta.securityEventsProviders.manage
      tags:
        - SSFReceiver
      x-okta-lifecycle:
        lifecycle: LIMITED_GA
        isGenerallyAvailable: false
        SKUs:
          - Okta Identity Engine
  /api/v1/security-events-providers/{securityEventProviderId}:
    get:
      summary: Retrieve the security events provider
      description: Retrieves the Security Events Provider instance specified by `id`
      operationId: getSecurityEventsProviderInstance
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SecurityEventsProviderResponse'
              examples:
                get:
                  $ref: >-
                    #/components/examples/SecurityEventsProviderResponseWellKnownUrl
        '401':
          $ref: '#/components/responses/ErrorInvalidToken401'
        '403':
          $ref: '#/components/responses/ErrorAccessDenied403'
        '404':
          $ref: '#/components/responses/ErrorResourceNotFound404'
        '429':
          $ref: '#/components/responses/ErrorTooManyRequests429'
      security:
        - apiToken: []
        - oauth2:
            - okta.securityEventsProviders.read
      tags:
        - SSFReceiver
      x-okta-lifecycle:
        lifecycle: LIMITED_GA
        isGenerallyAvailable: false
        SKUs:
          - Okta Identity Engine
    put:
      summary: Replace a security events provider
      description: Replaces a Security Events Provider instance specified by `id`
      operationId: replaceSecurityEventsProviderInstance
      x-codegen-request-body-name: instance
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SecurityEventsProviderRequest'
            examples:
              well-known-URL-provided:
                $ref: >-
                  #/components/examples/SecurityEventsProviderRequestWellKnownUrl
              issuer-and-JWKS-URL-provided:
                $ref: >-
                  #/components/examples/SecurityEventsProviderRequestIssuerAndJwksUrl
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SecurityEventsProviderResponse'
              examples:
                well-known-URL-provided:
                  $ref: >-
                    #/components/examples/SecurityEventsProviderResponseWellKnownUrl
                issuer-and-JWKS-URL-provided:
                  $ref: >-
                    #/components/examples/SecurityEventsProviderResponseIssuerAndJwksUrl
        '400':
          $ref: '#/components/responses/ErrorApiValidationFailed400'
        '401':
          $ref: '#/components/responses/ErrorInvalidToken401'
        '403':
          $ref: '#/components/responses/ErrorAccessDenied403'
        '404':
          $ref: '#/components/responses/ErrorResourceNotFound404'
        '429':
          $ref: '#/components/responses/ErrorTooManyRequests429'
      security:
        - apiToken: []
        - oauth2:
            - okta.securityEventsProviders.manage
      tags:
        - SSFReceiver
      x-okta-lifecycle:
        lifecycle: LIMITED_GA
        isGenerallyAvailable: false
        SKUs:
          - Okta Identity Engine
    delete:
      summary: Delete a security events provider
      description: Deletes a Security Events Provider instance specified by `id`
      operationId: deleteSecurityEventsProviderInstance
      responses:
        '204':
          description: No Content
          content: {}
        '401':
          $ref: '#/components/responses/ErrorInvalidToken401'
        '403':
          $ref: '#/components/responses/ErrorAccessDenied403'
        '404':
          $ref: '#/components/responses/ErrorResourceNotFound404'
        '429':
          $ref: '#/components/responses/ErrorTooManyRequests429'
      security:
        - apiToken: []
        - oauth2:
            - okta.securityEventsProviders.manage
      tags:
        - SSFReceiver
      x-okta-lifecycle:
        lifecycle: LIMITED_GA
        isGenerallyAvailable: false
        SKUs:
          - Okta Identity Engine
    parameters:
      - $ref: '#/components/parameters/pathSecurityEventProviderId'
  /api/v1/security-events-providers/{securityEventProviderId}/lifecycle/activate:
    post:
      summary: Activate a security events provider
      description: >-
        Activates a Security Events Provider instance by setting its status to
        `ACTIVE`.

        This operation resumes the flow of events from the Security Events
        Provider to Okta.
      operationId: activateSecurityEventsProviderInstance
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SecurityEventsProviderResponse'
              examples:
                activatedInstance:
                  $ref: >-
                    #/components/examples/SecurityEventsProviderResponseWellKnownUrl
        '401':
          $ref: '#/components/responses/ErrorInvalidToken401'
        '403':
          $ref: '#/components/responses/ErrorAccessDenied403'
        '404':
          $ref: '#/components/responses/ErrorResourceNotFound404'
        '429':
          $ref: '#/components/responses/ErrorTooManyRequests429'
      security:
        - apiToken: []
        - oauth2:
            - okta.securityEventsProviders.manage
      tags:
        - SSFReceiver
      x-okta-lifecycle:
        lifecycle: LIMITED_GA
        isGenerallyAvailable: false
        SKUs:
          - Okta Identity Engine
    parameters:
      - $ref: '#/components/parameters/pathSecurityEventProviderId'
  /api/v1/security-events-providers/{securityEventProviderId}/lifecycle/deactivate:
    post:
      summary: Deactivate a security events provider
      description: >-
        Deactivates a Security Events Provider instance by setting its status to
        `INACTIVE`.

        This operation stops the flow of events from the Security Events
        Provider to Okta.
      operationId: deactivateSecurityEventsProviderInstance
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SecurityEventsProviderResponse'
              examples:
                deactivatedInstance:
                  $ref: >-
                    #/components/examples/DeactivatedSecurityEventsProviderResponse
        '401':
          $ref: '#/components/responses/ErrorInvalidToken401'
        '403':
          $ref: '#/components/responses/ErrorAccessDenied403'
        '404':
          $ref: '#/components/responses/ErrorResourceNotFound404'
        '429':
          $ref: '#/components/responses/ErrorTooManyRequests429'
      security:
        - apiToken: []
        - oauth2:
            - okta.securityEventsProviders.manage
      tags:
        - SSFReceiver
      x-okta-lifecycle:
        lifecycle: LIMITED_GA
        isGenerallyAvailable: false
        SKUs:
          - Okta Identity Engine
    parameters:
      - $ref: '#/components/parameters/pathSecurityEventProviderId'
components:
  schemas:
    SecurityEventsProviderResponse:
      title: Security Events Provider Response
      description: The Security Events Provider response
      type: object
      properties:
        id:
          description: The unique identifier of this instance
          type: string
          readOnly: true
          example: sse1qg25RpusjUP6m0g5
        name:
          description: The name of the Security Events Provider instance
          type: string
          maxLength: 100
          example: Target SSF Provider
        settings:
          description: Information about the Security Events Provider for signal ingestion
          $ref: '#/components/schemas/SecurityEventsProviderSettingsResponse'
        status:
          description: Indicates whether the Security Events Provider is active or not
          type: string
          enum:
            - ACTIVE
            - INACTIVE
          readOnly: true
        type:
          description: The application type of the Security Events Provider
          maxLength: 255
          type: string
          example: okta
        _links:
          $ref: '#/components/schemas/LinksSelfAndLifecycle'
    SecurityEventsProviderRequest:
      title: Security Events Provider Request
      description: >-
        The request schema for creating or updating a Security Events Provider.
        The `settings` must match one of the schemas.
      type: object
      properties:
        name:
          description: The name of the Security Events Provider instance
          type: string
          maxLength: 100
          example: Target SSF Provider
        settings:
          type: object
          description: Information about the Security Events Provider for signal ingestion
          oneOf:
            - $ref: '#/components/schemas/SecurityEventsProviderSettingsSSFCompliant'
            - $ref: >-
                #/components/schemas/SecurityEventsProviderSettingsNonSSFCompliant
        type:
          description: The application type of the Security Events Provider
          maxLength: 255
          type: string
          example: okta
      required:
        - name
        - settings
        - type
    SecurityEventsProviderSettingsResponse:
      title: Security Events Provider settings
      description: Security Events Provider settings
      type: object
      properties:
        issuer:
          type: string
          description: Issuer URL
          maxLength: 700
          example: example.okta.com
        jwks_url:
          type: string
          format: url
          description: The public URL where the JWKS public key is uploaded
          maxLength: 1000
          example: https://example.okta.com/oauth2/v1/keys
        well_known_url:
          type: string
          format: url
          description: >-
            The well-known URL of the Security Events Provider (the SSF
            transmitter)
          nullable: true
          maxLength: 1000
          example: https://example.okta.com/.well-known/ssf-configuration
    LinksSelfAndLifecycle:
      allOf:
        - $ref: '#/components/schemas/LinksSelf'
        - type: object
          properties:
            activate:
              $ref: '#/components/schemas/HrefObjectActivateLink'
            deactivate:
              $ref: '#/components/schemas/HrefObjectDeactivateLink'
    Error:
      title: Error
      type: object
      properties:
        errorCauses:
          type: array
          items:
            $ref: '#/components/schemas/ErrorCause'
        errorCode:
          type: string
          description: An Okta code for this type of error
        errorId:
          type: string
          description: >-
            A unique identifier for this error. This can be used by Okta Support
            to help with troubleshooting.
        errorLink:
          type: string
          description: An Okta code for this type of error
        errorSummary:
          type: string
          description: >-
            A short description of what caused this error. Sometimes this
            contains dynamically-generated information about your specific
            error.
    SecurityEventsProviderSettingsSSFCompliant:
      title: Provider with well-known URL setting
      description: Security Events Provider with well-known URL setting
      type: object
      properties:
        well_known_url:
          type: string
          format: url
          description: >-
            The published well-known URL of the Security Events Provider (the
            SSF transmitter)
          maxLength: 1000
          example: https://example.okta.com/.well-known/ssf-configuration
      required:
        - well_known_url
    SecurityEventsProviderSettingsNonSSFCompliant:
      title: Provider with issuer and JWKS settings
      description: >-
        Security Events Provider with issuer and JWKS settings for signal
        ingestion
      type: object
      properties:
        issuer:
          type: string
          description: Issuer URL
          maxLength: 700
          example: example.okta.com
        jwks_url:
          type: string
          format: url
          description: The public URL where the JWKS public key is uploaded
          maxLength: 1000
          example: https://example.okta.com/oauth2/v1/keys
      required:
        - jwks_url
        - issuer
    LinksSelf:
      description: >-
        Specifies link relations (see [Web
        Linking](https://www.rfc-editor.org/rfc/rfc8288)) available using the
        [JSON Hypertext Application
        Language](https://datatracker.ietf.org/doc/html/draft-kelly-json-hal-06)
        specification. This object is used for dynamic discovery of related
        resources and lifecycle operations.
      type: object
      properties:
        self:
          $ref: '#/components/schemas/HrefObjectSelfLink'
      readOnly: true
    HrefObjectActivateLink:
      allOf:
        - $ref: '#/components/schemas/HrefObject'
        - description: Link to activate the resource
    HrefObjectDeactivateLink:
      allOf:
        - $ref: '#/components/schemas/HrefObject'
        - description: Link to deactivate the resource
    ErrorCause:
      type: object
      properties:
        errorSummary:
          type: string
    HrefObjectSelfLink:
      allOf:
        - $ref: '#/components/schemas/HrefObject'
        - description: Link to the resource (self)
    HrefObject:
      title: Link Object
      additionalProperties: true
      type: object
      properties:
        hints:
          $ref: '#/components/schemas/HrefHints'
          readOnly: true
        href:
          type: string
          description: Link URI
        name:
          type: string
          description: Link name
          readOnly: true
        templated:
          type: boolean
          description: >-
            Indicates whether the link object's `href` property is a URI
            template.
          readOnly: true
        type:
          type: string
          description: >-
            The media type of the link. If omitted, it is implicitly
            `application/json`.
          readOnly: true
      required:
        - href
    HrefHints:
      description: Describes allowed HTTP verbs for the `href`
      type: object
      properties:
        allow:
          type: array
          items:
            $ref: '#/components/schemas/HttpMethod'
    HttpMethod:
      type: string
      enum:
        - DELETE
        - GET
        - POST
        - PUT
  responses:
    ErrorInvalidToken401:
      description: Unauthorized
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          examples:
            InvalidTokenProvided:
              $ref: '#/components/examples/ErrorInvalidTokenProvided'
    ErrorAccessDenied403:
      description: Forbidden
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          examples:
            AccessDenied:
              $ref: '#/components/examples/ErrorAccessDenied'
    ErrorTooManyRequests429:
      description: Too Many Requests
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          examples:
            TooManyRequests:
              $ref: '#/components/examples/ErrorTooManyRequests'
    ErrorApiValidationFailed400:
      description: Bad Request
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          examples:
            APIValidationFailed:
              $ref: '#/components/examples/ErrorApiValidationFailed'
    ErrorResourceNotFound404:
      description: Not Found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          examples:
            ResourceNotFound:
              $ref: '#/components/examples/ErrorResourceNotFound'
  parameters:
    pathSecurityEventProviderId:
      name: securityEventProviderId
      in: path
      schema:
        type: string
        example: sse1qg25RpusjUP6m0g5
      required: true
      description: '`id` of the Security Events Provider instance'
  examples:
    ListOfSecurityEventsProviderInstances:
      summary: List of security events providers
      value:
        - id: sse1qg25RpusjUP6m0g5
          name: Security Events Provider with well-known URL
          type: okta
          status: ACTIVE
          settings:
            well_known_url: https://example.okta.com/.well-known/ssf-configuration
            issuer: Issuer
            jwks_url: https://example.okta.com/jwks/path
          _links:
            self:
              href: >-
                https://example.okta.com/api/v1/security-events-providers/sse1qg25RpusjUP6m0g5
              hints:
                allow:
                  - GET
                  - PUT
                  - DELETE
            deactivate:
              href: >-
                https://example.okta.com/api/v1/security-events-providers/sse1qg25RpusjUP6m0g5/lifecycle/deactivate
              hints:
                allow:
                  - POST
        - id: sse1qu4fUtsoD12iF0g5
          name: Security Events Provider with an issuer and a JWKS URL
          type: okta
          status: ACTIVE
          settings:
            issuer: Issuer
            jwks_url: https://example.okta.com/jwks/path
          _links:
            self:
              href: >-
                https://example.okta.com/api/v1/security-events-providers/sse1qu4fUtsoD12iF0g5
              hints:
                allow:
                  - GET
                  - PUT
                  - DELETE
            deactivate:
              href: >-
                https://example.okta.com/api/v1/security-events-providers/sse1qu4fUtsoD12iF0g5/lifecycle/deactivate
              hints:
                allow:
                  - POST
    SecurityEventsProviderRequestWellKnownUrl:
      summary: Provider with well-known URL
      value:
        name: Security Events Provider with well-known URL
        type: okta
        settings:
          well_known_url: https://example.okta.com/.well-known/ssf-configuration
    SecurityEventsProviderRequestIssuerAndJwksUrl:
      summary: Provider with issuer and JWKS
      value:
        name: Security Events Provider with an issuer and a JWKS URL
        type: okta
        settings:
          issuer: Issuer
          jwks_url: https://example.okta.com/jwks/path
    SecurityEventsProviderResponseWellKnownUrl:
      summary: Provider with well-known URL
      value:
        id: sse1qg25RpusjUP6m0g5
        name: Security Events Provider with well-known URL
        type: okta
        status: ACTIVE
        settings:
          well_known_url: https://example.okta.com/.well-known/ssf-configuration
          issuer: Issuer
          jwks_url: https://example.okta.com/jwks/path
        _links:
          self:
            href: >-
              https://example.okta.com/api/v1/security-events-providers/sse1qg25RpusjUP6m0g5
            hints:
              allow:
                - GET
                - PUT
                - DELETE
          deactivate:
            href: >-
              https://example.okta.com/api/v1/security-events-providers/sse1qg25RpusjUP6m0g5/lifecycle/deactivate
            hints:
              allow:
                - POST
    SecurityEventsProviderResponseIssuerAndJwksUrl:
      summary: Provider with issuer and JWKS
      value:
        id: sse1qu4fUtsoD12iF0g5
        name: Security Events Provider with an issuer and a JWKS URL
        type: okta
        status: ACTIVE
        settings:
          issuer: Issuer
          jwks_url: https://example.okta.com/jwks/path
        _links:
          self:
            href: >-
              https://example.okta.com/api/v1/security-events-providers/sse1qu4fUtsoD12iF0g5
            hints:
              allow:
                - GET
                - PUT
                - DELETE
          deactivate:
            href: >-
              https://example.okta.com/api/v1/security-events-providers/sse1qu4fUtsoD12iF0g5/lifecycle/deactivate
            hints:
              allow:
                - POST
    DeactivatedSecurityEventsProviderResponse:
      summary: Inactive security events provider
      value:
        id: sse1qg25RpusjUP6m0g5
        name: Security Events Provider with well-known URL
        type: okta
        status: INACTIVE
        settings:
          well_known_url: https://example.okta.com/.well-known/ssf-configuration
          issuer: Issuer
          jwks_url: https://example.okta.com/jwks/path
        _links:
          self:
            href: >-
              https://example.okta.com/api/v1/security-events-providers/sse1qg25RpusjUP6m0g5
            hints:
              allow:
                - GET
                - PUT
                - DELETE
          activate:
            href: >-
              https://example.okta.com/api/v1/security-events-providers/sse1qg25RpusjUP6m0g5/lifecycle/activate
            hints:
              allow:
                - POST
    ErrorInvalidTokenProvided:
      summary: Invalid Token Provided
      value:
        errorCode: E0000011
        errorSummary: Invalid token provided
        errorLink: E0000011
        errorId: sampleQPivGUj_ND5v78vbYWW
        errorCauses: []
    ErrorAccessDenied:
      summary: Access Denied
      value:
        errorCode: E0000006
        errorSummary: You do not have permission to perform the requested action
        errorLink: E0000006
        errorId: sampleNUSD_8fdkFd8fs8SDBK
        errorCauses: []
    ErrorTooManyRequests:
      summary: Too Many Requests
      value:
        errorCode: E0000047
        errorSummary: API call exceeded rate limit due to too many requests.
        errorLink: E0000047
        errorId: sampleQPivGUj_ND5v78vbYWW
        errorCauses: []
    ErrorApiValidationFailed:
      summary: API Validation Failed
      value:
        errorCode: E0000001
        errorSummary: 'Api validation failed: {0}'
        errorLink: E0000001
        errorId: sampleiCF-8D5rLW6myqiPItW
        errorCauses: []
    ErrorResourceNotFound:
      summary: Resource Not Found
      value:
        errorCode: E0000007
        errorSummary: 'Not found: {0}'
        errorLink: E0000007
        errorId: sampleMlLvGUj_YD5v16vkYWY
        errorCauses: []
  x-stackQL-resources:
    ssf_receivers:
      id: okta.security_events_providers.ssf_receivers
      name: ssf_receivers
      title: Ssf Receivers
      methods:
        list_security_events_provider_instances:
          operation:
            $ref: '#/paths/~1api~1v1~1security-events-providers/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        create_security_events_provider_instance:
          operation:
            $ref: '#/paths/~1api~1v1~1security-events-providers/post'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        get_security_events_provider_instance:
          operation:
            $ref: >-
              #/paths/~1api~1v1~1security-events-providers~1{securityEventProviderId}/get
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        replace_security_events_provider_instance:
          operation:
            $ref: >-
              #/paths/~1api~1v1~1security-events-providers~1{securityEventProviderId}/put
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        delete_security_events_provider_instance:
          operation:
            $ref: >-
              #/paths/~1api~1v1~1security-events-providers~1{securityEventProviderId}/delete
          response:
            mediaType: ''
            openAPIDocKey: '204'
        activate_security_events_provider_instance:
          operation:
            $ref: >-
              #/paths/~1api~1v1~1security-events-providers~1{securityEventProviderId}~1lifecycle~1activate/post
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        deactivate_security_events_provider_instance:
          operation:
            $ref: >-
              #/paths/~1api~1v1~1security-events-providers~1{securityEventProviderId}~1lifecycle~1deactivate/post
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
          - $ref: >-
              #/components/x-stackQL-resources/ssf_receivers/methods/list_security_events_provider_instances
          - $ref: >-
              #/components/x-stackQL-resources/ssf_receivers/methods/get_security_events_provider_instance
        insert:
          - $ref: >-
              #/components/x-stackQL-resources/ssf_receivers/methods/create_security_events_provider_instance
        update: []
        delete:
          - $ref: >-
              #/components/x-stackQL-resources/ssf_receivers/methods/delete_security_events_provider_instance
        replace:
          - $ref: >-
              #/components/x-stackQL-resources/ssf_receivers/methods/replace_security_events_provider_instance
servers:
  - url: https://{subdomain}.okta.com/
    variables:
      subdomain:
        default: my-org
        description: >-
          The domain of your organization. This can be a provided subdomain of
          an official okta domain (okta.com, oktapreview.com, etc) or one of
          your configured custom domains.

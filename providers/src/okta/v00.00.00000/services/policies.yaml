openapi: 3.0.3
info:
  title: policies API
  description: okta policies API
  version: 5.1.0
paths:
  /api/v1/policies:
    get:
      summary: List all policies
      description: Lists all policies with the specified type
      operationId: listPolicies
      parameters:
        - name: type
          in: query
          required: true
          schema:
            type: string
            enum:
              - OKTA_SIGN_ON
              - PASSWORD
              - MFA_ENROLL
              - IDP_DISCOVERY
              - ACCESS_POLICY
              - DEVICE_SIGNAL_COLLECTION
              - PROFILE_ENROLLMENT
              - POST_AUTH_SESSION
              - ENTITY_RISK
          description: >-
            Specifies the type of policy to return. The following policy types
            are available only with the Okta Identity Engine - `ACCESS_POLICY`,
            <x-lifecycle class="ea"></x-lifecycle> `DEVICE_SIGNAL_COLLECTION`,
            `PROFILE_ENROLLMENT`, `POST_AUTH_SESSION`, and `ENTITY_RISK`.
        - name: status
          in: query
          schema:
            type: string
          description: >-
            Refines the query by the `status` of the policy - `ACTIVE` or
            `INACTIVE`
        - name: q
          in: query
          schema:
            type: string
          description: >-
            Refines the query by policy name prefix (startWith method) passed in
            as `q=string`
        - name: expand
          in: query
          schema:
            type: string
            default: ''
        - name: sortBy
          in: query
          schema:
            type: string
          description: Refines the query by sorting on the policy `name` in ascending order
        - name: limit
          in: query
          schema:
            type: string
          description: >-
            Defines the number of policies returned, see
            [Pagination](https://developer.okta.com/docs/api/#pagination)
        - name: resourceId
          in: query
          schema:
            type: string
          description: Reference to the associated authorization server
        - name: after
          in: query
          schema:
            type: string
          description: >-
            End page cursor for pagination, see
            [Pagination](https://developer.okta.com/docs/api/#pagination)
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Policy'
              examples:
                password:
                  $ref: '#/components/examples/password-policy-response'
                mfa-enroll:
                  $ref: >-
                    #/components/examples/mfa-enroll-policy-with-grace-period-response
                idp-discovery:
                  $ref: '#/components/examples/idp-discovery-policy-response'
                profile-enrollment:
                  $ref: '#/components/examples/profile-enrollment-policy-response'
                access-policy:
                  $ref: '#/components/examples/list-access-policy-response'
                device-signal-collection-policy:
                  $ref: >-
                    #/components/examples/list-device-signal-collection-policy-response
                okta-sign-on-policy:
                  $ref: '#/components/examples/list-okta-sign-on-policy-response'
                entity-risk-policy:
                  $ref: '#/components/examples/list-entity-risk-policy-response'
                post-auth-session-policy:
                  $ref: '#/components/examples/list-post-auth-session-policy-response'
                passwordWithBreachedProtection:
                  $ref: >-
                    #/components/examples/password-policy-with-breached-protection-response
        '403':
          $ref: '#/components/responses/ErrorAccessDenied403'
        '429':
          $ref: '#/components/responses/ErrorTooManyRequests429'
      security:
        - apiToken: []
        - oauth2:
            - okta.policies.read
      tags:
        - Policy
      x-okta-lifecycle:
        lifecycle: GA
        isGenerallyAvailable: true
    post:
      summary: Create a policy
      description: >-
        Creates a policy. There are many types of policies that you can create.
        See [Policies](https://developer.okta.com/docs/concepts/policies/) for
        an overview of the types of policies available and links to more indepth
        information.
      operationId: createPolicy
      parameters:
        - name: activate
          description: This query parameter is only valid for Classic Engine orgs.
          in: query
          schema:
            type: boolean
            default: true
      x-codegen-request-body-name: policy
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateOrUpdatePolicy'
        required: true
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateOrUpdatePolicy'
              examples:
                password:
                  $ref: '#/components/examples/password-policy-response'
                mfa-enroll:
                  $ref: >-
                    #/components/examples/mfa-enroll-policy-with-grace-period-response
                idp-discovery:
                  $ref: '#/components/examples/idp-discovery-policy-response'
                profile-enrollment:
                  $ref: '#/components/examples/profile-enrollment-policy-response'
                access-policy:
                  $ref: '#/components/examples/create-access-policy-response'
                device-signal-collection-policy:
                  $ref: >-
                    #/components/examples/device-signal-collection-policy-response
                okta-sign-on-policy:
                  $ref: '#/components/examples/create-okta-sign-on-policy-response'
                passwordWithBreachedProtection:
                  $ref: >-
                    #/components/examples/password-policy-with-breached-protection-response
        '400':
          $ref: '#/components/responses/ErrorApiValidationFailed400'
        '403':
          $ref: '#/components/responses/ErrorAccessDenied403'
        '429':
          $ref: '#/components/responses/ErrorTooManyRequests429'
      security:
        - apiToken: []
        - oauth2:
            - okta.policies.manage
      tags:
        - Policy
      x-okta-lifecycle:
        lifecycle: GA
        isGenerallyAvailable: true
  /api/v1/policies/simulate:
    post:
      summary: Create a policy simulation
      description: >-
        Creates a policy or policy rule simulation. The access simulation
        evaluates policy and policy rules based on the existing policy rule
        configuration.

        The evaluation result simulates what the real-world authentication flow
        is and what policy rules have been applied or matched to the
        authentication flow.
      operationId: createPolicySimulation
      x-codegen-request-body-name: simulatePolicy
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/SimulatePolicyBody'
            examples:
              SimulatePolicy:
                $ref: '#/components/examples/SimulatePolicyBody'
        required: true
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SimulatePolicyResponse'
              examples:
                SimulatePolicy:
                  $ref: '#/components/examples/SimulatePolicyResponse'
        '403':
          $ref: '#/components/responses/ErrorAccessDenied403'
        '404':
          $ref: '#/components/responses/ErrorResourceNotFound404'
        '429':
          $ref: '#/components/responses/ErrorTooManyRequests429'
      security:
        - apiToken: []
        - oauth2:
            - okta.policies.read
      tags:
        - Policy
      x-okta-lifecycle:
        lifecycle: LIMITED_GA
        isGenerallyAvailable: false
        SKUs:
          - Okta Identity Engine
    parameters:
      - $ref: '#/components/parameters/simulateParameter'
  /api/v1/policies/{policyId}:
    get:
      summary: Retrieve a policy
      description: Retrieves a policy
      operationId: getPolicy
      parameters:
        - name: expand
          in: query
          schema:
            type: string
            default: ''
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Policy'
              examples:
                password:
                  $ref: '#/components/examples/password-policy-response'
                mfa-enroll:
                  $ref: >-
                    #/components/examples/mfa-enroll-policy-with-grace-period-response
                idp-discovery:
                  $ref: '#/components/examples/idp-discovery-policy-response'
                profile-enrollment:
                  $ref: '#/components/examples/profile-enrollment-policy-response'
                access-policy:
                  $ref: '#/components/examples/create-access-policy-response'
                device-signal-collection-policy:
                  $ref: >-
                    #/components/examples/device-signal-collection-policy-response
                okta-sign-on-policy:
                  $ref: '#/components/examples/create-okta-sign-on-policy-response'
                entity-risk-policy:
                  $ref: '#/components/examples/get-entity-risk-policy-response'
                post-auth-session-policy:
                  $ref: '#/components/examples/get-post-auth-session-policy-response'
                passwordWithBreachedProtection:
                  $ref: >-
                    #/components/examples/password-policy-with-breached-protection-response
        '403':
          $ref: '#/components/responses/ErrorAccessDenied403'
        '404':
          $ref: '#/components/responses/ErrorResourceNotFound404'
        '429':
          $ref: '#/components/responses/ErrorTooManyRequests429'
      security:
        - apiToken: []
        - oauth2:
            - okta.policies.read
      tags:
        - Policy
      x-okta-lifecycle:
        lifecycle: GA
        isGenerallyAvailable: true
    put:
      summary: Replace a policy
      description: Replaces the properties of a policy identified by `policyId`
      operationId: replacePolicy
      x-codegen-request-body-name: policy
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateOrUpdatePolicy'
        required: true
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Policy'
              examples:
                password:
                  $ref: '#/components/examples/password-policy-response'
                mfa-enroll:
                  $ref: >-
                    #/components/examples/mfa-enroll-policy-with-grace-period-response
                idp-discovery:
                  $ref: '#/components/examples/idp-discovery-policy-response'
                profile-enrollment:
                  $ref: '#/components/examples/profile-enrollment-policy-response'
                access-policy:
                  $ref: '#/components/examples/create-access-policy-response'
                device-signal-collection-policy:
                  $ref: >-
                    #/components/examples/device-signal-collection-policy-response
                okta-sign-on-policy:
                  $ref: '#/components/examples/create-okta-sign-on-policy-response'
                passwordWithBreachedProtection:
                  $ref: >-
                    #/components/examples/password-policy-with-breached-protection-response
        '400':
          $ref: '#/components/responses/ErrorApiValidationFailed400'
        '403':
          $ref: '#/components/responses/ErrorAccessDenied403'
        '404':
          $ref: '#/components/responses/ErrorResourceNotFound404'
        '429':
          $ref: '#/components/responses/ErrorTooManyRequests429'
      security:
        - apiToken: []
        - oauth2:
            - okta.policies.manage
      tags:
        - Policy
      x-okta-lifecycle:
        lifecycle: GA
        isGenerallyAvailable: true
    delete:
      summary: Delete a policy
      description: Deletes a policy
      operationId: deletePolicy
      responses:
        '204':
          description: No Content
        '403':
          $ref: '#/components/responses/ErrorAccessDenied403'
        '404':
          $ref: '#/components/responses/ErrorResourceNotFound404'
        '429':
          $ref: '#/components/responses/ErrorTooManyRequests429'
      security:
        - apiToken: []
        - oauth2:
            - okta.policies.manage
      tags:
        - Policy
      x-okta-lifecycle:
        lifecycle: GA
        isGenerallyAvailable: true
    parameters:
      - $ref: '#/components/parameters/pathPolicyId'
  /api/v1/policies/{policyId}/app:
    get:
      deprecated: true
      summary: List all apps mapped to a policy
      description: >-
        Lists all applications mapped to a policy identified by `policyId`


        > **Note:** Use [List all resources mapped to a
        Policy](https://developer.okta.com/docs/apihttps://developer.okta.com/docs/apihttps://developer.okta.com/docs/apihttps://developer.okta.com/docs/apihttps://developer.okta.com/docs/api/openapi/okta-management/management/tag/Policy/#tag/Policy/operation/listPolicyMappings)
        to list all applications mapped to a policy.
      operationId: listPolicyApps
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Application'
        '403':
          $ref: '#/components/responses/ErrorAccessDenied403'
        '404':
          $ref: '#/components/responses/ErrorResourceNotFound404'
        '429':
          $ref: '#/components/responses/ErrorTooManyRequests429'
      security:
        - apiToken: []
        - oauth2:
            - okta.policies.read
      tags:
        - Policy
      x-okta-lifecycle:
        lifecycle: GA
        isGenerallyAvailable: true
    parameters:
      - $ref: '#/components/parameters/pathPolicyId'
  /api/v1/policies/{policyId}/clone:
    post:
      summary: Clone an existing policy
      description: Clones an existing policy
      operationId: clonePolicy
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Policy'
              examples:
                password:
                  $ref: '#/components/examples/password-policy-response'
                mfa-enroll:
                  $ref: >-
                    #/components/examples/mfa-enroll-policy-with-grace-period-response
                idp-discovery:
                  $ref: '#/components/examples/idp-discovery-policy-response'
                profile-enrollment:
                  $ref: '#/components/examples/profile-enrollment-policy-response'
                access-policy:
                  $ref: '#/components/examples/create-access-policy-response'
                okta-sign-on-policy:
                  $ref: '#/components/examples/create-okta-sign-on-policy-response'
                passwordWithBreachedProtection:
                  $ref: >-
                    #/components/examples/password-policy-with-breached-protection-response
        '400':
          $ref: '#/components/responses/ErrorApiValidationFailed400'
        '403':
          $ref: '#/components/responses/ErrorAccessDenied403'
        '404':
          $ref: '#/components/responses/ErrorResourceNotFound404'
        '429':
          $ref: '#/components/responses/ErrorTooManyRequests429'
      security:
        - apiToken: []
        - oauth2:
            - okta.policies.manage
      tags:
        - Policy
      x-okta-lifecycle:
        lifecycle: LIMITED_GA
        isGenerallyAvailable: false
        SKUs:
          - Okta Identity Engine
    parameters:
      - $ref: '#/components/parameters/pathPolicyId'
  /api/v1/policies/{policyId}/lifecycle/activate:
    post:
      summary: Activate a policy
      description: Activates a policy
      operationId: activatePolicy
      responses:
        '204':
          description: No Content
          content: {}
        '403':
          $ref: '#/components/responses/ErrorAccessDenied403'
        '404':
          $ref: '#/components/responses/ErrorResourceNotFound404'
        '429':
          $ref: '#/components/responses/ErrorTooManyRequests429'
      security:
        - apiToken: []
        - oauth2:
            - okta.policies.manage
      tags:
        - Policy
      x-okta-lifecycle:
        lifecycle: GA
        isGenerallyAvailable: true
    parameters:
      - $ref: '#/components/parameters/pathPolicyId'
  /api/v1/policies/{policyId}/lifecycle/deactivate:
    post:
      summary: Deactivate a policy
      description: Deactivates a policy
      operationId: deactivatePolicy
      responses:
        '204':
          description: No Content
          content: {}
        '403':
          $ref: '#/components/responses/ErrorAccessDenied403'
        '404':
          $ref: '#/components/responses/ErrorResourceNotFound404'
        '429':
          $ref: '#/components/responses/ErrorTooManyRequests429'
      security:
        - apiToken: []
        - oauth2:
            - okta.policies.manage
      tags:
        - Policy
      x-okta-lifecycle:
        lifecycle: GA
        isGenerallyAvailable: true
    parameters:
      - $ref: '#/components/parameters/pathPolicyId'
  /api/v1/policies/{policyId}/mappings:
    get:
      summary: List all resources mapped to a policy
      description: Lists all resources mapped to a policy identified by `policyId`
      operationId: listPolicyMappings
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PolicyMapping'
              examples:
                policy-mapping-response:
                  $ref: '#/components/examples/policy-mapping-list-response'
        '403':
          $ref: '#/components/responses/ErrorAccessDenied403'
        '404':
          $ref: '#/components/responses/ErrorResourceNotFound404'
        '429':
          $ref: '#/components/responses/ErrorTooManyRequests429'
      security:
        - apiToken: []
        - oauth2:
            - okta.policies.read
      tags:
        - Policy
      x-okta-lifecycle:
        lifecycle: GA
        isGenerallyAvailable: true
    post:
      summary: Map a resource to a policy
      description: Maps a resource to a policy identified by `policyId`
      operationId: mapResourceToPolicy
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PolicyMappingRequest'
        required: true
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PolicyMapping'
              examples:
                policy-mapping-response:
                  $ref: '#/components/examples/policy-mapping-response'
        '400':
          $ref: '#/components/responses/ErrorApiValidationFailed400'
        '403':
          $ref: '#/components/responses/ErrorAccessDenied403'
        '404':
          $ref: '#/components/responses/ErrorResourceNotFound404'
        '429':
          $ref: '#/components/responses/ErrorTooManyRequests429'
      security:
        - apiToken: []
        - oauth2:
            - okta.policies.manage
      tags:
        - Policy
      x-okta-lifecycle:
        lifecycle: GA
        isGenerallyAvailable: true
    parameters:
      - $ref: '#/components/parameters/pathPolicyId'
  /api/v1/policies/{policyId}/mappings/{mappingId}:
    get:
      summary: Retrieve a policy resource mapping
      description: >-
        Retrieves a resource mapping for a policy identified by `policyId` and
        `mappingId`
      operationId: getPolicyMapping
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PolicyMapping'
              examples:
                policy-mapping-response:
                  $ref: '#/components/examples/policy-mapping-response'
        '403':
          $ref: '#/components/responses/ErrorAccessDenied403'
        '404':
          $ref: '#/components/responses/ErrorResourceNotFound404'
        '429':
          $ref: '#/components/responses/ErrorTooManyRequests429'
      security:
        - apiToken: []
        - oauth2:
            - okta.policies.read
      tags:
        - Policy
      x-okta-lifecycle:
        lifecycle: GA
        isGenerallyAvailable: true
    delete:
      summary: Delete a policy resource mapping
      description: >-
        Deletes the resource mapping for a policy identified by `policyId` and
        `mappingId`
      operationId: deletePolicyResourceMapping
      responses:
        '204':
          description: No Content
          content: {}
        '403':
          $ref: '#/components/responses/ErrorAccessDenied403'
        '404':
          $ref: '#/components/responses/ErrorResourceNotFound404'
        '429':
          $ref: '#/components/responses/ErrorTooManyRequests429'
      security:
        - apiToken: []
        - oauth2:
            - okta.policies.manage
      tags:
        - Policy
      x-okta-lifecycle:
        lifecycle: GA
        isGenerallyAvailable: true
    parameters:
      - $ref: '#/components/parameters/pathPolicyId'
      - $ref: '#/components/parameters/pathPolicyMappingId'
  /api/v1/policies/{policyId}/rules:
    get:
      summary: List all policy rules
      description: Lists all policy rules
      operationId: listPolicyRules
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PolicyRule'
              examples:
                okta-sign-on:
                  $ref: '#/components/examples/list-all-sign-on-policy-rule-response'
                access:
                  $ref: '#/components/examples/list-all-access-policy-rule-response'
                device-signal-collection:
                  $ref: >-
                    #/components/examples/list-all-device-signal-collection-rule-response
                entity-risk:
                  $ref: >-
                    #/components/examples/list-all-entity-risk-policy-rule-response
                post-auth-session:
                  $ref: >-
                    #/components/examples/list-all-post-auth-session-policy-rule-response
                password:
                  $ref: '#/components/examples/list-all-password-policy-rule-response'
                idp-discovery:
                  $ref: >-
                    #/components/examples/list-all-idp-discovery-policy-rule-response
                mfa-enroll:
                  $ref: >-
                    #/components/examples/list-all-mfa-enroll-policy-rule-response
                profile-enrollment:
                  $ref: >-
                    #/components/examples/list-all-profile-enrollment-policy-rule-response
        '403':
          $ref: '#/components/responses/ErrorAccessDenied403'
        '404':
          $ref: '#/components/responses/ErrorResourceNotFound404'
        '429':
          $ref: '#/components/responses/ErrorTooManyRequests429'
      security:
        - apiToken: []
        - oauth2:
            - okta.policies.read
      tags:
        - Policy
      x-okta-lifecycle:
        lifecycle: GA
        isGenerallyAvailable: true
    post:
      summary: Create a policy rule
      description: >-
        Creates a policy rule


        > **Note:** You can't create additional rules for the
        `PROFILE_ENROLLMENT` or `POST_AUTH_SESSION` policies.
      operationId: createPolicyRule
      parameters:
        - name: activate
          description: Set this parameter to `false` to create an `INACTIVE` rule.
          in: query
          schema:
            type: boolean
            default: true
      x-codegen-request-body-name: policyRule
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PolicyRule'
            examples:
              EnableSsprSecurityQuestionStepUp:
                $ref: '#/components/examples/sspr-enabled-sq-step-up'
              EnableSsprSSOStepUp:
                $ref: '#/components/examples/sspr-enabled-sso-step-up'
              EnableSsprNoStepUp:
                $ref: '#/components/examples/sspr-enabled-no-step-up'
              EnableSsprOAMP:
                $ref: '#/components/examples/sspr-enabled-OAMP'
              Enable2FAPreciseAuth:
                $ref: >-
                  #/components/examples/twofa-enabled-disallow-password-allow-phishing
              DeviceSignalCollectionRule:
                $ref: '#/components/examples/create-device-signal-collection-rule'
              EnableSpecificRoutingRule:
                $ref: '#/components/examples/idp-discovery-specific-routing-rule'
              EnableDynamicRoutingRule:
                $ref: '#/components/examples/idp-discovery-dynamic-routing-rule'
              CreateAuthPolicyRuleDevicePlatformCondition:
                $ref: '#/components/examples/create-auth-policy-rule-condition'
              SignOnPolicy:
                $ref: '#/components/examples/sign-on-policy-rule'
              SkipFactorChallengeOnPremRule:
                $ref: '#/components/examples/skip-factor-challenge-on-prem-rule'
              RadiusRule:
                $ref: '#/components/examples/radius-rule'
              CloudRule:
                $ref: '#/components/examples/cloud-rule'
              DenyRule:
                $ref: '#/components/examples/deny-rule'
              CreateAuthPolicyRule2FAEnablePostAuthKmsi:
                $ref: '#/components/examples/twofa-enabled-post-auth-kmsi-enabled'
              CreateAuthPolicyRule2FADisablePostAuthKmsi:
                $ref: '#/components/examples/twofa-enabled-post-auth-kmsi-disabled'
              CreateAuthPolicyRuleAmc2Chains:
                $ref: '#/components/examples/amc-two-chain'
              EnableSsprWithConstraints:
                $ref: >-
                  #/components/examples/sspr-enabled-sso-step-up-with-constraints
              EnableIdProofingForOamp:
                $ref: '#/components/examples/oamp-id-proofing-policy-rule'
        required: true
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PolicyRule'
              examples:
                EnableSsprSecurityQuestionStepUp:
                  $ref: '#/components/examples/sspr-enabled-sq-step-up-response'
                EnableSsprSSOStepUp:
                  $ref: '#/components/examples/sspr-enabled-sso-step-up-response'
                EnableSsprNoStepUp:
                  $ref: '#/components/examples/sspr-enabled-no-step-up-response'
                EnableSsprWithOAMP:
                  $ref: '#/components/examples/sspr-enabled-OAMP-response'
                Enable2FAPreciseAuth:
                  $ref: >-
                    #/components/examples/twofa-enabled-disallow-password-allow-phishing-response
                EnableSpecificRoutingRule:
                  $ref: >-
                    #/components/examples/idp-discovery-specific-routing-rule-response
                EnableDynamicRoutingRule:
                  $ref: >-
                    #/components/examples/idp-discovery-dynamic-routing-rule-response
                DeviceSignalCollectionRule:
                  $ref: '#/components/examples/device-signal-collection-rule-response'
                CreateAuthPolicyRuleDevicePlatformCondition:
                  $ref: >-
                    #/components/examples/create-auth-policy-rule-condition-response
                SignOnPolicy:
                  $ref: '#/components/examples/sign-on-policy-rule-response'
                SkipFactorChallengeOnPremRule:
                  $ref: >-
                    #/components/examples/skip-factor-challenge-on-prem-rule-response
                RadiusRule:
                  $ref: '#/components/examples/radius-rule-response'
                CloudRule:
                  $ref: '#/components/examples/cloud-rule-response'
                DenyRule:
                  $ref: '#/components/examples/deny-rule-response'
                CreateAuthPolicyRule2FAEnablePostAuthKmsi:
                  $ref: >-
                    #/components/examples/twofa-enabled-post-auth-kmsi-enabled-response
                CreateAuthPolicyRule2FADisablePostAuthKmsi:
                  $ref: >-
                    #/components/examples/twofa-enabled-post-auth-kmsi-disabled-response
                CreateAuthPolicyRuleAmc2Chains:
                  $ref: '#/components/examples/amc-two-chain'
                EnableSsprWithConstraints:
                  $ref: >-
                    #/components/examples/sspr-enabled-sso-step-up-with-constraints-response
                EnableIdProofingForOamp:
                  $ref: '#/components/examples/oamp-id-proofing-policy-rule-response'
        '400':
          $ref: '#/components/responses/ErrorApiValidationFailed400'
        '403':
          $ref: '#/components/responses/ErrorAccessDenied403'
        '404':
          $ref: '#/components/responses/ErrorResourceNotFound404'
        '429':
          $ref: '#/components/responses/ErrorTooManyRequests429'
      security:
        - apiToken: []
        - oauth2:
            - okta.policies.manage
      tags:
        - Policy
      x-okta-lifecycle:
        lifecycle: GA
        isGenerallyAvailable: true
    parameters:
      - $ref: '#/components/parameters/pathPolicyId'
      - $ref: '#/components/parameters/limitParameter'
  /api/v1/policies/{policyId}/rules/{ruleId}:
    get:
      summary: Retrieve a policy rule
      description: Retrieves a policy rule
      operationId: getPolicyRule
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PolicyRule'
              examples:
                EnableSsprSecurityQuestionStepUp:
                  $ref: '#/components/examples/sspr-enabled-sq-step-up-update'
                EnableSsprSSOStepUp:
                  $ref: '#/components/examples/sspr-enabled-sso-step-up-update'
                EnableSsprNoStepUp:
                  $ref: '#/components/examples/sspr-enabled-no-step-up-update'
                EnableSsprWithOAMP:
                  $ref: '#/components/examples/sspr-enabled-OAMP-update'
                EnableSpecificRoutingRule:
                  $ref: >-
                    #/components/examples/idp-discovery-specific-routing-rule-response
                EnableDynamicRoutingRule:
                  $ref: >-
                    #/components/examples/idp-discovery-dynamic-routing-rule-response
                SignOnPolicy:
                  $ref: '#/components/examples/sign-on-policy-rule-response'
                SkipFactorChallengeOnPremRule:
                  $ref: >-
                    #/components/examples/skip-factor-challenge-on-prem-rule-response
                RadiusRule:
                  $ref: '#/components/examples/radius-rule-response'
                CloudRule:
                  $ref: '#/components/examples/cloud-rule-response'
                DenyRule:
                  $ref: '#/components/examples/deny-rule-response'
                DeviceSignalCollectionRule:
                  $ref: '#/components/examples/device-signal-collection-rule-response'
                AuthenticationPolicyRuleWithPlatformDeviceConstraints:
                  $ref: >-
                    #/components/examples/update-auth-policy-rule-condition-response
                AuthPolicyRule2FAEnablePostAuthKmsi:
                  $ref: >-
                    #/components/examples/twofa-enabled-post-auth-kmsi-enabled-response
                AuthPolicyRule2FADisablePostAuthKmsi:
                  $ref: >-
                    #/components/examples/twofa-enabled-post-auth-kmsi-disabled-response
                EnableSsprWithConstraints:
                  $ref: >-
                    #/components/examples/sspr-enabled-sso-step-up-with-constraints-update
        '403':
          $ref: '#/components/responses/ErrorAccessDenied403'
        '404':
          $ref: '#/components/responses/ErrorResourceNotFound404'
        '429':
          $ref: '#/components/responses/ErrorTooManyRequests429'
      security:
        - apiToken: []
        - oauth2:
            - okta.policies.read
      tags:
        - Policy
      x-okta-lifecycle:
        lifecycle: GA
        isGenerallyAvailable: true
    put:
      summary: Replace a policy rule
      description: >-
        Replaces the properties for a policy rule identified by `policyId` and
        `ruleId`
      operationId: replacePolicyRule
      x-codegen-request-body-name: policyRule
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PolicyRule'
            examples:
              EnableSsprSecurityQuestionStepUp:
                $ref: '#/components/examples/sspr-enabled-sq-step-up-update'
              EnableSsprSSOStepUp:
                $ref: '#/components/examples/sspr-enabled-sso-step-up-update'
              EnableSsprNoStepUp:
                $ref: '#/components/examples/sspr-enabled-no-step-up-update'
              UpdateAuthenticationPolicyRuleWithPlatformDeviceConstraints:
                $ref: '#/components/examples/update-auth-policy-rule-condition'
              UpdateAllowedIdentifiersInUserProfilePolicy:
                $ref: >-
                  #/components/examples/update-identifiers-in-user-profile-policy
              UpdateAuthPolicyRule2FAEnablePostAuthKmsi:
                $ref: '#/components/examples/twofa-enabled-post-auth-kmsi-enabled'
              UpdateAuthPolicyRule2FADisablePostAuthKmsi:
                $ref: '#/components/examples/twofa-enabled-post-auth-kmsi-disabled'
              UpdateDeviceSignalCollectionRule:
                $ref: '#/components/examples/update-device-signal-collection-rule'
              EnableSpecificRoutingRule:
                $ref: '#/components/examples/idp-discovery-specific-routing-rule'
              EnableDynamicRoutingRule:
                $ref: '#/components/examples/idp-discovery-dynamic-routing-rule'
              SignOnPolicy:
                $ref: '#/components/examples/sign-on-policy-rule'
              SkipFactorChallengeOnPremRule:
                $ref: '#/components/examples/skip-factor-challenge-on-prem-rule'
              RadiusRule:
                $ref: '#/components/examples/radius-rule'
              CloudRule:
                $ref: '#/components/examples/cloud-rule'
              DenyRule:
                $ref: '#/components/examples/deny-rule'
              EnableSsprWithConstraints:
                $ref: >-
                  #/components/examples/sspr-enabled-sso-step-up-with-constraints-update
        required: true
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PolicyRule'
              examples:
                EnableSsprSecurityQuestionStepUp:
                  $ref: '#/components/examples/sspr-enabled-sq-step-up-response'
                EnableSsprSSOStepUp:
                  $ref: '#/components/examples/sspr-enabled-sso-step-up-response'
                EnableSsprNoStepUp:
                  $ref: '#/components/examples/sspr-enabled-no-step-up-response'
                UpdateAuthenticationPolicyRuleWithPlatformDeviceConstraints:
                  $ref: >-
                    #/components/examples/update-auth-policy-rule-condition-response
                UpdateAllowedIdentifiersInUserProfilePolicy:
                  $ref: >-
                    #/components/examples/update-identifiers-in-user-profile-policy-response
                UpdateAuthPolicyRule2FAEnablePostAuthKmsi:
                  $ref: >-
                    #/components/examples/twofa-enabled-post-auth-kmsi-enabled-response
                UpdateAuthPolicyRule2FADisablePostAuthKmsi:
                  $ref: >-
                    #/components/examples/twofa-enabled-post-auth-kmsi-disabled-response
                UpdateDeviceSignalCollectionRule:
                  $ref: >-
                    #/components/examples/update-device-signal-collection-rule-response
                EnableSpecificRoutingRule:
                  $ref: >-
                    #/components/examples/idp-discovery-specific-routing-rule-response
                EnableDynamicRoutingRule:
                  $ref: >-
                    #/components/examples/idp-discovery-dynamic-routing-rule-response
                SignOnPolicy:
                  $ref: '#/components/examples/sign-on-policy-rule-response'
                SkipFactorChallengeOnPremRule:
                  $ref: >-
                    #/components/examples/skip-factor-challenge-on-prem-rule-response
                RadiusRule:
                  $ref: '#/components/examples/radius-rule-response'
                CloudRule:
                  $ref: '#/components/examples/cloud-rule-response'
                DenyRule:
                  $ref: '#/components/examples/deny-rule-response'
                EnableSsprWithConstraints:
                  $ref: >-
                    #/components/examples/sspr-enabled-sso-step-up-with-constraints-response
        '400':
          $ref: '#/components/responses/ErrorApiValidationFailed400'
        '403':
          $ref: '#/components/responses/ErrorAccessDenied403'
        '404':
          $ref: '#/components/responses/ErrorResourceNotFound404'
        '429':
          $ref: '#/components/responses/ErrorTooManyRequests429'
      security:
        - apiToken: []
        - oauth2:
            - okta.policies.manage
      tags:
        - Policy
      x-okta-lifecycle:
        lifecycle: GA
        isGenerallyAvailable: true
    delete:
      summary: Delete a policy rule
      description: Deletes a policy rule identified by `policyId` and `ruleId`
      operationId: deletePolicyRule
      responses:
        '204':
          description: No Content
          content: {}
        '403':
          $ref: '#/components/responses/ErrorAccessDenied403'
        '404':
          $ref: '#/components/responses/ErrorResourceNotFound404'
        '429':
          $ref: '#/components/responses/ErrorTooManyRequests429'
      security:
        - apiToken: []
        - oauth2:
            - okta.policies.manage
      tags:
        - Policy
      x-okta-lifecycle:
        lifecycle: GA
        isGenerallyAvailable: true
    parameters:
      - $ref: '#/components/parameters/pathPolicyId'
      - $ref: '#/components/parameters/pathRuleId'
  /api/v1/policies/{policyId}/rules/{ruleId}/lifecycle/activate:
    post:
      summary: Activate a policy rule
      description: Activates a policy rule identified by `policyId` and `ruleId`
      operationId: activatePolicyRule
      responses:
        '204':
          description: No Content
        '403':
          $ref: '#/components/responses/ErrorAccessDenied403'
        '404':
          $ref: '#/components/responses/ErrorResourceNotFound404'
        '429':
          $ref: '#/components/responses/ErrorTooManyRequests429'
      security:
        - apiToken: []
        - oauth2:
            - okta.policies.manage
      tags:
        - Policy
      x-okta-lifecycle:
        lifecycle: GA
        isGenerallyAvailable: true
    parameters:
      - $ref: '#/components/parameters/pathPolicyId'
      - $ref: '#/components/parameters/pathRuleId'
  /api/v1/policies/{policyId}/rules/{ruleId}/lifecycle/deactivate:
    post:
      summary: Deactivate a policy rule
      description: Deactivates a policy rule identified by `policyId` and `ruleId`
      operationId: deactivatePolicyRule
      responses:
        '204':
          description: No Content
        '403':
          $ref: '#/components/responses/ErrorAccessDenied403'
        '404':
          $ref: '#/components/responses/ErrorResourceNotFound404'
        '429':
          $ref: '#/components/responses/ErrorTooManyRequests429'
      security:
        - apiToken: []
        - oauth2:
            - okta.policies.manage
      tags:
        - Policy
      x-okta-lifecycle:
        lifecycle: GA
        isGenerallyAvailable: true
    parameters:
      - $ref: '#/components/parameters/pathPolicyId'
      - $ref: '#/components/parameters/pathRuleId'
components:
  schemas:
    Policy:
      type: object
      properties:
        created:
          description: Timestamp when the policy was created
          type: string
          format: date-time
          readOnly: true
          default: Assigned
        description:
          description: Description of the policy
          type: string
          default: null
        id:
          description: Identifier of the policy
          type: string
          readOnly: true
          default: Assigned
        lastUpdated:
          description: Timestamp when the policy was last modified
          type: string
          format: date-time
          readOnly: true
          default: Assigned
        name:
          description: Name of the policy
          type: string
        priority:
          description: >-
            Specifies the order in which this policy is evaluated in relation to
            the other policies
          type: integer
          default: Last / Lowest Priority, for example `1`
        status:
          allOf:
            - $ref: '#/components/schemas/LifecycleStatus'
            - description: >-
                Whether or not the policy is active. Use the `activate` query
                parameter to set the status of a policy.
        system:
          description: Specifies whether Okta created the policy
          type: boolean
          default: false
        type:
          $ref: '#/components/schemas/PolicyType'
        _embedded:
          type: object
          additionalProperties:
            type: object
            properties: {}
          readOnly: true
        _links:
          $ref: '#/components/schemas/PolicyLinks'
      required:
        - name
        - type
      discriminator:
        propertyName: type
        mapping:
          ACCESS_POLICY: '#/components/schemas/AccessPolicy'
          IDP_DISCOVERY: '#/components/schemas/IdpDiscoveryPolicy'
          MFA_ENROLL: '#/components/schemas/AuthenticatorEnrollmentPolicy'
          OKTA_SIGN_ON: '#/components/schemas/OktaSignOnPolicy'
          PASSWORD: '#/components/schemas/PasswordPolicy'
          PROFILE_ENROLLMENT: '#/components/schemas/ProfileEnrollmentPolicy'
          POST_AUTH_SESSION: '#/components/schemas/PostAuthSessionPolicy'
          ENTITY_RISK: '#/components/schemas/EntityRiskPolicy'
          DEVICE_SIGNAL_COLLECTION: '#/components/schemas/DeviceSignalCollectionPolicy'
    CreateOrUpdatePolicy:
      type: object
      properties:
        created:
          description: Timestamp when the policy was created
          type: string
          format: date-time
          readOnly: true
          default: Assigned
        description:
          description: Description of the policy
          type: string
          default: null
        id:
          description: Identifier of the policy
          type: string
          readOnly: true
          default: Assigned
        lastUpdated:
          description: Timestamp when the policy was last modified
          type: string
          format: date-time
          readOnly: true
          default: Assigned
        name:
          description: Name of the policy
          type: string
        priority:
          description: >-
            Specifies the order in which this policy is evaluated in relation to
            the other policies
          type: integer
          default: Last / Lowest Priority, for example `1`
        status:
          allOf:
            - $ref: '#/components/schemas/LifecycleStatus'
            - description: >-
                Whether or not the policy is active. Use the `activate` query
                parameter to set the status of a policy.
        system:
          description: Specifies whether Okta created the policy
          type: boolean
          default: false
        type:
          $ref: '#/components/schemas/PolicyType'
        _embedded:
          type: object
          additionalProperties:
            type: object
            properties: {}
          readOnly: true
        _links:
          $ref: '#/components/schemas/PolicyLinks'
      required:
        - name
        - type
      discriminator:
        propertyName: type
        mapping:
          ACCESS_POLICY: '#/components/schemas/AccessPolicy'
          MFA_ENROLL: '#/components/schemas/AuthenticatorEnrollmentPolicy'
          OKTA_SIGN_ON: '#/components/schemas/OktaSignOnPolicy'
          PASSWORD: '#/components/schemas/PasswordPolicy'
          PROFILE_ENROLLMENT: '#/components/schemas/ProfileEnrollmentPolicy'
          DEVICE_SIGNAL_COLLECTION: '#/components/schemas/DeviceSignalCollectionPolicy'
    SimulatePolicyBody:
      description: The request body required for a simulate policy operation
      type: object
      properties:
        appInstance:
          type: string
          description: The application instance ID for a simulate operation
        policyContext:
          $ref: '#/components/schemas/PolicyContext'
        policyTypes:
          type: array
          description: >-
            Supported policy types for a simulate operation. The default value,
            `null`, returns all types.
          items:
            $ref: '#/components/schemas/PolicyTypeSimulation'
      required:
        - appInstance
    SimulatePolicyResponse:
      description: >-
        The response body returned for a simulate policy operation. An array of
        `evaluations`.
      items:
        $ref: '#/components/schemas/SimulatePolicyEvaluations'
      type: array
    Application:
      type: object
      properties:
        accessibility:
          $ref: '#/components/schemas/ApplicationAccessibility'
        created:
          type: string
          format: date-time
          readOnly: true
          description: Timestamp when the application object was created
        features:
          type: array
          description: >
            Enabled app features

            > **Note:** See [Application
            Features](https://developer.okta.com/docs/apihttps://developer.okta.com/docs/apihttps://developer.okta.com/docs/apihttps://developer.okta.com/docs/api/openapi/okta-management/management/tag/ApplicationFeatures/)
            for app provisioning features.
          readOnly: true
          items:
            type: string
            enum:
              - GROUP_PUSH
              - IMPORT_NEW_USERS
              - IMPORT_PROFILE_UPDATES
              - IMPORT_USER_SCHEMA
              - PROFILE_MASTERING
              - PUSH_NEW_USERS
              - PUSH_PASSWORD_UPDATES
              - PUSH_PROFILE_UPDATES
              - PUSH_USER_DEACTIVATION
              - REACTIVATE_USERS
              - OUTBOUND_DEL_AUTH
              - DESKTOP_SSO
              - FEDERATED_PROFILE
              - SUPPRESS_ACTIVATION_EMAIL
              - PUSH_PENDING_USERS
              - MFA
              - UPDATE_EXISTING_USERNAME
              - EXCLUDE_USERNAME_UPDATE_ON_PROFILE_PUSH
              - EXCHANGE_ACTIVE_SYNC
              - IMPORT_SYNC
              - IMPORT_SYNC_CONTACTS
              - DEVICE_COMPLIANCE
              - VPN_CONFIG
              - IMPORT_SCHEMA_ENUM_VALUES
              - SCIM_PROVISIONING
              - DEVICE_FILTER_IN_SIGN_ON_RULES
              - PROFILE_TEMPLATE_UPGRADE
              - DEFAULT_PUSH_STATUS_TO_PUSH
              - REAL_TIME_SYNC
              - SSO
              - AUTHN_CONTEXT
              - JIT_PROVISIONING
              - GROUP_SYNC
              - OPP_SCIM_INCREMENTAL_IMPORTS
              - IN_MEMORY_APP_USER
              - LOG_STREAMING
              - OAUTH_INTEGRATION
              - IDP
              - PUSH_NEW_USERS_WITHOUT_PASSWORD
              - SKYHOOK_SERVICE
              - ENTITLEMENT_MANAGEMENT
              - PUSH_NEW_USERS_WITH_HASHED_PASSWORD
            x-enumDescriptions:
              GROUP_PUSH: >-
                Creates or links a group in the app when a mapping is defined
                for a group in Okta. Okta is the source for group memberships
                and all group members in Okta who are also assigned to the app
                are synced as group members to the app.
              IMPORT_NEW_USERS: Creates or links a user in Okta to a user from the app
              IMPORT_PROFILE_UPDATES: >-
                Updates a linked user's app profile during manual or scheduled
                imports
              IMPORT_USER_SCHEMA: >-
                Discovers the profile schema for a user from the app
                automatically
              PROFILE_MASTERING: >-
                Designates the app as the identity lifecycle and profile
                attribute authority for linked users. The user's profile in Okta
                is read-only.
              PUSH_NEW_USERS: >-
                Creates or links a user account in the app when assigning the
                app to a user in Okta
              PUSH_PASSWORD_UPDATES: >-
                Updates the user's app password when their password changes in
                Okta
              PUSH_PROFILE_UPDATES: >-
                Updates a user's profile in the app when the user's profile
                changes in Okta (the profile source)
              PUSH_USER_DEACTIVATION: >-
                Deactivates a user's account in the app when unassigned from the
                app in Okta or deactivated
              REACTIVATE_USERS: >-
                Reactivates an existing inactive user when provisioning a user
                to the app
              OUTBOUND_DEL_AUTH: >-
                Okta user authentication requests are delegated to a third-party
                app
              DESKTOP_SSO: >-
                Okta user authentication requests are handled by desktop SSO
                negotiation (if possible)
              FEDERATED_PROFILE: >-
                App user profiles are synchronized at sign-in and profile-view
                instances instead of during bulk imports
              SUPPRESS_ACTIVATION_EMAIL: >-
                Activation emails aren't sent to users sourced by AD and orgs
                with DelAuth enabled
              PUSH_PENDING_USERS: >-
                Users are in PENDING state in Okta and are created but not
                active in the sourced app user
              MFA: App can verify credentials as a second factor
              UPDATE_EXISTING_USERNAME: App can update the user name for existing users
              EXCLUDE_USERNAME_UPDATE_ON_PROFILE_PUSH: Exclude username update during profile push
              EXCHANGE_ACTIVE_SYNC: App supports synchronizing credentials with OMM enrolled devices
              IMPORT_SYNC: Synchronize import events
              IMPORT_SYNC_CONTACTS: Synchronize contacts
              DEVICE_COMPLIANCE: Apps support device compliance rules
              VPN_CONFIG: App supports pushing VPN configuration to OMM enrolled devices
              IMPORT_SCHEMA_ENUM_VALUES: >-
                App supports downloading schema enum values. You can download
                custom objects and integrating them with UD without being tied
                to the type metadata system.
              SCIM_PROVISIONING: >-
                App supports generic SCIM client provisioning and can leverage
                SCIM standard for provisioning and push custom attributes to a
                third-party app
              DEVICE_FILTER_IN_SIGN_ON_RULES: App supports filtering by client type in app sign-on rules
              PROFILE_TEMPLATE_UPGRADE: >-
                App supports profile template upgrades. This is primarily to
                help roll out the profile template upgrade feature for
                individual apps
              DEFAULT_PUSH_STATUS_TO_PUSH: >-
                App defaults Push status to `PUSH`. This feature is for apps,
                such as SharePoint, that want to receive App User profile
                updates even though they didn't implement traditional
                PUSH_PROFILE_UPDATES in the client API.
              REAL_TIME_SYNC: Apps support real-time synchronization
              SSO: Apps support establishing a subject based on claims from an IdP
              AUTHN_CONTEXT: >-
                Apps support establishing an authentication context based on
                claims from an IdP
              JIT_PROVISIONING: Apps support provisioning a user based on claims from an IdP
              GROUP_SYNC: >-
                Apps support syncing group information based on claims from an
                IdP
              OPP_SCIM_INCREMENTAL_IMPORTS: Apps support incremental imports. Used for SCIM app instances
              IN_MEMORY_APP_USER: >-
                Apps support in-memory app users. This feature is used as an
                alternative to Implicit App Assignment for a non-persisted app
                user.
              LOG_STREAMING: Apps support log streaming
              OAUTH_INTEGRATION: App is an OAuth 2.0 integration
              IDP: Apps support IdP functionalities
              PUSH_NEW_USERS_WITHOUT_PASSWORD: Don't send generated password for new users
              SKYHOOK_SERVICE: Use the Skyhook microservice for LCM operations
              ENTITLEMENT_MANAGEMENT: Marker to showcase which OIN apps are entitlement enabled
              PUSH_NEW_USERS_WITH_HASHED_PASSWORD: >-
                Send hashed password for new users. This feature is only used
                for CIS to CIC migration.
        id:
          type: string
          readOnly: true
          description: Unique ID for the app instance
        label:
          $ref: '#/components/schemas/ApplicationLabel'
        lastUpdated:
          type: string
          format: date-time
          readOnly: true
          description: Timestamp when the application object was last updated
        licensing:
          $ref: '#/components/schemas/ApplicationLicensing'
        orn:
          type: string
          readOnly: true
          description: The Okta resource name (ORN) for the current app instance
        profile:
          type: object
          description: >-
            Contains any valid JSON schema for specifying properties that can be
            referenced from a request (only available to OAuth 2.0 client apps).

            For example, add an app manager contact email address or define an
            allowlist of groups that you can then reference using the Okta
            Expression Language `getFilteredGroups` function.


            > **Notes:**

            > * `profile` isn't encrypted, so don't store sensitive data in it.

            > * `profile` doesn't limit the level of nesting in the JSON schema
            you created, but there is a practical size limit. Okta recommends a
            JSON schema size of 1 MB or less for best performance.
          additionalProperties: true
        signOnMode:
          $ref: '#/components/schemas/ApplicationSignOnMode'
        status:
          $ref: '#/components/schemas/ApplicationLifecycleStatus'
        universalLogout:
          $ref: '#/components/schemas/ApplicationUniversalLogout'
        visibility:
          $ref: '#/components/schemas/ApplicationVisibility'
        _embedded:
          type: object
          description: >-
            Embedded resources related to the app using the [JSON Hypertext
            Application
            Language](https://datatracker.ietf.org/doc/html/draft-kelly-json-hal-06)
            specification. If the `expand=user/{userId}` query parameter is
            specified, then the assigned [Application
            User](https://developer.okta.com/docs/apihttps://developer.okta.com/docs/apihttps://developer.okta.com/docs/apihttps://developer.okta.com/docs/api/openapi/okta-management/management/tag/ApplicationUsers/) is
            embedded.
          properties:
            user:
              type: object
              description: >-
                The specified [Application
                User](https://developer.okta.com/docs/apihttps://developer.okta.com/docs/apihttps://developer.okta.com/docs/apihttps://developer.okta.com/docs/api/openapi/okta-management/management/tag/ApplicationUsers/)
                assigned to the app
              additionalProperties:
                type: object
                properties: {}
          readOnly: true
        _links:
          $ref: '#/components/schemas/ApplicationLinks'
      required:
        - signOnMode
        - label
      discriminator:
        propertyName: signOnMode
        mapping:
          AUTO_LOGIN: '#/components/schemas/AutoLoginApplication'
          BASIC_AUTH: '#/components/schemas/BasicAuthApplication'
          BOOKMARK: '#/components/schemas/BookmarkApplication'
          BROWSER_PLUGIN: '#/components/schemas/BrowserPluginApplication'
          OPENID_CONNECT: '#/components/schemas/OpenIdConnectApplication'
          SAML_1_1: '#/components/schemas/Saml11Application'
          SAML_2_0: '#/components/schemas/SamlApplication'
          SECURE_PASSWORD_STORE: '#/components/schemas/SecurePasswordStoreApplication'
          WS_FEDERATION: '#/components/schemas/WsFederationApplication'
    PolicyMapping:
      type: object
      properties:
        id:
          type: string
        _links:
          allOf:
            - $ref: '#/components/schemas/LinksSelf'
            - properties:
                application:
                  allOf:
                    - $ref: '#/components/schemas/HrefObject'
                    - description: Link to the mapped application
                policy:
                  allOf:
                    - $ref: '#/components/schemas/HrefObject'
                    - description: Link to the mapped policy
              type: object
    PolicyMappingRequest:
      type: object
      properties:
        resourceId:
          type: string
          description: Unique identifier of the resource to map
        resourceType:
          $ref: '#/components/schemas/PolicyMappingResourceType'
    PolicyRule:
      type: object
      properties:
        created:
          type: string
          description: Timestamp when the rule was created
          format: date-time
          readOnly: true
          nullable: true
        id:
          type: string
          description: Identifier for the rule
          readOnly: true
        lastUpdated:
          type: string
          description: Timestamp when the rule was last modified
          format: date-time
          readOnly: true
          nullable: true
        name:
          type: string
          description: Name of the rule
        priority:
          type: integer
          description: Priority of the rule
          nullable: true
        status:
          allOf:
            - $ref: '#/components/schemas/LifecycleStatus'
            - description: >-
                Whether or not the rule is active. Use the `activate` query
                parameter to set the status of a rule.
        system:
          type: boolean
          description: >-
            Specifies whether Okta created the policy rule (`system=true`). You
            can't delete policy rules that have `system` set to `true`.
          default: false
        type:
          $ref: '#/components/schemas/PolicyRuleType'
        _links:
          $ref: '#/components/schemas/PolicyLinks'
      discriminator:
        propertyName: type
        mapping:
          ACCESS_POLICY: '#/components/schemas/AccessPolicyRule'
          PASSWORD: '#/components/schemas/PasswordPolicyRule'
          PROFILE_ENROLLMENT: '#/components/schemas/ProfileEnrollmentPolicyRule'
          SIGN_ON: '#/components/schemas/OktaSignOnPolicyRule'
          IDP_DISCOVERY: '#/components/schemas/IdpDiscoveryPolicyRule'
          POST_AUTH_SESSION: '#/components/schemas/PostAuthSessionPolicyRule'
          ENTITY_RISK: '#/components/schemas/EntityRiskPolicyRule'
          MFA_ENROLL: '#/components/schemas/AuthenticatorEnrollmentPolicyRule'
          DEVICE_SIGNAL_COLLECTION: '#/components/schemas/DeviceSignalCollectionPolicyRule'
    LifecycleStatus:
      type: string
      enum:
        - ACTIVE
        - INACTIVE
    PolicyType:
      description: >-
        All Okta orgs contain only one IdP discovery policy with an immutable
        default rule routing to your org's sign-in page, one entity risk policy,
        and one session protection policy.

        Creating or replacing a policy with the `IDP_DISCOVERY` type, the
        `ENTITY_RISK` type, or the `POST_AUTH_SESSION` type isn't supported.

        The following policy types are available with Identity Engine:
        `ACCESS_POLICY`, `PROFILE_ENROLLMENT`, `POST_AUTH_SESSION`, <x-lifecycle
        class="ea"></x-lifecycle> `DEVICE_SIGNAL_COLLECTION`, and `ENTITY_RISK`.
      type: string
      enum:
        - <x-lifecycle class="ea"></x-lifecycle> DEVICE_SIGNAL_COLLECTION
        - ACCESS_POLICY
        - ENTITY_RISK
        - IDP_DISCOVERY
        - MFA_ENROLL
        - OKTA_SIGN_ON
        - PASSWORD
        - POST_AUTH_SESSION
        - PROFILE_ENROLLMENT
    PolicyLinks:
      type: object
      properties:
        activate:
          $ref: '#/components/schemas/HrefObjectActivateLink'
        deactivate:
          $ref: '#/components/schemas/HrefObjectDeactivateLink'
        mappings:
          $ref: '#/components/schemas/HrefObjectMappingsLink'
        rules:
          $ref: '#/components/schemas/HrefObjectRulesLink'
        self:
          $ref: '#/components/schemas/HrefObjectSelfLink'
      readOnly: true
    Error:
      title: Error
      type: object
      properties:
        errorCauses:
          type: array
          items:
            $ref: '#/components/schemas/ErrorCause'
        errorCode:
          type: string
          description: An Okta code for this type of error
        errorId:
          type: string
          description: >-
            A unique identifier for this error. This can be used by Okta Support
            to help with troubleshooting.
        errorLink:
          type: string
          description: An Okta code for this type of error
        errorSummary:
          type: string
          description: >-
            A short description of what caused this error. Sometimes this
            contains dynamically-generated information about your specific
            error.
    PolicyContext:
      type: object
      properties:
        device:
          type: object
          properties:
            platform:
              type: string
              description: The platform of the device, for example, IOS.
            registered:
              type: boolean
              description: If the device is registered
            managed:
              type: boolean
              description: If the device is managed
            assuranceId:
              type: string
              description: The device assurance policy ID for the simulation
        groups:
          type: object
          description: >-
            An array of Group IDs for the simulate operation. Only user IDs or
            Group IDs are allowed, not both.
          properties:
            ids:
              type: array
              items:
                type: string
                uniqueItems: true
          required:
            - ids
        ip:
          type: string
          description: The network rule condition, zone, or IP address
        risk:
          type: object
          description: The risk rule condition level
          properties:
            level:
              type: string
              enum:
                - LOW
                - MEDIUM
                - HIGH
        user:
          type: object
          description: >-
            The user ID for the simulate operation. Only user IDs or Group IDs
            are allowed, not both.
          properties:
            id:
              type: string
              description: The unique ID number for the user.
          required:
            - id
        zones:
          type: object
          description: The zone ID under the network rule condition.
          properties:
            ids:
              type: array
              items:
                type: string
      required:
        - user
        - groups
    PolicyTypeSimulation:
      type: string
      enum:
        - ACCESS_POLICY
        - MFA_ENROLL
        - OKTA_SIGN_ON
        - PROFILE_ENROLLMENT
    SimulatePolicyEvaluations:
      type: object
      properties:
        evaluated:
          type: object
          description: A list of evaluated but not matched policies and rules
          properties:
            policies:
              $ref: '#/components/schemas/SimulateResultPolicies'
        policyType:
          type: array
          description: The policy type of the simulate operation
          items:
            $ref: '#/components/schemas/PolicyTypeSimulation'
        result:
          $ref: '#/components/schemas/SimulatePolicyResult'
        status:
          $ref: '#/components/schemas/SimulateResultStatus'
        undefined:
          type: object
          description: A list of undefined but not matched policies and rules
          properties:
            policies:
              $ref: '#/components/schemas/SimulateResultPolicies'
    ApplicationAccessibility:
      description: Specifies access settings for the app
      type: object
      properties:
        errorRedirectUrl:
          type: string
          description: Custom error page URL for the app
        loginRedirectUrl:
          type: string
          description: >-
            Custom login page URL for the app

            > **Note:** The `loginRedirectUrl` property is deprecated in
            Identity Engine. This property is used with the custom app login
            feature. Orgs that actively use this feature can continue to do so.
            See [Okta-hosted sign-in (redirect
            authentication)](https://developer.okta.com/docs/guides/redirect-authentication/)
            or [configure IdP routing
            rules](https://help.okta.com/okta_help.htm?type=oie&id=ext-cfg-routing-rules)
            to redirect users to the appropriate sign-in app for orgs that don't
            use the custom app login feature.
        selfService:
          type: boolean
          description: Represents whether the app can be self-assignable by users
    ApplicationLabel:
      description: User-defined display name for app
      type: string
    ApplicationLicensing:
      description: Licenses for the app
      type: object
      properties:
        seatCount:
          type: integer
          description: Number of licenses purchased for the app
    ApplicationSignOnMode:
      description: >
        Authentication mode for the app


        | signOnMode | Description |

        | ---------- | ----------- |

        | AUTO_LOGIN | Secure Web Authentication (SWA) |

        | BASIC_AUTH | HTTP Basic Authentication with Okta Browser Plugin |

        | BOOKMARK | Just a bookmark (no-authentication) |

        | BROWSER_PLUGIN | Secure Web Authentication (SWA) with Okta Browser
        Plugin |

        | OPENID_CONNECT | Federated Authentication with OpenID Connect (OIDC) |

        | SAML_1_1 | Federated Authentication with SAML 1.1 WebSSO (not
        supported for custom apps) |

        | SAML_2_0 | Federated Authentication with SAML 2.0 WebSSO |

        | SECURE_PASSWORD_STORE | Secure Web Authentication (SWA) with POST
        (plugin not required) |

        | WS_FEDERATION | Federated Authentication with WS-Federation Passive
        Requestor Profile |


        Select the `signOnMode` for your custom app:
      type: string
      enum:
        - AUTO_LOGIN
        - BASIC_AUTH
        - BOOKMARK
        - BROWSER_PLUGIN
        - OPENID_CONNECT
        - SAML_1_1
        - SAML_2_0
        - SECURE_PASSWORD_STORE
        - WS_FEDERATION
    ApplicationLifecycleStatus:
      description: App instance status
      type: string
      enum:
        - ACTIVE
        - DELETED
        - INACTIVE
      readOnly: true
    ApplicationUniversalLogout:
      description: >-
        <div class="x-lifecycle-container"><x-lifecycle
        class="oie"></x-lifecycle></div>

        Universal Logout properties for the app. These properties are only
        returned and can't be updated.
      x-okta-lifecycle:
        lifecycle: GA
        isGenerallyAvailable: false
        SKUs: []
      example: ACTIVE
      type: object
      properties:
        identityStack:
          type: string
          description: >-
            Indicates whether the app uses a shared identity stack that may
            cause the user to sign out of other apps by the same company
          enum:
            - SHARED
            - NOT_SHARED
          example: SHARED
        protocol:
          type: string
          description: The protocol used for Universal Logout
          enum:
            - PROPRIETARY
            - GLOBAL_TOKEN_REVOCATION
          x-enumDescriptions:
            PROPRIETARY: Universal Logout is implemented with a proprietary method.
            GLOBAL_TOKEN_REVOCATION: >-
              Universal Logout is implemented with the [Global Token
              Revocation](https://datatracker.ietf.org/doc/draft-parecki-oauth-global-token-revocation/)
              protocol. See the [Global Token Revocation
              API](https://developer.okta.com/docs/api/openapi/okta-oauth/oauth/tag/GlobalTokenRevocation/).
          example: PROPRIETARY
        status:
          type: string
          description: Universal Logout status for the app instance
          enum:
            - ENABLED
            - DISABLED
            - UNSUPPORTED
          example: ENABLED
          x-enumDescriptions:
            ENABLED: >-
              Universal Logout is enabled. Users are signed out of the app
              instance when the Okta system or an admin initiates logout.
            DISABLED: Universal Logout is disabled
            UNSUPPORTED: The app doesn't support Universal Logout
        supportType:
          type: string
          description: >-
            Indicates whether the app supports full or partial Universal Logout
            (UL).
          enum:
            - FULL
            - PARTIAL
          x-enumDescriptions:
            FULL: >-
              Full UL support (users are signed out of an app when the Okta
              system or an admin initiates logout)
            PARTIAL: >-
              This app's sign-out behavior can be different from other supported
              UL apps.
          example: FULL
      readOnly: true
    ApplicationVisibility:
      description: Specifies visibility settings for the app
      type: object
      properties:
        appLinks:
          type: object
          description: >-
            Links or icons that appear on the End-User Dashboard if they're set
            to `true`.
          additionalProperties:
            type: boolean
        autoLaunch:
          type: boolean
          description: Automatically signs in to the app when user signs into Okta
        autoSubmitToolbar:
          type: boolean
          description: Automatically sign in when user lands on the sign-in page
        hide:
          $ref: '#/components/schemas/ApplicationVisibilityHide'
    ApplicationLinks:
      description: Discoverable resources related to the app
      properties:
        accessPolicy:
          $ref: '#/components/schemas/AccessPolicyLink'
        activate:
          $ref: '#/components/schemas/HrefObjectActivateLink'
        appLinks:
          type: array
          description: List of app link resources
          items:
            $ref: '#/components/schemas/HrefObject'
        deactivate:
          $ref: '#/components/schemas/HrefObjectDeactivateLink'
        groups:
          $ref: '#/components/schemas/GroupsLink'
        help:
          $ref: '#/components/schemas/HelpLink'
        logo:
          type: array
          description: List of app logo resources
          items:
            $ref: '#/components/schemas/HrefObject'
        metadata:
          $ref: '#/components/schemas/MetadataLink'
        self:
          $ref: '#/components/schemas/HrefObjectSelfLink'
        users:
          $ref: '#/components/schemas/UsersLink'
      readOnly: true
      type: object
    LinksSelf:
      description: >-
        Specifies link relations (see [Web
        Linking](https://www.rfc-editor.org/rfc/rfc8288)) available using the
        [JSON Hypertext Application
        Language](https://datatracker.ietf.org/doc/html/draft-kelly-json-hal-06)
        specification. This object is used for dynamic discovery of related
        resources and lifecycle operations.
      type: object
      properties:
        self:
          $ref: '#/components/schemas/HrefObjectSelfLink'
      readOnly: true
    HrefObject:
      title: Link Object
      additionalProperties: true
      type: object
      properties:
        hints:
          $ref: '#/components/schemas/HrefHints'
          readOnly: true
        href:
          type: string
          description: Link URI
        name:
          type: string
          description: Link name
          readOnly: true
        templated:
          type: boolean
          description: >-
            Indicates whether the link object's `href` property is a URI
            template.
          readOnly: true
        type:
          type: string
          description: >-
            The media type of the link. If omitted, it is implicitly
            `application/json`.
          readOnly: true
      required:
        - href
    PolicyMappingResourceType:
      description: >-
        Specifies the type of resource to map. You can either map an app onto a
        policy, or map a device signal collection policy onto an authentication
        policy.
      type: string
      enum:
        - ACCESS_POLICY
        - APP
    PolicyRuleType:
      description: Rule type
      type: string
      enum:
        - ACCESS_POLICY
        - DEVICE_SIGNAL_COLLECTION
        - ENTITY_RISK
        - IDP_DISCOVERY
        - MFA_ENROLL
        - PASSWORD
        - POST_AUTH_SESSION
        - PROFILE_ENROLLMENT
        - SIGN_ON
    HrefObjectActivateLink:
      allOf:
        - $ref: '#/components/schemas/HrefObject'
        - description: Link to activate the resource
    HrefObjectDeactivateLink:
      allOf:
        - $ref: '#/components/schemas/HrefObject'
        - description: Link to deactivate the resource
    HrefObjectMappingsLink:
      allOf:
        - $ref: '#/components/schemas/HrefObject'
        - description: Link to the mappings resource
    HrefObjectRulesLink:
      allOf:
        - $ref: '#/components/schemas/HrefObject'
        - description: Link to the rules resource
    HrefObjectSelfLink:
      allOf:
        - $ref: '#/components/schemas/HrefObject'
        - description: Link to the resource (self)
    ErrorCause:
      type: object
      properties:
        errorSummary:
          type: string
    SimulateResultPolicies:
      items:
        $ref: '#/components/schemas/SimulateResultPoliciesItems'
      type: array
    SimulatePolicyResult:
      description: The result of the policy evaluation
      type: object
      properties:
        policies:
          $ref: '#/components/schemas/SimulateResultPolicies'
    SimulateResultStatus:
      description: The result of this entity evaluation
      type: string
      enum:
        - MATCH
        - NOT_MATCH
        - UNDEFINED
    ApplicationVisibilityHide:
      description: Hides the app for specific end-user apps
      type: object
      properties:
        iOS:
          type: boolean
          description: Okta Mobile for iOS or Android (pre-dates Android)
          default: false
          example: false
        web:
          type: boolean
          description: Okta End-User Dashboard on a web browser
          default: false
          example: true
    AccessPolicyLink:
      allOf:
        - $ref: '#/components/schemas/HrefObject'
        - description: Link to the app access policy resource
    GroupsLink:
      allOf:
        - $ref: '#/components/schemas/HrefObject'
        - description: >-
            Link to the [Application
            Groups](https://developer.okta.com/docs/apihttps://developer.okta.com/docs/apihttps://developer.okta.com/docs/apihttps://developer.okta.com/docs/api/openapi/okta-management/management/tag/ApplicationGroups/#tag/ApplicationGroups/operation/listApplicationGroupAssignments)
            resource
    HelpLink:
      allOf:
        - $ref: '#/components/schemas/HrefObject'
        - description: Link to the app help resource
    MetadataLink:
      allOf:
        - $ref: '#/components/schemas/HrefObject'
        - description: >-
            Link to the [SAML
            metadata](https://developer.okta.com/docs/apihttps://developer.okta.com/docs/apihttps://developer.okta.com/docs/apihttps://developer.okta.com/docs/api/openapi/okta-management/management/tag/ApplicationSSO/#tag/ApplicationSSO/operation/previewSAMLmetadataForApplication)
            for SSO
    UsersLink:
      allOf:
        - $ref: '#/components/schemas/HrefObject'
        - description: >-
            Link to the [Application
            Users](https://developer.okta.com/docs/apihttps://developer.okta.com/docs/apihttps://developer.okta.com/docs/apihttps://developer.okta.com/docs/api/openapi/okta-management/management/tag/ApplicationUsers/#tag/ApplicationUsers/operation/listApplicationUsers)
            resource
    HrefHints:
      description: Describes allowed HTTP verbs for the `href`
      type: object
      properties:
        allow:
          type: array
          items:
            $ref: '#/components/schemas/HttpMethod'
    SimulateResultPoliciesItems:
      type: object
      properties:
        conditions:
          type: array
          description: List of all conditions involved for this policy evaluation
          items:
            $ref: '#/components/schemas/SimulateResultConditions'
        id:
          type: string
          description: ID of the specified policy type
        name:
          type: string
          description: Policy name
        rules:
          type: array
          items:
            $ref: '#/components/schemas/SimulateResultRules'
        status:
          $ref: '#/components/schemas/SimulateResultStatus'
    HttpMethod:
      type: string
      enum:
        - DELETE
        - GET
        - POST
        - PUT
    SimulateResultConditions:
      type: object
      properties:
        status:
          $ref: '#/components/schemas/SimulateResultStatus'
        type:
          type: string
          description: The type of condition
    SimulateResultRules:
      type: object
      properties:
        conditions:
          type: array
          description: List of all conditions involved for this rule evaluation
          items:
            $ref: '#/components/schemas/SimulateResultConditions'
        id:
          type: string
          description: The unique ID number of the policy rule
        name:
          type: string
          description: The name of the policy rule
        status:
          $ref: '#/components/schemas/SimulateResultStatus'
  responses:
    ErrorAccessDenied403:
      description: Forbidden
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          examples:
            AccessDenied:
              $ref: '#/components/examples/ErrorAccessDenied'
    ErrorTooManyRequests429:
      description: Too Many Requests
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          examples:
            TooManyRequests:
              $ref: '#/components/examples/ErrorTooManyRequests'
    ErrorApiValidationFailed400:
      description: Bad Request
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          examples:
            APIValidationFailed:
              $ref: '#/components/examples/ErrorApiValidationFailed'
    ErrorResourceNotFound404:
      description: Not Found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
          examples:
            ResourceNotFound:
              $ref: '#/components/examples/ErrorResourceNotFound'
  parameters:
    simulateParameter:
      name: expand
      description: >-
        Use `expand=EVALUATED` to include a list of evaluated but not matched
        policies and policy rules. Use `expand=RULE` to include details about
        why a rule condition wasn't matched.
      in: query
      schema:
        type: string
        example: EVALUATED
    pathPolicyId:
      name: policyId
      description: '`id` of the Policy'
      in: path
      required: true
      schema:
        type: string
        example: 00plrilJ7jZ66Gn0X0g3
    pathPolicyMappingId:
      name: mappingId
      description: '`id` of the policy resource Mapping'
      in: path
      required: true
      schema:
        type: string
        example: maplr2rLjZ6NsGn1P0g3
    limitParameter:
      name: limit
      in: query
      schema:
        type: string
      description: >-
        Defines the number of policy rules returned. See
        [Pagination](https://developer.okta.com/docs/api/#pagination).
    pathRuleId:
      name: ruleId
      description: '`id` of the policy rule'
      in: path
      required: true
      schema:
        type: string
        example: ruld3hJ7jZh4fn0st0g3
  examples:
    password-policy-response:
      summary: PASSWORD
      value:
        type: PASSWORD
        id: policyId
        status: ACTIVE
        name: Policy name
        description: Policy description
        priority: 1
        system: true
        created: createdDate
        lastUpdated: lastUpdated
        conditions:
          people:
            groups:
              include:
                - groupId
          authProvider:
            provider: provider
        settings:
          password:
            complexity:
              minLength: 8
              minLowerCase: 1
              minUpperCase: 1
              minNumber: null
              minSymbol: 0
              excludeUsername: true
              dictionary:
                common:
                  exclude: false
              excludeAttributes: []
            age:
              maxAgeDays: 0
              expireWarnDays: 0
              minAgeMinutes: 0
              historyCount: 4
            lockout:
              maxAttempts: 0
              autoUnlockMinutes: 0
              userLockoutNotificationChannels: []
              showLockoutFailures: false
          recovery:
            factors:
              recovery_question:
                status: ACTIVE
                properties:
                  complexity:
                    complexity: 4
                type: object
              okta_email:
                status: ACTIVE
                properties:
                  recoveryToken:
                    tokenLifetimeMinutes: 10080
                type: object
              okta_sms:
                status: INACTIVE
              okta_call:
                status: INACTIVE
          delegation:
            options:
              skipUnlock: false
        _links:
          self:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}
            hints:
              allow:
                - GET
                - PUT
          rules:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules
            hints:
              allow:
                - POST
                - GET
    mfa-enroll-policy-with-grace-period-response:
      summary: MFA_ENROLL
      value:
        type: MFA_ENROLL
        id: policyId
        status: ACTIVE
        name: Policy name
        description: Policy description
        priority: 1
        system: true
        created: createdDate
        lastUpdated: lastUpdated
        conditions:
          people:
            groups:
              include:
                - groupId
        settings:
          type: AUTHENTICATORS
          authenticators:
            - key: okta_email
              enroll:
                self: NOT_ALLOWED
            - key: okta_verify
              enroll:
                self: OPTIONAL
            - key: okta_password
              enroll:
                self: REQUIRED
            - key: phone_number
              enroll:
                self: REQUIRED
                gracePeriod:
                  type: BY_DATE_TIME
                  expiry: '2025-01-01T18:30:45.000Z'
        _links:
          self:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}
            hints:
              allow:
                - GET
                - PUT
          rules:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules
            hints:
              allow:
                - POST
                - GET
          mappings:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/mappings
            hints:
              allow:
                - GET
                - POST
          deactivate:
            href: >-
              https://{yourOktaDomain}/api/v1/policies/{policyId}/lifecycle/deactivate
            hints:
              allow:
                - POST
    idp-discovery-policy-response:
      summary: IDP_DISCOVERY
      value:
        type: IDP_DISCOVERY
        id: policyId
        status: ACTIVE
        name: Policy name
        description: Policy description
        priority: 1
        system: true
        created: createdDate
        lastUpdated: lastUpdated
        conditions: null
        _links:
          self:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}
            hints:
              allow:
                - GET
                - PUT
          rules:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules
            hints:
              allow:
                - POST
                - GET
    profile-enrollment-policy-response:
      summary: PROFILE_ENROLLMENT
      value:
        type: PROFILE_ENROLLMENT
        id: policyId
        status: ACTIVE
        name: Policy name
        description: Policy description
        priority: 1
        system: true
        created: createdDate
        lastUpdated: lastUpdated
        conditions: null
        _links:
          self:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}
            hints:
              allow:
                - GET
                - PUT
          rules:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules
            hints:
              allow:
                - POST
                - GET
    list-access-policy-response:
      summary: ACCESS_POLICY
      value:
        - type: ACCESS_POLICY
          id: policyId
          status: ACTIVE
          name: Policy name
          description: Policy description
          priority: 1
          system: true
          conditions: null
          created: '2024-04-25T17:35:02.000Z'
          lastUpdated: '2024-04-25T17:35:02.000Z'
          _links:
            self:
              href: https://{yourOktaDomain}/api/v1/policies/{policyId}
              hints:
                allow:
                  - GET
                  - PUT
            rules:
              href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules
              hints:
                allow:
                  - GET
                  - POST
    list-device-signal-collection-policy-response:
      x-okta-lifecycle:
        lifecycle: EA
        isGenerallyAvailable: false
        SKUs: []
      summary: DEVICE_SIGNAL_COLLECTION
      value:
        - type: DEVICE_SIGNAL_COLLECTION
          id: policyId
          status: ACTIVE
          name: Policy name
          description: Policy description
          priority: 1
          system: false
          conditions: null
          created: '2025-04-25T17:35:02.000Z'
          lastUpdated: '2025-04-25T17:35:02.000Z'
          _links:
            self:
              href: https://{yourOktaDomain}/api/v1/policies/{policyId}
              hints:
                allow:
                  - GET
                  - PUT
                  - DELETE
            rules:
              href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules
              hints:
                allow:
                  - GET
                  - POST
    list-okta-sign-on-policy-response:
      summary: OKTA_SIGN_ON
      value:
        - type: OKTA_SIGN_ON
          id: policyId
          status: ACTIVE
          name: Policy name
          description: Policy description
          priority: 1
          system: true
          conditions:
            people:
              groups:
                include:
                  - groupId
          created: '2024-04-25T17:35:02.000Z'
          lastUpdated: '2024-04-25T17:35:02.000Z'
          _links:
            self:
              href: https://{yourOktaDomain}/api/v1/policies/{policyId}
              hints:
                allow:
                  - GET
                  - PUT
            rules:
              href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules
              hints:
                allow:
                  - GET
                  - POST
    list-entity-risk-policy-response:
      summary: ENTITY_RISK
      value:
        - type: ENTITY_RISK
          id: policyId
          status: ACTIVE
          name: Policy name
          description: Policy description
          priority: 1
          system: true
          conditions: null
          created: '2024-04-25T17:35:02.000Z'
          lastUpdated: '2024-04-25T17:35:02.000Z'
          _links:
            self:
              href: https://{yourOktaDomain}/api/v1/policies/{policyId}
              hints:
                allow:
                  - GET
                  - PUT
            rules:
              href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules
              hints:
                allow:
                  - GET
                  - POST
    list-post-auth-session-policy-response:
      summary: POST_AUTH_SESSION
      value:
        - type: POST_AUTH_SESSION
          id: policyId
          status: ACTIVE
          name: Policy name
          description: Policy description
          priority: 1
          system: true
          conditions: null
          created: '2024-04-25T17:35:02.000Z'
          lastUpdated: '2024-04-25T17:35:02.000Z'
          _links:
            self:
              href: https://{yourOktaDomain}/api/v1/policies/{policyId}
              hints:
                allow:
                  - GET
                  - PUT
            rules:
              href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules
              hints:
                allow:
                  - GET
                  - POST
    password-policy-with-breached-protection-response:
      summary: PASSWORD_WITH_BREACHED_PROTECTION
      value:
        type: PASSWORD
        id: policyId
        status: ACTIVE
        name: Policy name
        description: Policy description
        priority: 1
        system: true
        created: createdDate
        lastUpdated: lastUpdated
        conditions:
          people:
            groups:
              include:
                - groupId
          authProvider:
            provider: provider
        settings:
          password:
            complexity:
              minLength: 8
              minLowerCase: 1
              minUpperCase: 1
              minNumber: null
              minSymbol: 0
              excludeUsername: true
              dictionary:
                common:
                  exclude: false
              excludeAttributes: []
            age:
              maxAgeDays: 0
              expireWarnDays: 0
              minAgeMinutes: 0
              historyCount: 4
            lockout:
              maxAttempts: 0
              autoUnlockMinutes: 0
              userLockoutNotificationChannels: []
              showLockoutFailures: false
            breachedProtection:
              expireAfterDays: 1
              logoutEnabled: true
              deletegatedWorkflowId: workflowId
          recovery:
            factors:
              recovery_question:
                status: ACTIVE
                properties:
                  complexity:
                    complexity: 4
                type: object
              okta_email:
                status: ACTIVE
                properties:
                  recoveryToken:
                    tokenLifetimeMinutes: 10080
                type: object
              okta_sms:
                status: INACTIVE
              okta_call:
                status: INACTIVE
          delegation:
            options:
              skipUnlock: false
        _links:
          self:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}
            hints:
              allow:
                - GET
                - PUT
          rules:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules
            hints:
              allow:
                - POST
                - GET
    create-access-policy-response:
      summary: ACCESS_POLICY
      value:
        type: ACCESS_POLICY
        id: policyId
        status: ACTIVE
        name: Policy name
        description: Policy description
        priority: 1
        system: false
        conditions: null
        created: '2024-04-25T17:35:02.000Z'
        lastUpdated: '2024-04-25T17:35:02.000Z'
        _links:
          mappings:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/mappings
            hints:
              allow:
                - GET
                - POST
          self:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}
            hints:
              allow:
                - GET
                - PUT
                - DELETE
          rules:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules
            hints:
              allow:
                - GET
                - POST
          deviceSignalCollectionPolicy:
            href: >-
              https://{yourOktaDomain}/api/v1/policies/{deviceSignalCollectionPolicyId}
            hints:
              allow:
                - GET
                - PUT
                - DELETE
          deactivate:
            href: >-
              https://{yourOktaDomain}/api/v1/policies/{policyId}/lifecycle/deactivate
            hints:
              allow:
                - POST
    device-signal-collection-policy-response:
      x-okta-lifecycle:
        lifecycle: EA
        isGenerallyAvailable: false
        SKUs: []
      summary: DEVICE_SIGNAL_COLLECTION
      value:
        type: DEVICE_SIGNAL_COLLECTION
        id: policyId
        status: ACTIVE
        name: Policy name
        description: Policy description
        priority: 1
        system: false
        conditions: null
        created: '2024-04-25T17:35:02.000Z'
        lastUpdated: '2024-04-25T17:35:02.000Z'
        _links:
          self:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}
            hints:
              allow:
                - GET
                - PUT
                - DELETE
          rules:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules
            hints:
              allow:
                - GET
                - POST
          deactivate:
            href: >-
              https://{yourOktaDomain}/api/v1/policies/{policyId}/lifecycle/deactivate
            hints:
              allow:
                - POST
    create-okta-sign-on-policy-response:
      summary: OKTA_SIGN_ON
      value:
        type: OKTA_SIGN_ON
        id: policyId
        status: ACTIVE
        name: Policy name
        description: Policy description
        priority: 1
        system: false
        conditions:
          people:
            groups:
              include:
                - groupId
        created: '2024-04-25T17:35:02.000Z'
        lastUpdated: '2024-04-25T17:35:02.000Z'
        _links:
          mappings:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/mappings
            hints:
              allow:
                - GET
                - POST
          self:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}
            hints:
              allow:
                - GET
                - PUT
                - DELETE
          rules:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules
            hints:
              allow:
                - GET
                - POST
          deactivate:
            href: >-
              https://{yourOktaDomain}/api/v1/policies/{policyId}/lifecycle/deactivate
            hints:
              allow:
                - POST
    SimulatePolicyBody:
      summary: Simulate policy request body
      value:
        policyType:
          - OKTA_SIGN_ON
          - MFA_ENROLL
        appInstance: 0oa4eroj3nYCIJIW70g7
        policyContext:
          groups:
            ids:
              - 00g4eralvekR5RLuS0g7
              - 00g4eralvekR5RLuS0g8
          risk:
            level: LOW
          zones:
            ids:
              - nzo4eralxcRnbIHYJ0g7
          device:
            platform: IOS
            registered: true
            managed: true
    SimulatePolicyResponse:
      summary: Simulate policy response body
      value:
        evaluation:
          - status: null
            policyType: OKTA_SIGN_ON
            result:
              policies:
                - id: 00p4eromwukk6qUku0g7
                  name: test policy
                  status: MATCH
                  conditions: []
                  rules:
                    - id: 0pr4erof85nGcyC7Y0g7
                      name: test rule
                      status: MATCH
                      conditions:
                        - type: people.groups.include
                          status: MATCH
            undefined:
              policies: []
            evaluated:
              policies: []
          - status: null
            policyType: MFA_ENROLL
            result:
              policies:
                - id: 00p4eram2kw1aLcrx0g7
                  name: Default Policy
                  status: MATCH
                  conditions: []
                  rules:
                    - id: 0pr4eram2lMQT5FZF0g7
                      name: null
                      status: MATCH
                      conditions: []
            undefined:
              policies: []
            evaluated:
              policies: []
          - status: null
            policyType: ACCESS_POLICY
            result:
              policies:
                - id: rst4eram06ZKZewEe0g7
                  name: Any two factors
                  status: MATCH
                  conditions: []
                  rules:
                    - id: rul4eram07VsWgybo0g7
                      name: Catch-all rule
                      status: MATCH
                      conditions: []
            undefined:
              policies: []
            evaluated:
              policies: []
          - status: null
            policyType: PROFILE_ENROLLMENT
            result:
              policies:
                - id: rst4eram08ZSjPTOl0g7
                  name: Default Policy
                  status: MATCH
                  conditions: []
                  rules:
                    - id: rul4eram094PrQ2BX0g7
                      name: Catch-all rule
                      status: MATCH
                      conditions: []
            undefined:
              policies: []
            evaluated:
              policies: []
    get-entity-risk-policy-response:
      summary: ENTITY_RISK
      value:
        type: ENTITY_RISK
        id: policyId
        status: ACTIVE
        name: Policy name
        description: Policy description
        priority: 1
        system: true
        conditions: null
        created: '2024-04-25T17:35:02.000Z'
        lastUpdated: '2024-04-25T17:35:02.000Z'
        _links:
          self:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}
            hints:
              allow:
                - GET
                - PUT
          rules:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules
            hints:
              allow:
                - GET
                - POST
    get-post-auth-session-policy-response:
      summary: POST_AUTH_SESSION
      value:
        type: POST_AUTH_SESSION
        id: policyId
        status: ACTIVE
        name: Policy name
        description: Policy description
        priority: 1
        system: true
        conditions: null
        created: '2024-04-25T17:35:02.000Z'
        lastUpdated: '2024-04-25T17:35:02.000Z'
        _links:
          self:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}
            hints:
              allow:
                - GET
                - PUT
          rules:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules
            hints:
              allow:
                - GET
                - POST
    policy-mapping-list-response:
      summary: List all mappings for a policy
      value:
        - id: policyId
          _links:
            application:
              href: https://{yourOktaDomain}/api/v1/apps/{appId}
              hints:
                allow:
                  - GET
                  - PUT
                  - DELETE
            self:
              href: >-
                https://{yourOktaDomain}/api/v1/policies/{policyId}/mappings/{mappingId}
              hints:
                allow:
                  - GET
                  - PUT
                  - DELETE
            policy:
              href: https://{yourOktaDomain}/api/v1/policies/{policyId}
              hints:
                allow:
                  - GET
                  - PUT
                  - DELETE
    policy-mapping-response:
      summary: Policy mapping for a policy
      value:
        id: policyId
        _links:
          application:
            href: https://{yourOktaDomain}/api/v1/apps/{appId}
            hints:
              allow:
                - GET
                - PUT
                - DELETE
          self:
            href: >-
              https://{yourOktaDomain}/api/v1/policies/{policyId}/mappings/{mappingId}
            hints:
              allow:
                - GET
                - PUT
                - DELETE
          policy:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}
            hints:
              allow:
                - GET
                - PUT
                - DELETE
    list-all-sign-on-policy-rule-response:
      summary: OKTA_SIGN_ON
      value:
        - id: 0prh1sd28q5sXGW08697
          status: ACTIVE
          name: Test rule
          priority: 0
          created: '2024-04-25T17:35:02.000Z'
          lastUpdated: '2024-04-25T17:35:02.000Z'
          system: false
          conditions:
            people:
              users:
                exclude: []
            network:
              connection: ANYWHERE
            risk:
              behaviors: []
            riskScore:
              level: ANY
            identityProvider:
              provider: ANY
          actions:
            signon:
              requireFactor: false
              factorPromptMode: ALWAYS
              factorLifetime: 15
              access: ALLOW
              primaryFactor: PASSWORD_IDP_ANY_FACTOR
              session:
                maxSessionIdleMinutes: 720
                maxSessionLifetimeMinutes: 0
                usePersistentCookie: false
          _links:
            self:
              href: >-
                https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}
              hints:
                allow:
                  - GET
                  - PUT
                  - DELETE
            deactivate:
              href: >-
                https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}
              hints:
                allow:
                  - POST
          type: SIGN_ON
    list-all-access-policy-rule-response:
      summary: ACCESS_POLICY
      value:
        - id: ruleId
          status: ACTIVE
          name: Catch-all rule
          priority: 99
          created: '2024-04-25T17:35:02.000Z'
          lastUpdated: '2024-04-25T17:35:02.000Z'
          system: true
          conditions: null
          actions:
            appSignOn:
              access: ALLOW
              verificationMethod:
                factorMode: 1FA
                type: ASSURANCE
                reauthenticateIn: PT12H
                constraints: []
          _links:
            self:
              href: >-
                https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}
              hints:
                allow:
                  - GET
                  - PUT
          type: ACCESS_POLICY
    list-all-device-signal-collection-rule-response:
      x-okta-lifecycle:
        lifecycle: EA
        isGenerallyAvailable: false
        SKUs: []
      summary: DEVICE_SIGNAL_COLLECTION
      value:
        - id: ruleId
          status: ACTIVE
          name: Device signal collection rule
          priority: 0
          created: '2024-11-20T18:22:15.000Z'
          lastUpdated: '2025-01-03T23:04:33.000Z'
          system: false
          conditions:
            network:
              connection: ZONE
              exclude:
                - nzo9o4rctwQCJNE6y1d7
            platform:
              include:
                - type: MOBILE
                  os:
                    type: ANDROID
          actions:
            deviceSignalCollection:
              deviceContextProviders:
                - key: OKTA_VERIFY
                  userIdentification: IGNORE
                - key: CHROME_DEVICE_TRUST
                - key: DEVICE_POSTURE_IDP
                  id: 0oa159mE9aOSpCwmr0g4
          _links:
            self:
              href: >-
                https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}
              hints:
                allow:
                  - GET
                  - PUT
          type: DEVICE_SIGNAL_COLLECTION
    list-all-entity-risk-policy-rule-response:
      summary: ENTITY_RISK
      value:
        - id: ruleId
          status: ACTIVE
          name: Catch-all rule
          priority: 99
          created: '2024-04-25T17:35:02.000Z'
          lastUpdated: '2024-04-25T17:35:02.000Z'
          system: true
          conditions: null
          actions:
            entityRisk:
              actions: []
          _links:
            self:
              href: >-
                https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}
              hints:
                allow:
                  - GET
                  - PUT
          type: ENTITY_RISK
    list-all-post-auth-session-policy-rule-response:
      summary: POST_AUTH_SESSION
      value:
        - id: ruleId
          status: ACTIVE
          name: Post auth rule
          priority: 0
          created: '2024-04-25T17:35:02.000Z'
          lastUpdated: '2024-04-25T17:35:02.000Z'
          system: false
          conditions:
            people:
              users:
                exclude: []
          actions:
            postAuthSession:
              failureActions: []
          _links:
            self:
              href: >-
                https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}
              hints:
                allow:
                  - GET
                  - PUT
                  - DELETE
            deactivate:
              href: >-
                https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}/lifecycle/deactivate
              hints:
                allow:
                  - POST
          type: POST_AUTH_SESSION
        - id: ruleId2
          status: ACTIVE
          name: Catch-all rule
          priority: 99
          created: '2024-04-25T17:35:02.000Z'
          lastUpdated: '2024-04-25T17:35:02.000Z'
          system: true
          conditions: null
          actions:
            postAuthSession:
              failureActions: []
          _links:
            self:
              href: >-
                https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId2}
              hints:
                allow:
                  - GET
                  - PUT
          type: POST_AUTH_SESSION
    list-all-password-policy-rule-response:
      summary: PASSWORD
      value:
        - id: 0prgu3baytQGHuVEv1d7
          status: ACTIVE
          name: Test Rule
          priority: 1
          created: '2024-08-27T19:51:11.000Z'
          lastUpdated: '2024-08-27T19:51:17.000Z'
          system: true
          conditions:
            people:
              users:
                exclude: []
            network:
              connection: ANYWHERE
          actions:
            passwordChange:
              access: ALLOW
            selfServicePasswordReset:
              access: ALLOW
              requirement:
                primary:
                  methods:
                    - email
                stepUp:
                  required: false
            selfServiceUnlock:
              access: DENY
          _links:
            self:
              href: >-
                https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}
              hints:
                allow:
                  - GET
                  - PUT
          type: PASSWORD
    list-all-idp-discovery-policy-rule-response:
      summary: IDP_DISCOVERY
      value:
        - id: 0prgu3bb10hce267M1d7
          status: ACTIVE
          name: Test rule
          priority: 1
          created: '2024-08-27T19:51:15.000Z'
          lastUpdated: '2024-08-27T19:51:15.000Z'
          system: true
          conditions:
            network:
              connection: ANYWHERE
            platform:
              include: []
              exclude: []
            userIdentifier:
              patterns: []
            app:
              include: []
              exclude: []
          actions:
            idp:
              providers:
                - type: OKTA
              idpSelectionType: SPECIFIC
          _links:
            self:
              href: >-
                https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}
              hints:
                allow:
                  - GET
                  - PUT
          type: IDP_DISCOVERY
    list-all-mfa-enroll-policy-rule-response:
      summary: MFA_ENROLL
      value:
        - id: 0prgu3g4mon9ARm9F1d7
          status: ACTIVE
          name: Test Rule
          priority: 1
          created: '2024-08-27T19:51:39.000Z'
          lastUpdated: '2024-08-27T19:51:39.000Z'
          system: true
          conditions:
            people:
              users:
                exclude: []
            network:
              connection: ANYWHERE
          actions:
            enroll:
              self: CHALLENGE
          _links:
            self:
              href: >-
                https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}
              hints:
                allow:
                  - GET
                  - PUT
          type: MFA_ENROLL
    list-all-profile-enrollment-policy-rule-response:
      summary: PROFILE_ENROLLMENT
      value:
        - id: rulgu3bb4oWR7qbMi1d7
          status: ACTIVE
          name: Test Rule
          priority: 99
          created: '2024-08-27T19:51:18.000Z'
          lastUpdated: '2024-08-27T19:51:22.000Z'
          system: true
          conditions: null
          actions:
            profileEnrollment:
              access: ALLOW
              preRegistrationInlineHooks: null
              profileAttributes:
                - name: email
                  label: Email
                  required: true
                - name: firstName
                  label: First name
                  required: true
                - name: lastName
                  label: Last name
                  required: true
              targetGroupIds: null
              unknownUserAction: DENY
              activationRequirements:
                emailVerification: true
              uiSchemaId: uisgu3bb4zTbvwD8S1d7
              progressiveProfilingAction: DISABLED
          _links:
            self:
              href: >-
                https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}
              hints:
                allow:
                  - GET
                  - PUT
          type: PROFILE_ENROLLMENT
    sspr-enabled-sq-step-up:
      summary: >-
        Password policy - Self-service password change, reset, or unlock with
        security question as step up
      value:
        name: SSPR Rule
        priority: 1
        status: ACTIVE
        conditions:
          people:
            users:
              exclude: []
          network:
            connection: ANYWHERE
        actions:
          passwordChange:
            access: ALLOW
          selfServicePasswordReset:
            access: ALLOW
            requirement:
              primary:
                methods:
                  - push
                  - sms
              stepUp:
                required: true
                methods:
                  - security_question
          selfServiceUnlock:
            access: ALLOW
        system: false
        type: PASSWORD
    sspr-enabled-sso-step-up:
      summary: >-
        Password policy - Self-service password change, reset, or unlock with
        any SSO authenticator as step up
      value:
        name: SSPR Rule
        priority: 1
        status: ACTIVE
        conditions:
          people:
            users:
              exclude: []
          network:
            connection: ANYWHERE
        actions:
          passwordChange:
            access: ALLOW
          selfServicePasswordReset:
            access: ALLOW
            requirement:
              primary:
                methods:
                  - push
                  - sms
              stepUp:
                required: true
          selfServiceUnlock:
            access: ALLOW
        system: false
        type: PASSWORD
    sspr-enabled-no-step-up:
      summary: >-
        Password policy - Self-service password change, reset, or unlock with no
        step up
      value:
        name: SSPR Rule
        priority: 1
        status: ACTIVE
        conditions:
          people:
            users:
              exclude: []
          network:
            connection: ANYWHERE
        actions:
          passwordChange:
            access: ALLOW
          selfServicePasswordReset:
            access: ALLOW
            requirement:
              primary:
                methods:
                  - sms
                  - email
              stepUp:
                required: false
          selfServiceUnlock:
            access: ALLOW
        system: false
        type: PASSWORD
    sspr-enabled-OAMP:
      summary: >-
        Password policy - Self-service password change, reset, or unlock
        requirements defined by Okta account management policy
      value:
        name: SSPR Rule
        priority: 1
        status: ACTIVE
        conditions:
          people:
            users:
              exclude: []
          network:
            connection: ANYWHERE
        actions:
          passwordChange:
            access: ALLOW
          selfServicePasswordReset:
            access: ALLOW
            requirement:
              accessControl: AUTH_POLICY
              primary:
                methods:
                  - sms
                  - email
              stepUp:
                required: false
          selfServiceUnlock:
            access: ALLOW
        system: false
        type: PASSWORD
    twofa-enabled-disallow-password-allow-phishing:
      summary: Authentication policy - 2FA with granular authentication
      value:
        name: Passwordless 2FA
        actions:
          appSignOn:
            access: ALLOW
            verificationMethod:
              factorMode: 2FA
              type: ASSURANCE
              reauthenticateIn: PT0S
              constraints:
                knowledge:
                  excludedAuthenticationMethods:
                    key: okta_password
                possession:
                  deviceBound: REQUIRED
                  phishingREsistant: REQUIRED
        type: ACCESS_POLICY
    create-device-signal-collection-rule:
      x-okta-lifecycle:
        lifecycle: EA
        isGenerallyAvailable: false
        SKUs: []
      summary: >-
        Device signal collection policy - collect context for Okta Verify
        devices
      value:
        name: Device signal collection rule
        actions:
          deviceSignalCollection:
            deviceContextProviders:
              - key: OKTA_VERIFY
                userIdentification: ALLOW
              - key: DEVICE_POSTURE_IDP
                id: 0oa159mE9aOSpCwmr0g4
        type: DEVICE_SIGNAL_COLLECTION
    idp-discovery-specific-routing-rule:
      summary: IdP discovery policy - Routing rule with specific IdP
      value:
        name: Specific routing rule
        priority: 1
        status: ACTIVE
        conditions:
          network:
            connection: ANYWHERE
        actions:
          idp:
            providers:
              - type: GOOGLE
                id: 0oa5ks3WmHLRh8Ivr0g4
            idpSelectionType: SPECIFIC
        system: false
        type: IDP_DISCOVERY
    idp-discovery-dynamic-routing-rule:
      summary: IdP discovery policy - Routing rule with dynamic IdP
      value:
        name: Dynamic routing rule
        priority: 1
        status: ACTIVE
        conditions:
          network:
            connection: ANYWHERE
        actions:
          idp:
            providers: []
            idpSelectionType: DYNAMIC
            matchCriteria:
              - providerExpression: login.identifier.substringAfter('@')
                propertyName: name
        system: false
        type: IDP_DISCOVERY
    create-auth-policy-rule-condition:
      summary: Authentication policy - Create rule with conditions
      value:
        system: false
        type: ACCESS_POLICY
        name: Rule with conditions
        conditions:
          userType:
            include: []
            exclude:
              - otyezu4m0xN6w5JEa1d7
          network:
            connection: ZONE
            exclude:
              - 00u7yq5goxNFTiMjW1d7
          riskScore:
            level: ANY
          people:
            users:
              exclude:
                - 00u7yq5goxNFTiMjW1d7
              include: []
            groups:
              include:
                - 00g9i12jictsYdZdi1d7
              exclude: []
          platform:
            include:
              - type: MOBILE
                os:
                  type: IOS
              - type: MOBILE
                os:
                  type: ANDROID
              - type: DESKTOP
                os:
                  type: MACOS
          elCondition:
            condition: security.risk.level == 'HIGH'
        actions:
          appSignOn:
            access: ALLOW
            verificationMethod:
              factorMode: 2FA
              reauthenticateIn: PT2H
              constraints:
                - knowledge:
                    reauthenticateIn: PT2H
                    types:
                      - password
              type: ASSURANCE
    sign-on-policy-rule:
      summary: Sign-on policy - Rule with factor mode always
      value:
        type: SIGN_ON
        name: Test Sign On
        conditions:
          network:
            connection: ANYWHERE
          riskScore:
            level: ANY
          identityProvider:
            provider: ANY
          authContext:
            authType: ANY
        actions:
          signon:
            requireFactor: false
            factorPromptMode: ALWAYS
            factorLifetime: 15
            access: ALLOW
            session:
              maxSessionIdleMinutes: 720
              maxSessionLifetimeMinutes: 0
              usePersistentCookie: false
            primaryFactor: PASSWORD_IDP_ANY_FACTOR
    skip-factor-challenge-on-prem-rule:
      summary: Global session policy - Skip factor challenge for on-prem sign-in use
      value:
        type: SIGN_ON
        status: ACTIVE
        name: Skip Factor Challenge when On-Prem
        conditions:
          network:
            connection: ZONE
            include:
              - 00u7yq5goxNFTiMjW1d7
          authContext:
            authType: ANY
        actions:
          signon:
            access: ALLOW
            requireFactor: false
            rememberDeviceByDefault: false
            session:
              usePersistentCookie: false
              maxSessionIdleMinutes: 720
              maxSessionLifetimeMinutes: 0
    radius-rule:
      summary: Global session policy - Challenge VPN users with Radius
      value:
        type: SIGN_ON
        status: ACTIVE
        name: Challenge VPN users
        conditions:
          network:
            connection: ANYWHERE
          authContext:
            authType: RADIUS
          people:
            users:
              exclude: []
          risk:
            behaviors: []
          riskScore:
            level: ANY
          identityProvider:
            provider: ANY
        actions:
          signon:
            access: ALLOW
            requireFactor: true
            primaryFactor: PASSWORD_IDP_ANY_FACTOR
            factorPromptMode: ALWAYS
            rememberDeviceByDefault: false
            session:
              usePersistentCookie: false
              maxSessionIdleMinutes: 720
              maxSessionLifetimeMinutes: 0
    cloud-rule:
      summary: Global session policy - Challenge cloud users
      value:
        type: SIGN_ON
        name: Challenge Cloud Users
        conditions:
          people:
            users:
              include: []
              exclude: []
            groups:
              include: []
              exclude: []
          network:
            connection: ZONE
            include:
              - 00u7yq5goxNFTiMjW1d7
          authContext:
            authType: ANY
        actions:
          signon:
            access: ALLOW
            requireFactor: true
            factorPromptMode: ALWAYS
            rememberDeviceByDefault: false
            session:
              usePersistentCookie: false
              maxSessionIdleMinutes: 720
              maxSessionLifetimeMinutes: 0
    deny-rule:
      summary: Global session policy - Deny users
      value:
        type: SIGN_ON
        name: Deny users
        conditions:
          network:
            connection: ANYWHERE
          authContext:
            authType: ANY
        actions:
          signon:
            access: DENY
            requireFactor: false
    twofa-enabled-post-auth-kmsi-enabled:
      x-okta-lifecycle:
        lifecycle: LIMITED_GA
        isGenerallyAvailable: false
        SKUs:
          - Okta Identity Engine
      summary: >-
        Authentication policy - 2FA with granular authentication with Keep Me
        Signed In (KMSI) enabled
      value:
        name: 2FA with Post Auth KMSI prompt enabled
        actions:
          appSignOn:
            access: ALLOW
            verificationMethod:
              factorMode: 2FA
              type: ASSURANCE
              reauthenticateIn: PT2H
              constraints:
                knowledge:
                  excludedAuthenticationMethods:
                    key: okta_password
            keepMeSignedIn:
              postAuth: ALLOWED
              postAuthPromptFrequency: P30D
    twofa-enabled-post-auth-kmsi-disabled:
      x-okta-lifecycle:
        lifecycle: LIMITED_GA
        isGenerallyAvailable: false
        SKUs:
          - Okta Identity Engine
      summary: >-
        Authentication policy - 2FA with granular authentication with Keep Me
        Signed In (KMSI) disabled
      value:
        name: 2FA with Post Auth KMSI prompt disabled
        actions:
          appSignOn:
            access: ALLOW
            verificationMethod:
              factorMode: 2FA
              type: ASSURANCE
              reauthenticateIn: PT2H
              constraints:
                knowledge:
                  excludedAuthenticationMethods:
                    key: okta_password
            keepMeSignedIn:
              postAuth: NOT_ALLOWED
        type: ACCESS_POLICY
    amc-two-chain:
      summary: Authentication policy - Allow two authentication method chains
      value:
        name: Allow two authentication method chains
        actions:
          appSignOn:
            access: ALLOW
            verificationMethod:
              type: AUTH_METHOD_CHAIN
              chains:
                - authenticationMethods:
                    - key: okta_password
                      method: password
                  next:
                    - authenticationMethods:
                        - key: phone_number
                          method: sms
                - authenticationMethods:
                    - key: okta_verify
                      method: signed_nonce
                      userVerification: REQUIRED
        type: ACCESS_POLICY
        _links:
          self:
            href: >-
              https://{yourOktaDomain}/api/v1/policies/rst7xus97faIAgmti1d7/rules/rul7yut96gmsOzKAA1d6
            hints:
              allow:
                - GET
                - PUT
          deactivate:
            href: >-
              https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}/lifecycle/deactivate
            hints:
              allow:
                - POST
    sspr-enabled-sso-step-up-with-constraints:
      summary: >-
        Password policy - Enable self-service password change, reset, or unlock
        with OTP enabled and Google Authenticator constraint
      value:
        id: ruleId
        name: SSPR Rule
        priority: 1
        status: ACTIVE
        conditions:
          people:
            users:
              exclude: []
          network:
            connection: ANYWHERE
        actions:
          passwordChange:
            access: ALLOW
          selfServicePasswordReset:
            access: ALLOW
            requirement:
              primary:
                methods:
                  - push
                  - sms
                  - otp
                methodConstraints:
                  - method: otp
                    allowedAuthenticators:
                      - key: google_otp
              stepUp:
                required: true
          selfServiceUnlock:
            access: ALLOW
        system: false
        type: PASSWORD
    oamp-id-proofing-policy-rule:
      summary: >-
        Account Management Policy - Account management policy rule with ID
        proofing enabled
      value:
        id: ruleId
        name: Account Management Policy Rule
        priority: 1
        status: ACTIVE
        conditions:
          people:
            users:
              exclude: []
          network:
            connection: ANYWHERE
        actions:
          appSignOn:
            access: ALLOW
            verificationMethod:
              id: entity_id
              type: ID_PROOFING
    sspr-enabled-sq-step-up-response:
      summary: >-
        Password policy - Self-service password change, reset, or unlock with
        security question as step up
      value:
        id: ruleId
        _links:
          self:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}
            hints:
              allow:
                - GET
                - PUT
                - DELETE
          deactivate:
            href: >-
              https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}/lifecycle/deactivate
            hints:
              allow:
                - POST
        name: SSPR Rule
        priority: 1
        status: ACTIVE
        conditions:
          people:
            users:
              exclude: []
          network:
            connection: ANYWHERE
        actions:
          passwordChange:
            access: ALLOW
          selfServicePasswordReset:
            access: ALLOW
            requirement:
              primary:
                methods:
                  - push
                  - sms
              stepUp:
                required: true
                methods:
                  - security_question
          selfServiceUnlock:
            access: ALLOW
        system: false
        type: PASSWORD
    sspr-enabled-sso-step-up-response:
      summary: Password policy - SSPR with any SSO authenticator as step up
      value:
        id: ruleId
        _links:
          self:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}
            hints:
              allow:
                - GET
                - PUT
                - DELETE
          deactivate:
            href: >-
              https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}/lifecycle/deactivate
            hints:
              allow:
                - POST
        name: SSPR Rule
        priority: 1
        status: ACTIVE
        conditions:
          people:
            users:
              exclude: []
          network:
            connection: ANYWHERE
        actions:
          passwordChange:
            access: ALLOW
          selfServicePasswordReset:
            access: ALLOW
            requirement:
              primary:
                methods:
                  - push
                  - sms
              stepUp:
                required: true
          selfServiceUnlock:
            access: ALLOW
        system: false
        type: PASSWORD
    sspr-enabled-no-step-up-response:
      summary: >-
        Password policy - Self-service password change, reset, or unlock with no
        step up
      value:
        id: ruleId
        _links:
          self:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}
            hints:
              allow:
                - GET
                - PUT
                - DELETE
          deactivate:
            href: >-
              https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}/lifecycle/deactivate
            hints:
              allow:
                - POST
        name: SSPR Rule
        priority: 1
        status: ACTIVE
        conditions:
          people:
            users:
              exclude: []
          network:
            connection: ANYWHERE
        actions:
          passwordChange:
            access: ALLOW
          selfServicePasswordReset:
            access: ALLOW
            requirement:
              primary:
                methods:
                  - sms
                  - email
              stepUp:
                required: false
          selfServiceUnlock:
            access: ALLOW
        system: false
        type: PASSWORD
    sspr-enabled-OAMP-response:
      summary: >-
        Password policy - Self-service password change, reset, or unlock
        requirements defined by Okta account management policy
      value:
        id: ruleId
        _links:
          self:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}
            hints:
              allow:
                - GET
                - PUT
                - DELETE
          deactivate:
            href: >-
              https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}/lifecycle/deactivate
            hints:
              allow:
                - POST
        name: SSPR Rule
        priority: 1
        status: ACTIVE
        conditions:
          people:
            users:
              exclude: []
          network:
            connection: ANYWHERE
        actions:
          passwordChange:
            access: ALLOW
          selfServicePasswordReset:
            access: ALLOW
            requirement:
              accessControl: AUTH_POLICY
              primary:
                methods:
                  - sms
                  - email
              stepUp:
                required: false
          selfServiceUnlock:
            access: ALLOW
        system: false
        type: PASSWORD
    twofa-enabled-disallow-password-allow-phishing-response:
      summary: Authentication policy - 2FA with granular authentication
      value:
        id: rul7yut96gmsOzKAA1d6
        status: ACTIVE
        name: Passwordless 2FA
        priority: 0
        created: '2023-05-01T21:13:15.000Z'
        lastUpdated: '2023-05-01T21:13:15.000Z'
        system: false
        conditions: null
        actions:
          appSignOn:
            access: ALLOW
            verificationMethod:
              factorMode: 2FA
              type: ASSURANCE
              reauthenticateIn: PT0S
              constraints:
                knowledge:
                  excludedAuthenticationMethods:
                    key: okta_password
                  required: false
                possession:
                  deviceBound: REQUIRED
                  phishingREsistant: REQUIRED
                  required: true
        type: ACCESS_POLICY
        _links:
          self:
            href: >-
              https://{yourOktaDomain}/api/v1/policies/rst7xus97faIAgmti1d7/rules/rul7yut96gmsOzKAA1d6
            hints:
              allow:
                - GET
                - PUT
    idp-discovery-specific-routing-rule-response:
      summary: IdP discovery policy - Routing rule with specific IdP
      value:
        id: ruleId
        _links:
          self:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}
            hints:
              allow:
                - GET
                - PUT
                - DELETE
          deactivate:
            href: >-
              https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}/lifecycle/deactivate
            hints:
              allow:
                - POST
        name: Specific routing rule
        priority: 1
        status: ACTIVE
        conditions:
          network:
            connection: ANYWHERE
        actions:
          idp:
            providers:
              - type: GOOGLE
                id: 0oa5ks3WmHLRh8Ivr0g4
            idpSelectionType: SPECIFIC
        system: false
        type: IDP_DISCOVERY
    idp-discovery-dynamic-routing-rule-response:
      summary: IdP discovery policy - Routing rule with dynamic IdP
      value:
        id: ruleId
        _links:
          self:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}
            hints:
              allow:
                - GET
                - PUT
                - DELETE
          deactivate:
            href: >-
              https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}/lifecycle/deactivate
            hints:
              allow:
                - POST
        name: Dynamic routing rule
        priority: 1
        status: ACTIVE
        conditions:
          network:
            connection: ANYWHERE
        actions:
          idp:
            providers: []
            idpSelectionType: DYNAMIC
            matchCriteria:
              - providerExpression: login.identifier.substringAfter('@')
                propertyName: name
        system: false
        type: IDP_DISCOVERY
    device-signal-collection-rule-response:
      x-okta-lifecycle:
        lifecycle: EA
        isGenerallyAvailable: false
        SKUs: []
      summary: >-
        Device signal collection policy - collect context for Okta Verify
        devices
      value:
        id: rul7yut96gmsOzKAA1d6
        status: ACTIVE
        name: Device signal collection rule
        priority: 0
        created: '2023-05-01T21:13:15.000Z'
        lastUpdated: '2023-05-01T21:13:15.000Z'
        system: false
        conditions: null
        actions:
          deviceSignalCollection:
            deviceContextProviders:
              - key: OKTA_VERIFY
                userIdentification: IGNORE
              - key: DEVICE_POSTURE_IDP
                id: 0oa159mE9aOSpCwmr0g4
        type: DEVICE_SIGNAL_COLLECTION
        _links:
          self:
            href: >-
              https://{yourOktaDomain}/api/v1/policies/rst7xus97faIAgmti1d7/rules/rul7yut96gmsOzKAA1d6
            hints:
              allow:
                - GET
                - PUT
    create-auth-policy-rule-condition-response:
      summary: Authentication policy - Policy rule with conditions
      value:
        id: rule8jjozjGMGbHyC1d6
        status: ACTIVE
        name: Rule with conditions
        priority: 0
        created: '2024-04-25T17:35:02.000Z'
        lastUpdated: '2024-04-25T17:35:02.000Z'
        system: false
        conditions:
          people:
            users:
              exclude:
                - 00u7yq5goxNFTiMjW1d7
            groups:
              include:
                - 00g9i12jictsYdZdi1d7
          network:
            connection: ZONE
            exclude:
              - nzo9o4rctwQCJNE6y1d7
          platform:
            include:
              - type: MOBILE
                os:
                  type: IOS
              - type: MOBILE
                os:
                  type: ANDROID
              - type: DESKTOP
                os:
                  type: MACOS
            exclude: []
          riskScore:
            level: ANY
          userType:
            include: []
            exclude:
              - otyezu4m0xN6w5JEa1d7
          elCondition:
            condition: security.risk.level == 'HIGH'
        actions:
          appSignOn:
            access: ALLOW
            verificationMethod:
              factorMode: 2FA
              type: ASSURANCE
              reauthenticateIn: PT2H
              constraints:
                knowledge:
                  required: true
                  types:
                    - password
                  reauthenticateIn: PT2H
        type: ACCESS_POLICY
        _links:
          self:
            href: >-
              https://{yourOktaDomain}/api/v1/policies/rst7xus97faIAgmti1d7/rules/rul7yut96gmsOzKAA1d6
            hints:
              allow:
                - GET
                - PUT
                - DELETE
          deactivate:
            href: >-
              https://{yourOktaDomain}/api/v1/policies/rst7xus97faIAgmti1d7/rules/rul7yut96gmsOzKAA1d6
            hints:
              allow:
                - GET
                - PUT
                - DELETE
    sign-on-policy-rule-response:
      summary: Sign-on policy - Rule with factor mode always
      value:
        type: SIGN_ON
        name: Test Sign On
        id: 0prh1sd28q5sXGW08697
        priority: 0
        created: '2024-04-25T17:35:02.000Z'
        lastUpdated: '2024-04-25T17:35:02.000Z'
        system: false
        status: ACTIVE
        conditions:
          network:
            connection: ANYWHERE
          riskScore:
            level: ANY
          identityProvider:
            provider: ANY
          authContext:
            authType: ANY
          people:
            users:
              exclude: []
        actions:
          signon:
            requireFactor: false
            factorPromptMode: ALWAYS
            factorLifetime: 15
            access: ALLOW
            session:
              maxSessionIdleMinutes: 720
              maxSessionLifetimeMinutes: 0
              usePersistentCookie: false
            primaryFactor: PASSWORD_IDP_ANY_FACTOR
        _links:
          self:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}
            hints:
              allow:
                - GET
                - PUT
                - DELETE
          deactivate:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}
            hints:
              allow:
                - GET
                - PUT
                - DELETE
    skip-factor-challenge-on-prem-rule-response:
      summary: Global session policy - Skip factor challenge for on-prem sign-in use
      value:
        id: rule8jjozjGMGbHyC1d6
        status: ACTIVE
        name: Skip Factor Challenge when On-Prem
        priority: 0
        created: '2024-04-25T17:35:02.000Z'
        lastUpdated: '2024-04-25T17:35:02.000Z'
        system: false
        conditions:
          network:
            connection: ZONE
            include:
              - 00u7yq5goxNFTiMjW1d7
          authContext:
            authType: ANY
          people:
            users:
              exclude: []
          risk:
            behaviors: []
          riskScore:
            level: ANY
          identityProvider:
            provider: ANY
        actions:
          signon:
            access: ALLOW
            requireFactor: false
            primaryFactor: PASSWORD_IDP_ANY_FACTOR
            rememberDeviceByDefault: false
            session:
              usePersistentCookie: false
              maxSessionIdleMinutes: 720
              maxSessionLifetimeMinutes: 0
        type: SIGN_ON
        _links:
          self:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}
            hints:
              allow:
                - GET
                - PUT
                - DELETE
          deactivate:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}
            hints:
              allow:
                - GET
                - PUT
                - DELETE
    radius-rule-response:
      summary: Global session policy - Challenge VPN users with Radius
      value:
        id: rule8jjozjGMGbHyC1d6
        status: ACTIVE
        type: SIGN_ON
        name: Challenge VPN users
        priority: 0
        created: '2024-04-25T17:35:02.000Z'
        lastUpdated: '2024-04-25T17:35:02.000Z'
        system: false
        conditions:
          network:
            connection: ANYWHERE
          authContext:
            authType: RADIUS
        actions:
          signon:
            access: ALLOW
            requireFactor: true
            factorPromptMode: ALWAYS
            rememberDeviceByDefault: false
            session:
              usePersistentCookie: false
              maxSessionIdleMinutes: 720
              maxSessionLifetimeMinutes: 0
        _links:
          self:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}
            hints:
              allow:
                - GET
                - PUT
                - DELETE
          deactivate:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}
            hints:
              allow:
                - GET
                - PUT
                - DELETE
    cloud-rule-response:
      summary: Global session policy - Challenge cloud users
      value:
        id: rule8jjozjGMGbHyC1d6
        status: ACTIVE
        type: SIGN_ON
        name: Challenge Cloud Users
        priority: 0
        created: '2024-04-25T17:35:02.000Z'
        lastUpdated: '2024-04-25T17:35:02.000Z'
        system: false
        conditions:
          people:
            users:
              include: []
              exclude: []
            groups:
              include: []
              exclude: []
          network:
            connection: ZONE
            include:
              - 00u7yq5goxNFTiMjW1d7
          authContext:
            authType: ANY
          risk:
            behaviors: []
          riskScore:
            level: ANY
          identityProvider:
            provider: ANY
        actions:
          signon:
            access: ALLOW
            requireFactor: true
            primaryFactor: PASSWORD_IDP_ANY_FACTOR
            factorPromptMode: ALWAYS
            rememberDeviceByDefault: false
            session:
              usePersistentCookie: false
              maxSessionIdleMinutes: 720
              maxSessionLifetimeMinutes: 0
        _links:
          self:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}
            hints:
              allow:
                - GET
                - PUT
                - DELETE
          deactivate:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}
            hints:
              allow:
                - GET
                - PUT
                - DELETE
    deny-rule-response:
      summary: Global session policy - Deny users
      value:
        id: rule8jjozjGMGbHyC1d6
        status: ACTIVE
        type: SIGN_ON
        name: Deny
        priority: 0
        created: '2024-04-25T17:35:02.000Z'
        lastUpdated: '2024-04-25T17:35:02.000Z'
        system: false
        conditions:
          people:
            users:
              exclude: []
          network:
            connection: ANYWHERE
          authContext:
            authType: ANY
          risk:
            behaviors: []
          riskScore:
            level: ANY
          identityProvider:
            provider: ANY
        actions:
          signon:
            access: DENY
            requireFactor: false
            primaryFactor: PASSWORD_IDP
            rememberDeviceByDefault: false
            session:
              usePersistentCookie: false
              maxSessionIdleMinutes: 120
              maxSessionLifetimeMinutes: 0
        _links:
          self:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}
            hints:
              allow:
                - GET
                - PUT
                - DELETE
          deactivate:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}
            hints:
              allow:
                - GET
                - PUT
                - DELETE
    twofa-enabled-post-auth-kmsi-enabled-response:
      x-okta-lifecycle:
        lifecycle: LIMITED_GA
        isGenerallyAvailable: false
        SKUs:
          - Okta Identity Engine
      summary: >-
        Authentication policy - 2FA with granular authentication with Keep Me
        Signed In (KMSI) enabled
      value:
        id: rul7yut96gmsOzKAA1d6
        status: ACTIVE
        name: 2FA with Post Auth KMSI prompt enabled
        priority: 0
        created: '2023-05-01T21:13:15.000Z'
        lastUpdated: '2023-05-01T21:13:15.000Z'
        system: false
        conditions: null
        actions:
          appSignOn:
            access: ALLOW
            verificationMethod:
              factorMode: 2FA
              type: ASSURANCE
              reauthenticateIn: PT0S
              constraints:
                knowledge:
                  excludedAuthenticationMethods:
                    key: okta_password
                  required: true
            keepMeSignedIn:
              postAuth: ALLOWED
              postAuthPromptFrequency: PT720H
        type: ACCESS_POLICY
        _links:
          self:
            href: >-
              https://{yourOktaDomain}/api/v1/policies/rst7xus97faIAgmti1d7/rules/rul7yut96gmsOzKAA1d6
            hints:
              allow:
                - GET
                - PUT
          deactivate:
            href: >-
              https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}/lifecycle/deactivate
            hints:
              allow:
                - POST
    twofa-enabled-post-auth-kmsi-disabled-response:
      x-okta-lifecycle:
        lifecycle: LIMITED_GA
        isGenerallyAvailable: false
        SKUs:
          - Okta Identity Engine
      summary: >-
        Authentication policy - 2FA with granular authentication with Keep Me
        Signed In (KMSI) disabled
      value:
        id: rul7yut96gmsOzKAA1d6
        status: ACTIVE
        name: 2FA with Post Auth KMSI prompt disabled
        priority: 0
        created: '2023-05-01T21:13:15.000Z'
        lastUpdated: '2023-05-01T21:13:15.000Z'
        system: false
        conditions: null
        actions:
          appSignOn:
            access: ALLOW
            verificationMethod:
              factorMode: 2FA
              type: ASSURANCE
              reauthenticateIn: PT0S
              constraints:
                knowledge:
                  excludedAuthenticationMethods:
                    key: okta_password
                  required: true
            keepMeSignedIn:
              postAuth: NOT_ALLOWED
        type: ACCESS_POLICY
        _links:
          self:
            href: >-
              https://{yourOktaDomain}/api/v1/policies/rst7xus97faIAgmti1d7/rules/rul7yut96gmsOzKAA1d6
            hints:
              allow:
                - GET
                - PUT
          deactivate:
            href: >-
              https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}/lifecycle/deactivate
            hints:
              allow:
                - POST
    sspr-enabled-sso-step-up-with-constraints-response:
      summary: >-
        Password policy - Enable self-service password change, reset, or unlock
        with OTP enabled and Google Authenticator constraint
      value:
        id: ruleId
        _links:
          self:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}
            hints:
              allow:
                - GET
                - PUT
                - DELETE
          deactivate:
            href: >-
              https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}/lifecycle/deactivate
            hints:
              allow:
                - POST
        name: SSPR Rule
        priority: 1
        status: ACTIVE
        conditions:
          people:
            users:
              exclude: []
          network:
            connection: ANYWHERE
        actions:
          passwordChange:
            access: ALLOW
          selfServicePasswordReset:
            access: ALLOW
            requirement:
              primary:
                methods:
                  - push
                  - sms
                  - otp
                methodConstraints:
                  - method: otp
                    allowedAuthenticators:
                      - key: google_otp
              stepUp:
                required: true
          selfServiceUnlock:
            access: ALLOW
        system: false
        type: PASSWORD
    oamp-id-proofing-policy-rule-response:
      summary: >-
        Account Management Policy - Account management policy rule with ID
        proofing enabled
      value:
        id: ruleId
        _links:
          self:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}
            hints:
              allow:
                - GET
                - PUT
                - DELETE
          deactivate:
            href: >-
              https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}/lifecycle/deactivate
            hints:
              allow:
                - POST
        name: Account Management Policy Rule
        priority: 1
        status: ACTIVE
        conditions:
          people:
            users:
              exclude: []
          network:
            connection: ANYWHERE
        actions:
          appSignOn:
            access: ALLOW
            verificationMethod:
              id: entity_id
              type: ID_PROOFING
    sspr-enabled-sq-step-up-update:
      summary: >-
        Password policy - Self-service password change, reset, or unlock with
        security question as step up
      value:
        id: ruleId
        name: SSPR Rule
        priority: 1
        status: ACTIVE
        conditions:
          people:
            users:
              exclude: []
          network:
            connection: ANYWHERE
        actions:
          passwordChange:
            access: ALLOW
          selfServicePasswordReset:
            access: ALLOW
            requirement:
              primary:
                methods:
                  - push
                  - sms
              stepUp:
                required: true
                methods:
                  - security_question
          selfServiceUnlock:
            access: ALLOW
        system: false
        type: PASSWORD
    sspr-enabled-sso-step-up-update:
      summary: >-
        Password policy - Self-service password change, reset, or unlock with
        any SSO authenticator as step up
      value:
        id: ruleId
        name: SSPR Rule
        priority: 1
        status: ACTIVE
        conditions:
          people:
            users:
              exclude: []
          network:
            connection: ANYWHERE
        actions:
          passwordChange:
            access: ALLOW
          selfServicePasswordReset:
            access: ALLOW
            requirement:
              primary:
                methods:
                  - push
                  - sms
              stepUp:
                required: true
          selfServiceUnlock:
            access: ALLOW
        system: false
        type: PASSWORD
    sspr-enabled-no-step-up-update:
      summary: >-
        Password policy - Self-service password change, reset, or unlock with no
        step up
      value:
        id: ruleId
        name: SSPR Rule
        priority: 1
        status: ACTIVE
        conditions:
          people:
            users:
              exclude: []
          network:
            connection: ANYWHERE
        actions:
          passwordChange:
            access: ALLOW
          selfServicePasswordReset:
            access: ALLOW
            requirement:
              primary:
                methods:
                  - sms
                  - email
              stepUp:
                required: false
          selfServiceUnlock:
            access: ALLOW
        system: false
        type: PASSWORD
    sspr-enabled-OAMP-update:
      summary: >-
        Password policy - Self-service password change, reset, or unlock
        requirements defined by Okta account management policy
      value:
        id: ruleId
        name: SSPR Rule
        priority: 1
        status: ACTIVE
        conditions:
          people:
            users:
              exclude: []
          network:
            connection: ANYWHERE
        actions:
          passwordChange:
            access: ALLOW
          selfServicePasswordReset:
            access: ALLOW
            requirement:
              accessControl: AUTH_POLICY
              primary:
                methods:
                  - sms
                  - email
              stepUp:
                required: false
          selfServiceUnlock:
            access: ALLOW
        system: false
        type: PASSWORD
    update-auth-policy-rule-condition-response:
      summary: Authentication policy - Rule with conditions
      value:
        id: rulezuo73ySrHndLb1d7
        status: ACTIVE
        name: Rule with conditions - exclude a group
        priority: 0
        created: '2024-04-25T17:35:02.000Z'
        lastUpdated: '2024-04-25T17:35:02.000Z'
        system: false
        conditions:
          people:
            users:
              exclude: []
            groups:
              exclude:
                - 00u7yq5goxNFTiMjW1d7
          network:
            connection: ZONE
            exclude:
              - nzo9o4rctwQCJNE6y1d7
          platform:
            include:
              - type: MOBILE
                os:
                  type: IOS
              - type: MOBILE
                os:
                  type: ANDROID
              - type: DESKTOP
                os:
                  type: MACOS
            exclude: []
          riskScore:
            level: ANY
          userType:
            include: []
            exclude:
              - otyezu4m0xN6w5JEa1d7
          elCondition:
            condition: security.risk.level == 'HIGH'
        actions:
          appSignOn:
            access: ALLOW
            verificationMethod:
              factorMode: 2FA
              type: ASSURANCE
              reauthenticateIn: PT2H
              constraints:
                knowledge:
                  required: true
                  types:
                    - password
                  reauthenticateIn: PT2H
          type: ACCESS_POLICY
          _links:
            self:
              href: >-
                https://{yourOktaDomain}/api/v1/policies/rst7xus97faIAgmti1d7/rules/rul7yut96gmsOzKAA1d6
              hints:
                allow:
                  - GET
                  - PUT
                  - DELETE
            deactivate:
              href: >-
                https://{yourOktaDomain}/api/v1/policies/rst7xus97faIAgmti1d7/rules/rul7yut96gmsOzKAA1d6
              hints:
                allow:
                  - GET
                  - PUT
                  - DELETE
    sspr-enabled-sso-step-up-with-constraints-update:
      summary: >-
        Password policy - Enable self-service password change, reset, or unlock
        with OTP enabled and Google Authenticator constraint
      value:
        id: ruleId
        name: SSPR Rule
        priority: 1
        status: ACTIVE
        conditions:
          people:
            users:
              exclude: []
          network:
            connection: ANYWHERE
        actions:
          passwordChange:
            access: ALLOW
          selfServicePasswordReset:
            access: ALLOW
            requirement:
              primary:
                methods:
                  - push
                  - sms
                  - otp
                methodConstraints:
                  - method: otp
                    allowedAuthenticators:
                      - key: google_otp
              stepUp:
                required: true
          selfServiceUnlock:
            access: ALLOW
        system: false
        type: PASSWORD
    update-auth-policy-rule-condition:
      summary: Authentication policy - Rule with conditions
      value:
        type: ACCESS_POLICY
        name: Rule with conditions - exclude a group
        description: Updated policy rule
        conditions:
          userType:
            include: []
            exclude:
              - otyezu4m0xN6w5JEa1d7
          network:
            connection: ZONE
            exclude:
              - nzo9o4rctwQCJNE6y1d7
          riskScore:
            level: ANY
          people:
            users:
              exclude:
                - 00u7yq5goxNFTiMjW1d7
              include: []
            groups:
              include: []
              exclude:
                - 00g8vta8qzkxPEfKC1d7
          platform:
            include:
              - type: MOBILE
                os:
                  type: IOS
              - type: MOBILE
                os:
                  type: ANDROID
              - type: DESKTOP
                os:
                  type: MACOS
          elCondition:
            condition: security.risk.level == 'HIGH'
    update-identifiers-in-user-profile-policy:
      summary: User profile policy - Configure multiple identifiers
      value:
        type: PROFILE_ENROLLMENT,
        id: rulgu3bb4oWR7qbMi1d7,
        status: ACTIVE,
        name: Test Rule,
        priority: 99,
        system: true,
        conditions: null,
        actions:
          profileEnrollment:
            access: ALLOW
            preRegistrationInlineHooks: null
            profileAttributes:
              - name: email
                label: Email
                required: true
              - name: firstName
                label: First name
                required: true
              - name: lastName
                label: Last name
                required: true
            targetGroupIds: null
            unknownUserAction: DENY
            activationRequirements:
              emailVerification: true
            uiSchemaId: uisgu3bb4zTbvwD8S1d7
            progressiveProfilingAction: DISABLED
            allowedIdentifiers:
              - login
              - customAttribute
    update-device-signal-collection-rule:
      x-okta-lifecycle:
        lifecycle: EA
        isGenerallyAvailable: false
        SKUs: []
      summary: >-
        Device signal collection policy - disallow Okta Verify from identifying
        users
      value:
        name: Device signal collection rule
        actions:
          deviceSignalCollection:
            deviceContextProviders:
              - key: OKTA_VERIFY
                userIdentification: IGNORE
              - key: DEVICE_POSTURE_IDP
                id: 0oa159mE9aOSpCwmr0g4
        type: DEVICE_SIGNAL_COLLECTION
    update-identifiers-in-user-profile-policy-response:
      summary: User profile policy - Configure multiple identifiers
      value:
        type: PROFILE_ENROLLMENT,
        id: rulgu3bb4oWR7qbMi1d7,
        status: ACTIVE,
        name: Test Rule,
        priority: 99,
        system: true,
        conditions: null,
        _links:
          self:
            href: https://{yourOktaDomain}/api/v1/policies/{policyId}/rules/{ruleId}
            hints:
              allow:
                - GET
                - PUT
        actions:
          profileEnrollment:
            access: ALLOW
            preRegistrationInlineHooks: null
            profileAttributes:
              - name: email
                label: Email
                required: true
              - name: firstName
                label: First name
                required: true
              - name: lastName
                label: Last name
                required: true
            targetGroupIds: null
            unknownUserAction: DENY
            activationRequirements:
              emailVerification: true
            uiSchemaId: uisgu3bb4zTbvwD8S1d7
            progressiveProfilingAction: DISABLED
            allowedIdentifiers:
              - login
              - customAttribute
    update-device-signal-collection-rule-response:
      x-okta-lifecycle:
        lifecycle: EA
        isGenerallyAvailable: false
        SKUs: []
      summary: >-
        Device signal collection policy - collect context for Okta Verify
        devices
      value:
        id: rul7yut96gmsOzKAA1d6
        status: ACTIVE
        name: Device signal collection rule
        priority: 0
        created: '2023-05-01T21:13:15.000Z'
        lastUpdated: '2023-05-01T21:13:15.000Z'
        system: false
        conditions: null
        actions:
          deviceSignalCollection:
            deviceContextProviders:
              - key: OKTA_VERIFY
                userIdentification: IGNORE
              - key: DEVICE_POSTURE_IDP
                id: 0oa159mE9aOSpCwmr0g4
        type: DEVICE_SIGNAL_COLLECTION
        _links:
          self:
            href: >-
              https://{yourOktaDomain}/api/v1/policies/rst7xus97faIAgmti1d7/rules/rul7yut96gmsOzKAA1d6
            hints:
              allow:
                - GET
                - PUT
    ErrorAccessDenied:
      summary: Access Denied
      value:
        errorCode: E0000006
        errorSummary: You do not have permission to perform the requested action
        errorLink: E0000006
        errorId: sampleNUSD_8fdkFd8fs8SDBK
        errorCauses: []
    ErrorTooManyRequests:
      summary: Too Many Requests
      value:
        errorCode: E0000047
        errorSummary: API call exceeded rate limit due to too many requests.
        errorLink: E0000047
        errorId: sampleQPivGUj_ND5v78vbYWW
        errorCauses: []
    ErrorApiValidationFailed:
      summary: API Validation Failed
      value:
        errorCode: E0000001
        errorSummary: 'Api validation failed: {0}'
        errorLink: E0000001
        errorId: sampleiCF-8D5rLW6myqiPItW
        errorCauses: []
    ErrorResourceNotFound:
      summary: Resource Not Found
      value:
        errorCode: E0000007
        errorSummary: 'Not found: {0}'
        errorLink: E0000007
        errorId: sampleMlLvGUj_YD5v16vkYWY
        errorCauses: []
  x-stackQL-resources:
    policies:
      id: okta.policies.policies
      name: policies
      title: Policies
      methods:
        list_policies:
          operation:
            $ref: '#/paths/~1api~1v1~1policies/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        create_policy:
          operation:
            $ref: '#/paths/~1api~1v1~1policies/post'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        create_policy_simulation:
          operation:
            $ref: '#/paths/~1api~1v1~1policies~1simulate/post'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        get_policy:
          operation:
            $ref: '#/paths/~1api~1v1~1policies~1{policyId}/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        replace_policy:
          operation:
            $ref: '#/paths/~1api~1v1~1policies~1{policyId}/put'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        delete_policy:
          operation:
            $ref: '#/paths/~1api~1v1~1policies~1{policyId}/delete'
          response:
            mediaType: ''
            openAPIDocKey: '204'
        clone_policy:
          operation:
            $ref: '#/paths/~1api~1v1~1policies~1{policyId}~1clone/post'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        activate_policy:
          operation:
            $ref: '#/paths/~1api~1v1~1policies~1{policyId}~1lifecycle~1activate/post'
          response:
            mediaType: ''
            openAPIDocKey: '204'
        deactivate_policy:
          operation:
            $ref: >-
              #/paths/~1api~1v1~1policies~1{policyId}~1lifecycle~1deactivate/post
          response:
            mediaType: ''
            openAPIDocKey: '204'
      sqlVerbs:
        select:
          - $ref: '#/components/x-stackQL-resources/policies/methods/list_policies'
          - $ref: '#/components/x-stackQL-resources/policies/methods/get_policy'
        insert:
          - $ref: '#/components/x-stackQL-resources/policies/methods/create_policy'
        update: []
        delete:
          - $ref: '#/components/x-stackQL-resources/policies/methods/delete_policy'
        replace:
          - $ref: '#/components/x-stackQL-resources/policies/methods/replace_policy'
    policy_apps:
      id: okta.policies.policy_apps
      name: policy_apps
      title: Policy Apps
      methods:
        list_policy_apps:
          operation:
            $ref: '#/paths/~1api~1v1~1policies~1{policyId}~1app/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
          - $ref: >-
              #/components/x-stackQL-resources/policy_apps/methods/list_policy_apps
        insert: []
        update: []
        delete: []
        replace: []
    policy_mappings:
      id: okta.policies.policy_mappings
      name: policy_mappings
      title: Policy Mappings
      methods:
        list_policy_mappings:
          operation:
            $ref: '#/paths/~1api~1v1~1policies~1{policyId}~1mappings/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        map_resource_to_policy:
          operation:
            $ref: '#/paths/~1api~1v1~1policies~1{policyId}~1mappings/post'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        get_policy_mapping:
          operation:
            $ref: '#/paths/~1api~1v1~1policies~1{policyId}~1mappings~1{mappingId}/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        delete_policy_resource_mapping:
          operation:
            $ref: >-
              #/paths/~1api~1v1~1policies~1{policyId}~1mappings~1{mappingId}/delete
          response:
            mediaType: ''
            openAPIDocKey: '204'
      sqlVerbs:
        select:
          - $ref: >-
              #/components/x-stackQL-resources/policy_mappings/methods/list_policy_mappings
          - $ref: >-
              #/components/x-stackQL-resources/policy_mappings/methods/get_policy_mapping
        insert: []
        update: []
        delete:
          - $ref: >-
              #/components/x-stackQL-resources/policy_mappings/methods/delete_policy_resource_mapping
        replace: []
    policy_rules:
      id: okta.policies.policy_rules
      name: policy_rules
      title: Policy Rules
      methods:
        list_policy_rules:
          operation:
            $ref: '#/paths/~1api~1v1~1policies~1{policyId}~1rules/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        create_policy_rule:
          operation:
            $ref: '#/paths/~1api~1v1~1policies~1{policyId}~1rules/post'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        get_policy_rule:
          operation:
            $ref: '#/paths/~1api~1v1~1policies~1{policyId}~1rules~1{ruleId}/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        replace_policy_rule:
          operation:
            $ref: '#/paths/~1api~1v1~1policies~1{policyId}~1rules~1{ruleId}/put'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        delete_policy_rule:
          operation:
            $ref: '#/paths/~1api~1v1~1policies~1{policyId}~1rules~1{ruleId}/delete'
          response:
            mediaType: ''
            openAPIDocKey: '204'
        activate_policy_rule:
          operation:
            $ref: >-
              #/paths/~1api~1v1~1policies~1{policyId}~1rules~1{ruleId}~1lifecycle~1activate/post
          response:
            mediaType: ''
            openAPIDocKey: '204'
        deactivate_policy_rule:
          operation:
            $ref: >-
              #/paths/~1api~1v1~1policies~1{policyId}~1rules~1{ruleId}~1lifecycle~1deactivate/post
          response:
            mediaType: ''
            openAPIDocKey: '204'
      sqlVerbs:
        select:
          - $ref: >-
              #/components/x-stackQL-resources/policy_rules/methods/list_policy_rules
          - $ref: >-
              #/components/x-stackQL-resources/policy_rules/methods/get_policy_rule
        insert:
          - $ref: >-
              #/components/x-stackQL-resources/policy_rules/methods/create_policy_rule
        update: []
        delete:
          - $ref: >-
              #/components/x-stackQL-resources/policy_rules/methods/delete_policy_rule
        replace:
          - $ref: >-
              #/components/x-stackQL-resources/policy_rules/methods/replace_policy_rule
servers:
  - url: https://{subdomain}.okta.com/
    variables:
      subdomain:
        default: my-org
        description: >-
          The domain of your organization. This can be a provided subdomain of
          an official okta domain (okta.com, oktapreview.com, etc) or one of
          your configured custom domains.

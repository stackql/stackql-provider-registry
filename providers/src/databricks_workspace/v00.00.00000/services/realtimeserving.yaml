openapi: 3.0.0
info:
  version: 2024-12-19-stackql-generated
  contact:
    name: StackQL Studios
    url: https://stackql.io/
    email: info@stackql.io
  title: Databricks Realtimeserving API
  description: Realtimeserving
servers:
- url: https://{deployment_name}.cloud.databricks.com
  variables:
    deployment_name:
      description: The Databricks Workspace Deployment Name
      default: dbc-abcd0123-a1bc
paths:
  /api/2.0/serving-endpoints/{name}/ai-gateway:
    put:
      operationId: ai-gateways-putaigateway
      externalDocs:
        url: https://docs.databricks.com/api/workspace/servingendpoints/putaigateway
      x-stackQL-resource: ai_gateways
      x-stackQL-method: putaigateway
      x-stackQL-verb: exec
      x-numReqParams: 1
      parameters:
      - name: name
        required: true
        description: string
        in: path
      responses:
        '200':
          description: Serving endpoint AI Gateway was updated successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  usage_tracking_config:
                    type: object
                    properties:
                      enabled:
                        type: boolean
                  inference_table_config:
                    type: object
                    properties:
                      catalog_name:
                        type: string
                      schema_name:
                        type: string
                      table_name_prefix:
                        type: string
                      enabled:
                        type: boolean
                  rate_limits:
                    type: array
                    items:
                      type: object
                      properties:
                        calls:
                          type: integer
                        key:
                          type: string
                        renewal_period:
                          type: string
                  guardrails:
                    type: object
                    properties:
                      input:
                        type: object
                        properties:
                          safety:
                            type: boolean
                          pii:
                            type: object
                            properties:
                              behavior:
                                type: string
                          valid_topics:
                            type: array
                            items:
                              type: string
                          invalid_keywords:
                            type: array
                            items:
                              type: string
                      output:
                        type: object
                        properties:
                          safety:
                            type: boolean
                          pii:
                            type: object
                            properties:
                              behavior:
                                type: string
                          valid_topics:
                            type: array
                            items:
                              type: string
                          invalid_keywords:
                            type: array
                            items:
                              type: string
        '400':
          description: Request is invalid or malformed.
        '401':
          description: The request does not have valid authentication credentials
            for the operation.
        '404':
          description: Operation was performed on a resource that does not exist.
        '500':
          description: Internal error.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                usage_tracking_config:
                  type: object
                inference_table_config:
                  type: object
                rate_limits:
                  type: Array of object
                guardrails:
                  type: object
              example:
                usage_tracking_config:
                  enabled: true
                inference_table_config:
                  catalog_name: my-catalog
                  schema_name: my-schema
                  table_name_prefix: my-prefix
                  enabled: true
                rate_limits:
                - calls: 15
                  key: user
                  renewal_period: minute
                guardrails:
                  input:
                    safety: true
                    pii:
                      behavior: BLOCK
                    valid_topics:
                    - topic1
                    invalid_keywords:
                    - keyword1
                  output:
                    safety: true
                    pii:
                      behavior: BLOCK
                    valid_topics:
                    - topic1
                    invalid_keywords:
                    - keyword1
      description: 'Used to update the AI Gateway of a serving endpoint. NOTE: Only
        external model endpoints are currently supported.'
  /api/2.0/serving-endpoints/{name}/served-models/{served_model_name}/build-logs:
    get:
      operationId: build-logs-buildlogs
      externalDocs:
        url: https://docs.databricks.com/api/workspace/servingendpoints/buildlogs
      x-stackQL-resource: build_logs
      x-stackQL-method: buildlogs
      x-stackQL-verb: select
      x-numReqParams: 2
      parameters:
      - name: name
        required: true
        description: string
        in: path
      - name: served_model_name
        required: true
        description: string
        in: path
      responses:
        '200':
          description: Build logs were fetched successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  logs:
                    type: string
        '401':
          description: The request does not have valid authentication credentials
            for the operation.
        '404':
          description: Operation was performed on a resource that does not exist.
        '500':
          description: Internal error.
      description: Retrieves the build logs associated with the provided served model.
  /api/2.0/serving-endpoints/{name}/served-models/{served_model_name}/logs:
    get:
      operationId: logs-logs
      externalDocs:
        url: https://docs.databricks.com/api/workspace/servingendpoints/logs
      x-stackQL-resource: logs
      x-stackQL-method: logs
      x-stackQL-verb: select
      x-numReqParams: 2
      parameters:
      - name: name
        required: true
        description: string
        in: path
      - name: served_model_name
        required: true
        description: string
        in: path
      responses:
        '200':
          description: Logs were fetched successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  logs:
                    type: string
        '401':
          description: The request does not have valid authentication credentials
            for the operation.
        '404':
          description: Operation was performed on a resource that does not exist.
        '500':
          description: Internal error.
      description: Retrieves the service logs associated with the provided served
        model.
  /api/2.0/serving-endpoints/{name}/metrics:
    get:
      operationId: metrics-exportmetrics
      externalDocs:
        url: https://docs.databricks.com/api/workspace/servingendpoints/exportmetrics
      x-stackQL-resource: metrics
      x-stackQL-method: exportmetrics
      x-stackQL-verb: exec
      x-numReqParams: 1
      parameters:
      - name: name
        required: true
        description: string
        in: path
      responses:
        '200':
          description: Metrics for the serving endpoint in Prometheus exposition or
            OpenMetrics exposition format were fetched successfully.
        '400':
          description: Request is invalid or malformed.
        '401':
          description: The request does not have valid authentication credentials
            for the operation.
        '404':
          description: Operation was performed on a resource that does not exist.
        '500':
          description: Internal error.
      description: Retrieves the metrics associated with the provided serving endpoint
        in either Prometheus or OpenMetrics exposition format.
  /api/2.0/serving-endpoints/{name}/openapi:
    get:
      operationId: schemas-getopenapi
      externalDocs:
        url: https://docs.databricks.com/api/workspace/servingendpoints/getopenapi
      x-stackQL-resource: schemas
      x-stackQL-method: getopenapi
      x-stackQL-verb: select
      x-numReqParams: 1
      parameters:
      - name: name
        required: true
        description: string
        in: path
      responses:
        '200':
          description: The OpenAPI spec for the invocation schema was fetched successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  openapi:
                    type: string
                  info:
                    type: object
                    properties:
                      title:
                        type: string
                      version:
                        type: string
                  servers:
                    type: array
                    items:
                      type: object
                      properties:
                        url:
                          type: string
                  paths:
                    type: object
                    properties:
                      /served-models/model1/invocations:
                        type: object
                        properties:
                          post:
                            type: object
                            properties:
                              requestBody:
                                type: object
                                properties:
                                  content:
                                    type: object
                                    properties:
                                      application/json:
                                        type: object
                                        properties:
                                          schema:
                                            type: object
                                            properties:
                                              oneOf:
                                                type: array
                                                items:
                                                  type: object
                                                  properties:
                                                    properties:
                                                      type: object
                                                      properties:
                                                        dataframe_split:
                                                          type: object
                                                          properties:
                                                            properties:
                                                              type: object
                                                              properties:
                                                                columns:
                                                                  type: object
                                                                  properties:
                                                                    type:
                                                                      type: string
                                                                    description:
                                                                      type: string
                                                                    items:
                                                                      type: object
                                                                      properties:
                                                                        type:
                                                                          type: string
                                                                    enum:
                                                                      type: array
                                                                      items:
                                                                        type: string
                                                                data:
                                                                  type: object
                                                                  properties:
                                                                    type:
                                                                      type: string
                                                                    items:
                                                                      type: object
                                                                      properties:
                                                                        type:
                                                                          type: string
                                                                        prefixItems:
                                                                          type: array
                                                                          items:
                                                                            type: object
                                                                            properties:
                                                                              type:
                                                                                type: string
                                                                              format:
                                                                                type: string
                              responses:
                                type: object
                                properties:
                                  '200':
                                    type: object
                                    properties:
                                      description:
                                        type: string
                                      content:
                                        type: object
                                        properties:
                                          application/json:
                                            type: object
                                            properties:
                                              schema:
                                                type: object
                                                properties:
                                                  properties:
                                                    type: object
                                                    properties:
                                                      predictions:
                                                        type: object
                                                        properties:
                                                          type:
                                                            type: string
                                                          items:
                                                            type: object
                                                            properties:
                                                              type:
                                                                type: string
                                                              format:
                                                                type: string
        '401':
          description: The request does not have valid authentication credentials
            for the operation.
        '404':
          description: Operation was performed on a resource that does not exist.
        '500':
          description: Internal error.
      description: Get the query schema of the serving endpoint in OpenAPI format.
        The schema contains information for the supported paths, input and output
        format and datatypes.
  /api/2.0/serving-endpoints:
    post:
      operationId: serving-endpoints-create
      externalDocs:
        url: https://docs.databricks.com/api/workspace/servingendpoints/create
      x-stackQL-resource: serving_endpoints
      x-stackQL-method: create
      x-stackQL-verb: insert
      x-numReqParams: 0
      parameters: []
      responses:
        '200':
          description: Serving endpoint was created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  name:
                    type: string
                  creator:
                    type: string
                  creation_timestamp:
                    type: integer
                  last_updated_timestamp:
                    type: integer
                  state:
                    type: object
                    properties:
                      ready:
                        type: string
                  config:
                    type: object
                    properties:
                      served_entities:
                        type: array
                        items:
                          type: object
                          properties:
                            name:
                              type: string
                            external_model:
                              type: object
                              properties:
                                provider:
                                  type: string
                                name:
                                  type: string
                                task:
                                  type: string
                                openai_config:
                                  type: object
                                  properties:
                                    openai_api_key:
                                      type: string
                            state:
                              type: object
                              properties:
                                deployment:
                                  type: string
                                deployment_state_message:
                                  type: string
                            creator:
                              type: string
                            creation_timestamp:
                              type: integer
                      traffic_config:
                        type: object
                        properties:
                          routes:
                            type: array
                            items:
                              type: object
                              properties:
                                served_model_name:
                                  type: string
                                traffic_percentage:
                                  type: integer
                      config_version:
                        type: integer
                  ai_gateway:
                    type: object
                    properties:
                      usage_tracking_config:
                        type: object
                        properties:
                          enabled:
                            type: boolean
                      inference_table_config:
                        type: object
                        properties:
                          catalog_name:
                            type: string
                          schema_name:
                            type: string
                          table_name_prefix:
                            type: string
                          enabled:
                            type: boolean
                      rate_limits:
                        type: array
                        items:
                          type: object
                          properties:
                            calls:
                              type: integer
                            key:
                              type: string
                            renewal_period:
                              type: string
                      guardrails:
                        type: object
                        properties:
                          input:
                            type: object
                            properties:
                              safety:
                                type: boolean
                              pii:
                                type: object
                                properties:
                                  behavior:
                                    type: string
                              valid_topics:
                                type: array
                                items:
                                  type: string
                              invalid_keywords:
                                type: array
                                items:
                                  type: string
                          output:
                            type: object
                            properties:
                              safety:
                                type: boolean
                              pii:
                                type: object
                                properties:
                                  behavior:
                                    type: string
                              valid_topics:
                                type: array
                                items:
                                  type: string
                              invalid_keywords:
                                type: array
                                items:
                                  type: string
                  tags:
                    type: array
                    items:
                      type: object
                      properties:
                        key:
                          type: string
                        value:
                          type: string
                  id:
                    type: string
                  permission_level:
                    type: string
                  route_optimized:
                    type: boolean
        '400':
          description: Request is invalid or malformed.
        '401':
          description: The request does not have valid authentication credentials
            for the operation.
        '500':
          description: Internal error.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: required
                route_optimized:
                  type: string
                config:
                  type: required
                tags:
                  type: object
                rate_limits:
                  type: Array of object
                ai_gateway:
                  type: Array of object
              example:
                name: openai_endpoint
                config:
                  served_entities:
                  - name: openai_embeddings
                    external_model:
                      name: text-embedding-ada-002
                      provider: openai
                      task: llm/v1/embeddings
                      openai_config:
                        openai_api_key: '{{secrets/my_scope/my_openai_api_key}}'
                ai_gateway:
                  usage_tracking_config:
                    enabled: true
                  inference_table_config:
                    catalog_name: my-catalog
                    schema_name: my-schema
                    table_name_prefix: my-prefix
                    enabled: true
                  rate_limits:
                  - calls: 100
                    key: user
                    renewal_period: minute
                  guardrails:
                    input:
                      safety: true
                      pii:
                        behavior: BLOCK
                      valid_topics:
                      - topic1
                      - topic2
                      invalid_keywords:
                      - keyword1
                      - keyword2
                    output:
                      safety: true
                      pii:
                        behavior: BLOCK
                      valid_topics:
                      - topic1
                      - topic2
                      invalid_keywords:
                      - keyword1
                      - keyword2
                tags:
                - key: team
                  value: gen-ai
    get:
      operationId: serving-endpoints-list
      externalDocs:
        url: https://docs.databricks.com/api/workspace/servingendpoints/list
      x-stackQL-resource: serving_endpoints
      x-stackQL-method: list
      x-stackQL-verb: select
      x-numReqParams: 0
      parameters: []
      responses:
        '200':
          description: List of serving endpoints was retrieved successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  endpoints:
                    type: array
                    items:
                      type: object
                      properties:
                        name:
                          type: string
                        creator:
                          type: string
                        creation_timestamp:
                          type: integer
                        last_updated_timestamp:
                          type: integer
                        state:
                          type: object
                          properties:
                            ready:
                              type: string
                            config_update:
                              type: string
                        config:
                          type: object
                          properties:
                            served_entities:
                              type: array
                              items:
                                type: object
                                properties:
                                  name:
                                    type: string
                                  external_model:
                                    type: object
                                    properties:
                                      provider:
                                        type: string
                                      name:
                                        type: string
                                      task:
                                        type: string
                                      ai21labs_config:
                                        type: object
                                        properties:
                                          ai21labs_api_key:
                                            type: string
                                          ai21labs_api_key_plaintext:
                                            type: string
                                      anthropic_config:
                                        type: object
                                        properties:
                                          anthropic_api_key:
                                            type: string
                                          anthropic_api_key_plaintext:
                                            type: string
                                      amazon_bedrock_config:
                                        type: object
                                        properties:
                                          aws_region:
                                            type: string
                                          aws_access_key_id:
                                            type: string
                                          aws_access_key_id_plaintext:
                                            type: string
                                          aws_secret_access_key:
                                            type: string
                                          aws_secret_access_key_plaintext:
                                            type: string
                                          bedrock_provider:
                                            type: string
                                      cohere_config:
                                        type: object
                                        properties:
                                          cohere_api_key:
                                            type: string
                                          cohere_api_key_plaintext:
                                            type: string
                                          cohere_api_base:
                                            type: string
                                      google_cloud_vertex_ai_config:
                                        type: object
                                        properties:
                                          private_key:
                                            type: string
                                          private_key_plaintext:
                                            type: string
                                          region:
                                            type: string
                                          project_id:
                                            type: string
                                      databricks_model_serving_config:
                                        type: object
                                        properties:
                                          databricks_api_token:
                                            type: string
                                          databricks_api_token_plaintext:
                                            type: string
                                          databricks_workspace_url:
                                            type: string
                                      openai_config:
                                        type: object
                                        properties:
                                          openai_api_key:
                                            type: string
                                          openai_api_key_plaintext:
                                            type: string
                                          openai_api_type:
                                            type: string
                                          openai_api_base:
                                            type: string
                                          openai_api_version:
                                            type: string
                                          openai_organization:
                                            type: string
                                          openai_deployment_name:
                                            type: string
                                          microsoft_entra_tenant_id:
                                            type: string
                                          microsoft_entra_client_id:
                                            type: string
                                          microsoft_entra_client_secret:
                                            type: string
                                          microsoft_entra_client_secret_plaintext:
                                            type: string
                                      palm_config:
                                        type: object
                                        properties:
                                          palm_api_key:
                                            type: string
                                          palm_api_key_plaintext:
                                            type: string
                                  foundation_model:
                                    type: object
                                    properties:
                                      name:
                                        type: string
                                      display_name:
                                        type: string
                                      docs:
                                        type: string
                                      description:
                                        type: string
                                  entity_name:
                                    type: string
                                  entity_version:
                                    type: string
                            served_models:
                              type: array
                              items:
                                type: object
                                properties:
                                  name:
                                    type: string
                                  model_name:
                                    type: string
                                  model_version:
                                    type: string
                        tags:
                          type: array
                          items:
                            type: object
                            properties:
                              key:
                                type: string
                              value:
                                type: string
                        id:
                          type: string
                        task:
                          type: string
                        ai_gateway:
                          type: object
                          properties:
                            usage_tracking_config:
                              type: object
                              properties:
                                enabled:
                                  type: boolean
                            inference_table_config:
                              type: object
                              properties:
                                catalog_name:
                                  type: string
                                schema_name:
                                  type: string
                                table_name_prefix:
                                  type: string
                                enabled:
                                  type: boolean
                            rate_limits:
                              type: array
                              items:
                                type: object
                                properties:
                                  calls:
                                    type: integer
                                  key:
                                    type: string
                                  renewal_period:
                                    type: string
                            guardrails:
                              type: object
                              properties:
                                input:
                                  type: object
                                  properties:
                                    safety:
                                      type: boolean
                                    pii:
                                      type: object
                                      properties:
                                        behavior:
                                          type: string
                                    valid_topics:
                                      type: array
                                      items:
                                        type: string
                                    invalid_keywords:
                                      type: array
                                      items:
                                        type: string
                                output:
                                  type: object
                                  properties:
                                    safety:
                                      type: boolean
                                    pii:
                                      type: object
                                      properties:
                                        behavior:
                                          type: string
                                    valid_topics:
                                      type: array
                                      items:
                                        type: string
                                    invalid_keywords:
                                      type: array
                                      items:
                                        type: string
        '401':
          description: The request does not have valid authentication credentials
            for the operation.
        '500':
          description: Internal error.
      x-stackQL-objectKey: $.endpoints
  /api/2.0/serving-endpoints/{name}:
    delete:
      operationId: serving-endpoints-delete
      externalDocs:
        url: https://docs.databricks.com/api/workspace/servingendpoints/delete
      x-stackQL-resource: serving_endpoints
      x-stackQL-method: delete
      x-stackQL-verb: delete
      x-numReqParams: 1
      parameters:
      - name: name
        required: true
        description: string
        in: path
      responses:
        '200':
          description: Serving endpoint was deleted successfully.
          content:
            application/json:
              schema:
                type: object
                properties: {}
        '401':
          description: The request does not have valid authentication credentials
            for the operation.
        '404':
          description: Operation was performed on a resource that does not exist.
        '500':
          description: Internal error.
    get:
      operationId: serving-endpoints-get
      externalDocs:
        url: https://docs.databricks.com/api/workspace/servingendpoints/get
      x-stackQL-resource: serving_endpoints
      x-stackQL-method: get
      x-stackQL-verb: select
      x-numReqParams: 1
      parameters:
      - name: name
        required: true
        description: string
        in: path
      responses:
        '200':
          description: Serving endpoint was retrieved successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  name:
                    type: string
                  creator:
                    type: string
                  creation_timestamp:
                    type: integer
                  last_updated_timestamp:
                    type: integer
                  state:
                    type: object
                    properties:
                      ready:
                        type: string
                      config_update:
                        type: string
                  config:
                    type: object
                    properties:
                      served_entities:
                        type: array
                        items:
                          type: object
                          properties:
                            name:
                              type: string
                            entity_name:
                              type: string
                            workload_size:
                              type: string
                            scale_to_zero_enabled:
                              type: boolean
                            workload_type:
                              type: string
                            state:
                              type: object
                              properties:
                                deployment:
                                  type: string
                                deployment_state_message:
                                  type: string
                            creator:
                              type: string
                            creation_timestamp:
                              type: integer
                      traffic_config:
                        type: object
                        properties:
                          routes:
                            type: array
                            items:
                              type: object
                              properties:
                                traffic_percentage:
                                  type: integer
                                served_model_name:
                                  type: string
                      config_version:
                        type: integer
                  tags:
                    type: array
                    items:
                      type: object
                      properties:
                        key:
                          type: string
                        value:
                          type: string
                  id:
                    type: string
                  permission_level:
                    type: string
                  route_optimized:
                    type: boolean
        '401':
          description: The request does not have valid authentication credentials
            for the operation.
        '404':
          description: Operation was performed on a resource that does not exist.
        '500':
          description: Internal error.
      description: Retrieves the details for a single serving endpoint.
  /api/2.0/serving-endpoints/{name}/tags:
    patch:
      operationId: serving-endpoints-patch
      externalDocs:
        url: https://docs.databricks.com/api/workspace/servingendpoints/patch
      x-stackQL-resource: serving_endpoints
      x-stackQL-method: patch
      x-stackQL-verb: update
      x-numReqParams: 1
      parameters:
      - name: name
        required: true
        description: string
        in: path
      responses:
        '200':
          description: Serving endpoint tags were patched successfully.
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    key:
                      type: string
                    value:
                      type: string
        '401':
          description: The request does not have valid authentication credentials
            for the operation.
        '404':
          description: Operation was performed on a resource that does not exist.
        '500':
          description: Internal error.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                delete_tags:
                  type: Array of string
                add_tags:
                  type: Array of object
              example:
                add_tags:
                - key: team
                  value: data science
                delete_tags:
                - string
      description: Used to batch add and delete tags from a serving endpoint with
        a single API call.
  /api/2.0/serving-endpoints/{name}/rate-limits:
    put:
      operationId: serving-endpoints-put
      externalDocs:
        url: https://docs.databricks.com/api/workspace/servingendpoints/put
      x-stackQL-resource: serving_endpoints
      x-stackQL-method: put
      x-stackQL-verb: replace
      x-numReqParams: 1
      parameters:
      - name: name
        required: true
        description: string
        in: path
      responses:
        '200':
          description: Serving endpoint rate limits were updated successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  rate_limits:
                    type: array
                    items:
                      type: object
                      properties:
                        calls:
                          type: integer
                        key:
                          type: string
                        renewal_period:
                          type: string
        '400':
          description: Request is invalid or malformed.
        '401':
          description: The request does not have valid authentication credentials
            for the operation.
        '404':
          description: Operation was performed on a resource that does not exist.
        '500':
          description: Internal error.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                rate_limits:
                  type: Array of object
              example:
                rate_limits:
                - calls: 15
                  key: user
                  renewal_period: minute
      description: 'Used to update the rate limits of a serving endpoint. NOTE: Only
        foundation model endpoints are currently supported. For external models, use
        AI Gateway to manage rate limits.'
  /serving-endpoints/{name}/invocations:
    post:
      operationId: serving-endpoints-query
      externalDocs:
        url: https://docs.databricks.com/api/workspace/servingendpoints/query
      x-stackQL-resource: serving_endpoints
      x-stackQL-method: query
      x-stackQL-verb: exec
      x-numReqParams: 1
      parameters:
      - name: name
        required: true
        description: string
        in: path
      responses:
        '200':
          description: Serving endpoint was queried successfully and returned predictions.
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  object:
                    type: string
                  created:
                    type: integer
                  model:
                    type: string
                  choices:
                    type: array
                    items:
                      type: object
                      properties:
                        text:
                          type: string
                        index:
                          type: integer
                        logprobs:
                          type: 'null'
                        finish_reason:
                          type: string
                  usage:
                    type: object
                    properties:
                      prompt_tokens:
                        type: integer
                      completion_tokens:
                        type: integer
                      total_tokens:
                        type: integer
        '401':
          description: The request does not have valid authentication credentials
            for the operation.
        '404':
          description: Operation was performed on a resource that does not exist.
        '500':
          description: Internal error.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                prompt:
                  type: object
                input:
                  type: object
                temperature:
                  type: double
                stop:
                  type: Array of string
                max_tokens:
                  type: integer
                n:
                  type: integer
                stream:
                  type: boolean
                dataframe_records:
                  type: Array of object
                instances:
                  type: Array of object
                inputs:
                  type: object
                messages:
                  type: Array of object
                extra_params:
                  type: object
                dataframe_split:
                  type: object
              example:
                dataframe_records:
                - user_latitude: 37
                  user_longitude: 122.4
                  destination_id: 10
  /api/2.0/serving-endpoints/{name}/config:
    put:
      operationId: serving-endpoints-updateconfig
      externalDocs:
        url: https://docs.databricks.com/api/workspace/servingendpoints/updateconfig
      x-stackQL-resource: serving_endpoints
      x-stackQL-method: updateconfig
      x-stackQL-verb: update
      x-numReqParams: 1
      parameters:
      - name: name
        required: true
        description: string
        in: path
      responses:
        '200':
          description: Serving endpoint update was issued successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  name:
                    type: string
                  creator:
                    type: string
                  creation_timestamp:
                    type: integer
                  last_updated_timestamp:
                    type: integer
                  state:
                    type: object
                    properties:
                      ready:
                        type: string
                  config:
                    type: object
                    properties:
                      served_entities:
                        type: array
                        items:
                          type: object
                          properties:
                            name:
                              type: string
                            external_model:
                              type: object
                              properties:
                                provider:
                                  type: string
                                name:
                                  type: string
                                task:
                                  type: string
                                openai_config:
                                  type: object
                                  properties:
                                    openai_api_key:
                                      type: string
                            state:
                              type: object
                              properties:
                                deployment:
                                  type: string
                                deployment_state_message:
                                  type: string
                            creator:
                              type: string
                            creation_timestamp:
                              type: integer
                      traffic_config:
                        type: object
                        properties:
                          routes:
                            type: array
                            items:
                              type: object
                              properties:
                                served_model_name:
                                  type: string
                                traffic_percentage:
                                  type: integer
                      config_version:
                        type: integer
                  id:
                    type: string
                  permission_level:
                    type: string
                  route_optimized:
                    type: boolean
        '400':
          description: Request is invalid or malformed.
        '401':
          description: The request does not have valid authentication credentials
            for the operation.
        '404':
          description: Operation was performed on a resource that does not exist.
        '409':
          description: Request was rejected due a conflict with an existing resource.
        '500':
          description: Internal error.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                served_entities:
                  type: Array of object
                served_models:
                  type: Array of object
                traffic_config:
                  type: object
                auto_capture_config:
                  type: object
              example:
                served_entities:
                - name: openai_chat
                  external_model:
                    name: gpt-4
                    provider: openai
                    task: llm/v1/chat
                    openai_config:
                      openai_api_key: '{{secrets/my_scope/my_openai_api_key}}'
      description: Updates any combination of the serving endpoint's served entities,
        the compute configuration of those served entities, and the endpoint's traffic
        config. An endpoint that already has an update in progress can not be updated
        until the current update completes or fails.
  /api/2.0/permissions/serving-endpoints/{serving_endpoint_id}:
    get:
      operationId: serving-endpoints-permissions-getpermissions
      externalDocs:
        url: https://docs.databricks.com/api/workspace/servingendpoints/getpermissions
      x-stackQL-resource: serving_endpoints_permissions
      x-stackQL-method: getpermissions
      x-stackQL-verb: select
      x-numReqParams: 1
      parameters:
      - name: serving_endpoint_id
        required: true
        description: string
        in: path
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties:
                  object_id:
                    type: string
                  object_type:
                    type: string
                  access_control_list:
                    type: array
                    items:
                      type: object
                      properties:
                        user_name:
                          type: string
                        group_name:
                          type: string
                        service_principal_name:
                          type: string
                        display_name:
                          type: string
                        all_permissions:
                          type: array
                          items:
                            type: object
                            properties:
                              permission_level:
                                type: string
                              inherited:
                                type: boolean
                              inherited_from_object:
                                type: array
                                items:
                                  type: string
        '400':
          description: Request is invalid or malformed.
        '401':
          description: The request does not have valid authentication credentials
            for the operation.
        '403':
          description: Caller does not have permission to execute the specified operation.
        '404':
          description: Operation was performed on a resource that does not exist.
        '500':
          description: Internal error.
      description: Gets the permissions of a serving endpoint. Serving endpoints can
        inherit permissions from their root object.
    put:
      operationId: serving-endpoints-permissions-setpermissions
      externalDocs:
        url: https://docs.databricks.com/api/workspace/servingendpoints/setpermissions
      x-stackQL-resource: serving_endpoints_permissions
      x-stackQL-method: setpermissions
      x-stackQL-verb: replace
      x-numReqParams: 1
      parameters:
      - name: serving_endpoint_id
        required: true
        description: string
        in: path
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties:
                  object_id:
                    type: string
                  object_type:
                    type: string
                  access_control_list:
                    type: array
                    items:
                      type: object
                      properties:
                        user_name:
                          type: string
                        group_name:
                          type: string
                        service_principal_name:
                          type: string
                        display_name:
                          type: string
                        all_permissions:
                          type: array
                          items:
                            type: object
                            properties:
                              permission_level:
                                type: string
                              inherited:
                                type: boolean
                              inherited_from_object:
                                type: array
                                items:
                                  type: string
        '400':
          description: Request is invalid or malformed.
        '401':
          description: The request does not have valid authentication credentials
            for the operation.
        '403':
          description: Caller does not have permission to execute the specified operation.
        '404':
          description: Operation was performed on a resource that does not exist.
        '500':
          description: Internal error.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                access_control_list:
                  type: Array of object
              example:
                access_control_list:
                - user_name: string
                  group_name: string
                  service_principal_name: string
                  permission_level: CAN_MANAGE
      description: Sets permissions on an object, replacing existing permissions if
        they exist. Deletes all direct permissions if none are specified. Objects
        can inherit permissions from their root object.
    patch:
      operationId: serving-endpoints-permissions-updatepermissions
      externalDocs:
        url: https://docs.databricks.com/api/workspace/servingendpoints/updatepermissions
      x-stackQL-resource: serving_endpoints_permissions
      x-stackQL-method: updatepermissions
      x-stackQL-verb: update
      x-numReqParams: 1
      parameters:
      - name: serving_endpoint_id
        required: true
        description: string
        in: path
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties:
                  object_id:
                    type: string
                  object_type:
                    type: string
                  access_control_list:
                    type: array
                    items:
                      type: object
                      properties:
                        user_name:
                          type: string
                        group_name:
                          type: string
                        service_principal_name:
                          type: string
                        display_name:
                          type: string
                        all_permissions:
                          type: array
                          items:
                            type: object
                            properties:
                              permission_level:
                                type: string
                              inherited:
                                type: boolean
                              inherited_from_object:
                                type: array
                                items:
                                  type: string
        '400':
          description: Request is invalid or malformed.
        '401':
          description: The request does not have valid authentication credentials
            for the operation.
        '403':
          description: Caller does not have permission to execute the specified operation.
        '404':
          description: Operation was performed on a resource that does not exist.
        '500':
          description: Internal error.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                access_control_list:
                  type: Array of object
              example:
                access_control_list:
                - user_name: string
                  group_name: string
                  service_principal_name: string
                  permission_level: CAN_MANAGE
      description: Updates the permissions on a serving endpoint. Serving endpoints
        can inherit permissions from their root object.
  /api/2.0/permissions/serving-endpoints/{serving_endpoint_id}/permissionLevels:
    get:
      operationId: serving-endpoints-permission-levels-getpermissionlevels
      externalDocs:
        url: https://docs.databricks.com/api/workspace/servingendpoints/getpermissionlevels
      x-stackQL-resource: serving_endpoints_permission_levels
      x-stackQL-method: getpermissionlevels
      x-stackQL-verb: select
      x-numReqParams: 1
      parameters:
      - name: serving_endpoint_id
        required: true
        description: string
        in: path
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: object
                properties:
                  permission_levels:
                    type: array
                    items:
                      type: object
                      properties:
                        permission_level:
                          type: string
                        description:
                          type: string
        '400':
          description: Request is invalid or malformed.
        '401':
          description: The request does not have valid authentication credentials
            for the operation.
        '403':
          description: Caller does not have permission to execute the specified operation.
        '404':
          description: Operation was performed on a resource that does not exist.
        '500':
          description: Internal error.
      x-stackQL-objectKey: $.permission_levels
      description: Gets the permission levels that a user can have on an object.
components:
  x-stackQL-resources:
    ai_gateways:
      id: databricks_workspace.realtimeserving.ai_gateways
      name: ai_gateways
      title: Ai_gateways
      methods:
        putaigateway:
          operation:
            $ref: '#/paths/~1api~12.0~1serving-endpoints~1{name}~1ai-gateway/put'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select: []
        insert: []
        update: []
        replace: []
        delete: []
        exec:
        - $ref: '#/components/x-stackQL-resources/ai_gateways/methods/putaigateway'
    build_logs:
      id: databricks_workspace.realtimeserving.build_logs
      name: build_logs
      title: Build_logs
      methods:
        buildlogs:
          operation:
            $ref: '#/paths/~1api~12.0~1serving-endpoints~1{name}~1served-models~1{served_model_name}~1build-logs/get'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
        - $ref: '#/components/x-stackQL-resources/build_logs/methods/buildlogs'
        insert: []
        update: []
        replace: []
        delete: []
        exec: []
    logs:
      id: databricks_workspace.realtimeserving.logs
      name: logs
      title: Logs
      methods:
        logs:
          operation:
            $ref: '#/paths/~1api~12.0~1serving-endpoints~1{name}~1served-models~1{served_model_name}~1logs/get'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
        - $ref: '#/components/x-stackQL-resources/logs/methods/logs'
        insert: []
        update: []
        replace: []
        delete: []
        exec: []
    metrics:
      id: databricks_workspace.realtimeserving.metrics
      name: metrics
      title: Metrics
      methods:
        exportmetrics:
          operation:
            $ref: '#/paths/~1api~12.0~1serving-endpoints~1{name}~1metrics/get'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select: []
        insert: []
        update: []
        replace: []
        delete: []
        exec:
        - $ref: '#/components/x-stackQL-resources/metrics/methods/exportmetrics'
    schemas:
      id: databricks_workspace.realtimeserving.schemas
      name: schemas
      title: Schemas
      methods:
        getopenapi:
          operation:
            $ref: '#/paths/~1api~12.0~1serving-endpoints~1{name}~1openapi/get'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
        - $ref: '#/components/x-stackQL-resources/schemas/methods/getopenapi'
        insert: []
        update: []
        replace: []
        delete: []
        exec: []
    serving_endpoints:
      id: databricks_workspace.realtimeserving.serving_endpoints
      name: serving_endpoints
      title: Serving_endpoints
      methods:
        create:
          operation:
            $ref: '#/paths/~1api~12.0~1serving-endpoints/post'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
        list:
          operation:
            $ref: '#/paths/~1api~12.0~1serving-endpoints/get'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.endpoints
        delete:
          operation:
            $ref: '#/paths/~1api~12.0~1serving-endpoints~1{name}/delete'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
        get:
          operation:
            $ref: '#/paths/~1api~12.0~1serving-endpoints~1{name}/get'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
        patch:
          operation:
            $ref: '#/paths/~1api~12.0~1serving-endpoints~1{name}~1tags/patch'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
        put:
          operation:
            $ref: '#/paths/~1api~12.0~1serving-endpoints~1{name}~1rate-limits/put'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
        query:
          operation:
            $ref: '#/paths/~1serving-endpoints~1{name}~1invocations/post'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
        updateconfig:
          operation:
            $ref: '#/paths/~1api~12.0~1serving-endpoints~1{name}~1config/put'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
        - $ref: '#/components/x-stackQL-resources/serving_endpoints/methods/get'
        - $ref: '#/components/x-stackQL-resources/serving_endpoints/methods/list'
        insert:
        - $ref: '#/components/x-stackQL-resources/serving_endpoints/methods/create'
        update:
        - $ref: '#/components/x-stackQL-resources/serving_endpoints/methods/updateconfig'
        - $ref: '#/components/x-stackQL-resources/serving_endpoints/methods/patch'
        replace:
        - $ref: '#/components/x-stackQL-resources/serving_endpoints/methods/put'
        delete:
        - $ref: '#/components/x-stackQL-resources/serving_endpoints/methods/delete'
        exec:
        - $ref: '#/components/x-stackQL-resources/serving_endpoints/methods/query'
    serving_endpoints_permissions:
      id: databricks_workspace.realtimeserving.serving_endpoints_permissions
      name: serving_endpoints_permissions
      title: Serving_endpoints_permissions
      methods:
        getpermissions:
          operation:
            $ref: '#/paths/~1api~12.0~1permissions~1serving-endpoints~1{serving_endpoint_id}/get'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
        setpermissions:
          operation:
            $ref: '#/paths/~1api~12.0~1permissions~1serving-endpoints~1{serving_endpoint_id}/put'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
        updatepermissions:
          operation:
            $ref: '#/paths/~1api~12.0~1permissions~1serving-endpoints~1{serving_endpoint_id}/patch'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
        - $ref: '#/components/x-stackQL-resources/serving_endpoints_permissions/methods/getpermissions'
        insert: []
        update:
        - $ref: '#/components/x-stackQL-resources/serving_endpoints_permissions/methods/updatepermissions'
        replace:
        - $ref: '#/components/x-stackQL-resources/serving_endpoints_permissions/methods/setpermissions'
        delete: []
        exec: []
    serving_endpoints_permission_levels:
      id: databricks_workspace.realtimeserving.serving_endpoints_permission_levels
      name: serving_endpoints_permission_levels
      title: Serving_endpoints_permission_levels
      methods:
        getpermissionlevels:
          operation:
            $ref: '#/paths/~1api~12.0~1permissions~1serving-endpoints~1{serving_endpoint_id}~1permissionLevels/get'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.permission_levels
      sqlVerbs:
        select:
        - $ref: '#/components/x-stackQL-resources/serving_endpoints_permission_levels/methods/getpermissionlevels'
        insert: []
        update: []
        replace: []
        delete: []
        exec: []

openapi: 3.0.0
info:
  version: 2024-12-19-stackql-generated
  contact:
    name: StackQL Studios
    url: https://stackql.io/
    email: info@stackql.io
  title: Databricks Deltasharing API
  description: Deltasharing
servers:
- url: https://{deployment_name}.cloud.databricks.com
  variables:
    deployment_name:
      description: The Databricks Workspace Deployment Name
      default: dbc-abcd0123-a1bc
paths:
  /api/2.1/unity-catalog/providers:
    post:
      operationId: providers-create
      externalDocs:
        url: https://docs.databricks.com/api/workspace/providers/create
      x-stackQL-resource: providers
      x-stackQL-method: create
      x-stackQL-verb: insert
      x-numReqParams: 0
      parameters: []
      responses:
        '200':
          description: The new provider was successfully created.
          content:
            application/json:
              schema:
                type: object
                properties:
                  name:
                    type: string
                  authentication_type:
                    type: string
                  recipient_profile_str:
                    type: string
                  comment:
                    type: string
                  owner:
                    type: string
                  recipient_profile:
                    type: object
                    properties:
                      share_credentials_version:
                        type: integer
                      endpoint:
                        type: string
                      bearer_token:
                        type: string
                  created_at:
                    type: integer
                  created_by:
                    type: string
                  updated_at:
                    type: integer
                  updated_by:
                    type: string
                  cloud:
                    type: string
                  region:
                    type: string
                  metastore_id:
                    type: string
                  data_provider_global_metastore_id:
                    type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: required
                authentication_type:
                  type: string
                comment:
                  type: required
                recipient_profile_str:
                  type: string
              example:
                name: string
                authentication_type: TOKEN
                comment: string
                recipient_profile_str: string
      description: Creates a new authentication provider minimally based on a name
        and authentication type. The caller must be an admin on the metastore.
    get:
      operationId: providers-list
      externalDocs:
        url: https://docs.databricks.com/api/workspace/providers/list
      x-stackQL-resource: providers
      x-stackQL-method: list
      x-stackQL-verb: select
      x-numReqParams: 0
      parameters:
      - name: data_provider_global_metastore_id
        in: query
      - name: max_results
        in: query
      - name: page_token
        in: query
      responses:
        '200':
          description: The provider list was successfully retrieved.
          content:
            application/json:
              schema:
                type: object
                properties:
                  providers:
                    type: array
                    items:
                      type: object
                      properties:
                        name:
                          type: string
                        authentication_type:
                          type: string
                        recipient_profile_str:
                          type: string
                        comment:
                          type: string
                        owner:
                          type: string
                        recipient_profile:
                          type: object
                          properties:
                            share_credentials_version:
                              type: integer
                            endpoint:
                              type: string
                            bearer_token:
                              type: string
                        created_at:
                          type: integer
                        created_by:
                          type: string
                        updated_at:
                          type: integer
                        updated_by:
                          type: string
                        cloud:
                          type: string
                        region:
                          type: string
                        metastore_id:
                          type: string
                        data_provider_global_metastore_id:
                          type: string
                  next_page_token:
                    type: string
      x-stackQL-objectKey: $.providers
      description: Gets an array of available authentication providers. The caller
        must either be a metastore admin or the owner of the providers. Providers
        not owned by the caller are not included in the response. There is no guarantee
        of a specific ordering of the elements in the array.
  /api/2.1/unity-catalog/providers/{name}:
    delete:
      operationId: providers-delete
      externalDocs:
        url: https://docs.databricks.com/api/workspace/providers/delete
      x-stackQL-resource: providers
      x-stackQL-method: delete
      x-stackQL-verb: delete
      x-numReqParams: 1
      parameters:
      - name: name
        required: true
        description: string
        in: path
      responses:
        '200':
          description: The provider was successfully deleted.
          content:
            application/json:
              schema:
                type: object
                properties: {}
      description: Deletes an authentication provider, if the caller is a metastore
        admin or is the owner of the provider.
    get:
      operationId: providers-get
      externalDocs:
        url: https://docs.databricks.com/api/workspace/providers/get
      x-stackQL-resource: providers
      x-stackQL-method: get
      x-stackQL-verb: select
      x-numReqParams: 1
      parameters:
      - name: name
        required: true
        description: string
        in: path
      responses:
        '200':
          description: The provider was successfully retrieved.
          content:
            application/json:
              schema:
                type: object
                properties:
                  name:
                    type: string
                  authentication_type:
                    type: string
                  recipient_profile_str:
                    type: string
                  comment:
                    type: string
                  owner:
                    type: string
                  recipient_profile:
                    type: object
                    properties:
                      share_credentials_version:
                        type: integer
                      endpoint:
                        type: string
                      bearer_token:
                        type: string
                  created_at:
                    type: integer
                  created_by:
                    type: string
                  updated_at:
                    type: integer
                  updated_by:
                    type: string
                  cloud:
                    type: string
                  region:
                    type: string
                  metastore_id:
                    type: string
                  data_provider_global_metastore_id:
                    type: string
      description: Gets a specific authentication provider. The caller must supply
        the name of the provider, and must either be a metastore admin or the owner
        of the provider.
    patch:
      operationId: providers-update
      externalDocs:
        url: https://docs.databricks.com/api/workspace/providers/update
      x-stackQL-resource: providers
      x-stackQL-method: update
      x-stackQL-verb: update
      x-numReqParams: 1
      parameters:
      - name: name
        required: true
        description: string
        in: path
      responses:
        '200':
          description: The provider was successfully updated.
          content:
            application/json:
              schema:
                type: object
                properties:
                  name:
                    type: string
                  authentication_type:
                    type: string
                  recipient_profile_str:
                    type: string
                  comment:
                    type: string
                  owner:
                    type: string
                  recipient_profile:
                    type: object
                    properties:
                      share_credentials_version:
                        type: integer
                      endpoint:
                        type: string
                      bearer_token:
                        type: string
                  created_at:
                    type: integer
                  created_by:
                    type: string
                  updated_at:
                    type: integer
                  updated_by:
                    type: string
                  cloud:
                    type: string
                  region:
                    type: string
                  metastore_id:
                    type: string
                  data_provider_global_metastore_id:
                    type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                recipient_profile_str:
                  type: string
                comment:
                  type: string
                owner:
                  type: string
                new_name:
                  type: string
              example:
                recipient_profile_str: string
                comment: string
                owner: string
                new_name: string
      description: Updates the information for an authentication provider, if the
        caller is a metastore admin or is the owner of the provider. If the update
        changes the provider name, the caller must be both a metastore admin and the
        owner of the provider.
  /api/2.1/unity-catalog/providers/{name}/shares:
    get:
      operationId: provider-shares-listshares
      externalDocs:
        url: https://docs.databricks.com/api/workspace/providers/listshares
      x-stackQL-resource: provider_shares
      x-stackQL-method: listshares
      x-stackQL-verb: select
      x-numReqParams: 1
      parameters:
      - name: name
        required: true
        description: string
        in: path
      - name: max_results
        in: query
      - name: page_token
        in: query
      responses:
        '200':
          description: The provider shares list was successfully retrieved.
          content:
            application/json:
              schema:
                type: object
                properties:
                  shares:
                    type: array
                    items:
                      type: object
                      properties:
                        name:
                          type: string
                  next_page_token:
                    type: string
      x-stackQL-objectKey: $.shares
      description: 'Gets an array of a specified provider''s shares within the metastore
        where:'
  /api/2.1/unity-catalog/recipients:
    post:
      operationId: recipients-create
      externalDocs:
        url: https://docs.databricks.com/api/workspace/recipients/create
      x-stackQL-resource: recipients
      x-stackQL-method: create
      x-stackQL-verb: insert
      x-numReqParams: 0
      parameters: []
      responses:
        '200':
          description: The new recipient was successfully created.
          content:
            application/json:
              schema:
                type: object
                properties:
                  name:
                    type: string
                  authentication_type:
                    type: string
                  sharing_code:
                    type: string
                  data_recipient_global_metastore_id:
                    type: string
                  owner:
                    type: string
                  comment:
                    type: string
                  ip_access_list:
                    type: object
                    properties:
                      allowed_ip_addresses:
                        type: array
                        items:
                          type: string
                  properties_kvpairs:
                    type: object
                    properties:
                      properties:
                        type: object
                        properties:
                          property1:
                            type: string
                          property2:
                            type: string
                  activation_url:
                    type: string
                  activated:
                    type: boolean
                  created_at:
                    type: integer
                  created_by:
                    type: string
                  tokens:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        created_at:
                          type: integer
                        created_by:
                          type: string
                        activation_url:
                          type: string
                        expiration_time:
                          type: integer
                        updated_at:
                          type: integer
                        updated_by:
                          type: string
                  updated_at:
                    type: integer
                  updated_by:
                    type: string
                  cloud:
                    type: string
                  region:
                    type: string
                  metastore_id:
                    type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: required
                authentication_type:
                  type: string
                owner:
                  type: required
                comment:
                  type: string
                data_recipient_global_metastore_id:
                  type: string
                sharing_code:
                  type: string
                expiration_time:
                  type: string
                ip_access_list:
                  type: object
                properties_kvpairs:
                  type: object
              example:
                name: string
                authentication_type: TOKEN
                owner: string
                comment: string
                ip_access_list:
                  allowed_ip_addresses:
                  - string
                properties_kvpairs:
                  properties:
                    property1: string
                    property2: string
                data_recipient_global_metastore_id: string
                sharing_code: string
                expiration_time: 0
      description: Creates a new recipient with the delta sharing authentication type
        in the metastore. The caller must be a metastore admin or has the
    get:
      operationId: recipients-list
      externalDocs:
        url: https://docs.databricks.com/api/workspace/recipients/list
      x-stackQL-resource: recipients
      x-stackQL-method: list
      x-stackQL-verb: select
      x-numReqParams: 0
      parameters:
      - name: data_recipient_global_metastore_id
        in: query
      - name: max_results
        in: query
      - name: page_token
        in: query
      responses:
        '200':
          description: The list of recipients was successfully retrieved.
          content:
            application/json:
              schema:
                type: object
                properties:
                  recipients:
                    type: array
                    items:
                      type: object
                      properties:
                        name:
                          type: string
                        authentication_type:
                          type: string
                        sharing_code:
                          type: string
                        data_recipient_global_metastore_id:
                          type: string
                        owner:
                          type: string
                        comment:
                          type: string
                        ip_access_list:
                          type: object
                          properties:
                            allowed_ip_addresses:
                              type: array
                              items:
                                type: string
                        properties_kvpairs:
                          type: object
                          properties:
                            properties:
                              type: object
                              properties:
                                property1:
                                  type: string
                                property2:
                                  type: string
                        activation_url:
                          type: string
                        activated:
                          type: boolean
                        created_at:
                          type: integer
                        created_by:
                          type: string
                        tokens:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: string
                              created_at:
                                type: integer
                              created_by:
                                type: string
                              activation_url:
                                type: string
                              expiration_time:
                                type: integer
                              updated_at:
                                type: integer
                              updated_by:
                                type: string
                        updated_at:
                          type: integer
                        updated_by:
                          type: string
                        cloud:
                          type: string
                        region:
                          type: string
                        metastore_id:
                          type: string
                  next_page_token:
                    type: string
      x-stackQL-objectKey: $.recipients
      description: 'Gets an array of all share recipients within the current metastore
        where:'
  /api/2.1/unity-catalog/recipients/{name}:
    delete:
      operationId: recipients-delete
      externalDocs:
        url: https://docs.databricks.com/api/workspace/recipients/delete
      x-stackQL-resource: recipients
      x-stackQL-method: delete
      x-stackQL-verb: delete
      x-numReqParams: 1
      parameters:
      - name: name
        required: true
        description: string
        in: path
      responses:
        '200':
          description: The recipient was successfully deleted.
          content:
            application/json:
              schema:
                type: object
                properties: {}
      description: Deletes the specified recipient from the metastore. The caller
        must be the owner of the recipient.
    get:
      operationId: recipients-get
      externalDocs:
        url: https://docs.databricks.com/api/workspace/recipients/get
      x-stackQL-resource: recipients
      x-stackQL-method: get
      x-stackQL-verb: select
      x-numReqParams: 1
      parameters:
      - name: name
        required: true
        description: string
        in: path
      responses:
        '200':
          description: The recipient was successfully retrieved.
          content:
            application/json:
              schema:
                type: object
                properties:
                  name:
                    type: string
                  authentication_type:
                    type: string
                  sharing_code:
                    type: string
                  data_recipient_global_metastore_id:
                    type: string
                  owner:
                    type: string
                  comment:
                    type: string
                  ip_access_list:
                    type: object
                    properties:
                      allowed_ip_addresses:
                        type: array
                        items:
                          type: string
                  properties_kvpairs:
                    type: object
                    properties:
                      properties:
                        type: object
                        properties:
                          property1:
                            type: string
                          property2:
                            type: string
                  activation_url:
                    type: string
                  activated:
                    type: boolean
                  created_at:
                    type: integer
                  created_by:
                    type: string
                  tokens:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        created_at:
                          type: integer
                        created_by:
                          type: string
                        activation_url:
                          type: string
                        expiration_time:
                          type: integer
                        updated_at:
                          type: integer
                        updated_by:
                          type: string
                  updated_at:
                    type: integer
                  updated_by:
                    type: string
                  cloud:
                    type: string
                  region:
                    type: string
                  metastore_id:
                    type: string
      description: 'Gets a share recipient from the metastore if:'
    patch:
      operationId: recipients-update
      externalDocs:
        url: https://docs.databricks.com/api/workspace/recipients/update
      x-stackQL-resource: recipients
      x-stackQL-method: update
      x-stackQL-verb: update
      x-numReqParams: 1
      parameters:
      - name: name
        required: true
        description: string
        in: path
      responses:
        '200':
          description: The recipient was successfully updated.
          content:
            application/json:
              schema:
                type: object
                properties: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                owner:
                  type: string
                comment:
                  type: string
                new_name:
                  type: string
                expiration_time:
                  type: integer
                  format: int64
                ip_access_list:
                  type: object
                properties_kvpairs:
                  type: object
              example:
                owner: string
                comment: string
                ip_access_list:
                  allowed_ip_addresses:
                  - string
                new_name: string
                properties_kvpairs:
                  properties:
                    property1: string
                    property2: string
                expiration_time: 0
      description: Updates an existing recipient in the metastore. The caller must
        be a metastore admin or the owner of the recipient. If the recipient name
        will be updated, the user must be both a metastore admin and the owner of
        the recipient.
  /api/2.1/unity-catalog/recipients/{name}/rotate-token:
    post:
      operationId: recipients-rotatetoken
      externalDocs:
        url: https://docs.databricks.com/api/workspace/recipients/rotatetoken
      x-stackQL-resource: recipients
      x-stackQL-method: rotatetoken
      x-stackQL-verb: exec
      x-numReqParams: 1
      parameters:
      - name: name
        required: true
        description: string
        in: path
      responses:
        '200':
          description: The recipient token was successfully rotated.
          content:
            application/json:
              schema:
                type: object
                properties:
                  name:
                    type: string
                  authentication_type:
                    type: string
                  sharing_code:
                    type: string
                  data_recipient_global_metastore_id:
                    type: string
                  owner:
                    type: string
                  comment:
                    type: string
                  ip_access_list:
                    type: object
                    properties:
                      allowed_ip_addresses:
                        type: array
                        items:
                          type: string
                  properties_kvpairs:
                    type: object
                    properties:
                      properties:
                        type: object
                        properties:
                          property1:
                            type: string
                          property2:
                            type: string
                  activation_url:
                    type: string
                  activated:
                    type: boolean
                  created_at:
                    type: integer
                  created_by:
                    type: string
                  tokens:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        created_at:
                          type: integer
                        created_by:
                          type: string
                        activation_url:
                          type: string
                        expiration_time:
                          type: integer
                        updated_at:
                          type: integer
                        updated_by:
                          type: string
                  updated_at:
                    type: integer
                  updated_by:
                    type: string
                  cloud:
                    type: string
                  region:
                    type: string
                  metastore_id:
                    type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                existing_token_expire_in_seconds:
                  type: required
              example:
                existing_token_expire_in_seconds: 0
      description: Refreshes the specified recipient's delta sharing authentication
        token with the provided token info. The caller must be the owner of the recipient.
  /api/2.1/unity-catalog/public/data_sharing_activation/{activation_url}:
    get:
      operationId: recipient-activation-token-retrievetoken
      externalDocs:
        url: https://docs.databricks.com/api/workspace/recipientactivation/retrievetoken
      x-stackQL-resource: recipient_activation_token
      x-stackQL-method: retrievetoken
      x-stackQL-verb: select
      x-numReqParams: 1
      parameters:
      - name: activation_url
        required: true
        description: string
        in: path
      responses:
        '200':
          description: The access token was successfully retrieved.
          content:
            application/json:
              schema:
                type: object
                properties:
                  shareCredentialsVersion:
                    type: integer
                  bearerToken:
                    type: string
                  endpoint:
                    type: string
                  expirationTime:
                    type: string
      description: Retrieve access token with an activation url. This is a public
        API without any authentication.
  /api/2.1/unity-catalog/public/data_sharing_activation_info/{activation_url}:
    get:
      operationId: recipient-activation-url-getactivationurlinfo
      externalDocs:
        url: https://docs.databricks.com/api/workspace/recipientactivation/getactivationurlinfo
      x-stackQL-resource: recipient_activation_url
      x-stackQL-method: getactivationurlinfo
      x-stackQL-verb: exec
      x-numReqParams: 1
      parameters:
      - name: activation_url
        required: true
        description: string
        in: path
      responses:
        '200':
          description: The activation URL fetch was successful.
          content:
            application/json:
              schema:
                type: object
                properties: {}
      description: Gets an activation URL for a share.
  /api/2.1/unity-catalog/recipients/{name}/share-permissions:
    get:
      operationId: recipient-share-permissions-sharepermissions
      externalDocs:
        url: https://docs.databricks.com/api/workspace/recipients/sharepermissions
      x-stackQL-resource: recipient_share_permissions
      x-stackQL-method: sharepermissions
      x-stackQL-verb: select
      x-numReqParams: 1
      parameters:
      - name: name
        required: true
        description: string
        in: path
      - name: max_results
        in: query
      - name: page_token
        in: query
      responses:
        '200':
          description: The recipient share permissions list was successfully retrieved.
          content:
            application/json:
              schema:
                type: object
                properties:
                  permissions_out:
                    type: array
                    items:
                      type: object
                      properties:
                        share_name:
                          type: string
                        privilege_assignments:
                          type: array
                          items:
                            type: object
                            properties:
                              principal:
                                type: string
                              privileges:
                                type: array
                                items:
                                  type: string
                  next_page_token:
                    type: string
      x-stackQL-objectKey: $.permissions_out
      description: Gets the share permissions for the specified Recipient. The caller
        must be a metastore admin or the owner of the Recipient.
  /api/2.1/unity-catalog/shares:
    post:
      operationId: shares-create
      externalDocs:
        url: https://docs.databricks.com/api/workspace/shares/create
      x-stackQL-resource: shares
      x-stackQL-method: create
      x-stackQL-verb: insert
      x-numReqParams: 0
      parameters: []
      responses:
        '200':
          description: The new share was successfully created.
          content:
            application/json:
              schema:
                type: object
                properties:
                  name:
                    type: string
                  owner:
                    type: string
                  comment:
                    type: string
                  storage_root:
                    type: string
                  objects:
                    type: array
                    items:
                      type: object
                      properties:
                        name:
                          type: string
                        comment:
                          type: string
                        shared_as:
                          type: string
                        string_shared_as:
                          type: string
                        content:
                          type: string
                        history_data_sharing_status:
                          type: string
                        partitions:
                          type: array
                          items:
                            type: object
                            properties:
                              values:
                                type: array
                                items:
                                  type: object
                                  properties:
                                    name:
                                      type: string
                                    value:
                                      type: string
                                    recipient_property_key:
                                      type: string
                                    op:
                                      type: string
                        cdf_enabled:
                          type: boolean
                        start_version:
                          type: integer
                        data_object_type:
                          type: string
                        added_at:
                          type: integer
                        added_by:
                          type: string
                        status:
                          type: string
                  created_at:
                    type: integer
                  created_by:
                    type: string
                  updated_at:
                    type: integer
                  updated_by:
                    type: string
                  storage_location:
                    type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: required
                comment:
                  type: string
                storage_root:
                  type: string
              example:
                name: string
                comment: string
                storage_root: string
      description: Creates a new share for data objects. Data objects can be added
        after creation with
    get:
      operationId: shares-list
      externalDocs:
        url: https://docs.databricks.com/api/workspace/shares/list
      x-stackQL-resource: shares
      x-stackQL-method: list
      x-stackQL-verb: select
      x-numReqParams: 0
      parameters:
      - name: max_results
        in: query
      - name: page_token
        in: query
      responses:
        '200':
          description: The shares list was successfully retrieved.
          content:
            application/json:
              schema:
                type: object
                properties:
                  shares:
                    type: array
                    items:
                      type: object
                      properties:
                        name:
                          type: string
                        owner:
                          type: string
                        comment:
                          type: string
                        storage_root:
                          type: string
                        objects:
                          type: array
                          items:
                            type: object
                            properties:
                              name:
                                type: string
                              comment:
                                type: string
                              shared_as:
                                type: string
                              string_shared_as:
                                type: string
                              content:
                                type: string
                              history_data_sharing_status:
                                type: string
                              partitions:
                                type: array
                                items:
                                  type: object
                                  properties:
                                    values:
                                      type: array
                                      items:
                                        type: object
                                        properties:
                                          name:
                                            type: string
                                          value:
                                            type: string
                                          recipient_property_key:
                                            type: string
                                          op:
                                            type: string
                              cdf_enabled:
                                type: boolean
                              start_version:
                                type: integer
                              data_object_type:
                                type: string
                              added_at:
                                type: integer
                              added_by:
                                type: string
                              status:
                                type: string
                        created_at:
                          type: integer
                        created_by:
                          type: string
                        updated_at:
                          type: integer
                        updated_by:
                          type: string
                        storage_location:
                          type: string
                  next_page_token:
                    type: string
      x-stackQL-objectKey: $.shares
      description: Gets an array of data object shares from the metastore. The caller
        must be a metastore admin or the owner of the share. There is no guarantee
        of a specific ordering of the elements in the array.
  /api/2.1/unity-catalog/shares/{name}:
    delete:
      operationId: shares-delete
      externalDocs:
        url: https://docs.databricks.com/api/workspace/shares/delete
      x-stackQL-resource: shares
      x-stackQL-method: delete
      x-stackQL-verb: delete
      x-numReqParams: 1
      parameters:
      - name: name
        required: true
        description: string
        in: path
      responses:
        '200':
          description: The share was successfully deleted.
          content:
            application/json:
              schema:
                type: object
                properties: {}
      description: Deletes a data object share from the metastore. The caller must
        be an owner of the share.
    get:
      operationId: shares-get
      externalDocs:
        url: https://docs.databricks.com/api/workspace/shares/get
      x-stackQL-resource: shares
      x-stackQL-method: get
      x-stackQL-verb: select
      x-numReqParams: 1
      parameters:
      - name: name
        required: true
        description: string
        in: path
      - name: include_shared_data
        in: query
      responses:
        '200':
          description: The share was successfully retrieved.
          content:
            application/json:
              schema:
                type: object
                properties:
                  name:
                    type: string
                  owner:
                    type: string
                  comment:
                    type: string
                  storage_root:
                    type: string
                  objects:
                    type: array
                    items:
                      type: object
                      properties:
                        name:
                          type: string
                        comment:
                          type: string
                        shared_as:
                          type: string
                        string_shared_as:
                          type: string
                        content:
                          type: string
                        history_data_sharing_status:
                          type: string
                        partitions:
                          type: array
                          items:
                            type: object
                            properties:
                              values:
                                type: array
                                items:
                                  type: object
                                  properties:
                                    name:
                                      type: string
                                    value:
                                      type: string
                                    recipient_property_key:
                                      type: string
                                    op:
                                      type: string
                        cdf_enabled:
                          type: boolean
                        start_version:
                          type: integer
                        data_object_type:
                          type: string
                        added_at:
                          type: integer
                        added_by:
                          type: string
                        status:
                          type: string
                  created_at:
                    type: integer
                  created_by:
                    type: string
                  updated_at:
                    type: integer
                  updated_by:
                    type: string
                  storage_location:
                    type: string
      description: Gets a data object share from the metastore. The caller must be
        a metastore admin or the owner of the share.
    patch:
      operationId: shares-update
      externalDocs:
        url: https://docs.databricks.com/api/workspace/shares/update
      x-stackQL-resource: shares
      x-stackQL-method: update
      x-stackQL-verb: update
      x-numReqParams: 1
      parameters:
      - name: name
        required: true
        description: string
        in: path
      responses:
        '200':
          description: The share was successfully updated.
          content:
            application/json:
              schema:
                type: object
                properties:
                  name:
                    type: string
                  owner:
                    type: string
                  comment:
                    type: string
                  storage_root:
                    type: string
                  objects:
                    type: array
                    items:
                      type: object
                      properties:
                        name:
                          type: string
                        comment:
                          type: string
                        shared_as:
                          type: string
                        string_shared_as:
                          type: string
                        content:
                          type: string
                        history_data_sharing_status:
                          type: string
                        partitions:
                          type: array
                          items:
                            type: object
                            properties:
                              values:
                                type: array
                                items:
                                  type: object
                                  properties:
                                    name:
                                      type: string
                                    value:
                                      type: string
                                    recipient_property_key:
                                      type: string
                                    op:
                                      type: string
                        cdf_enabled:
                          type: boolean
                        start_version:
                          type: integer
                        data_object_type:
                          type: string
                        added_at:
                          type: integer
                        added_by:
                          type: string
                        status:
                          type: string
                  created_at:
                    type: integer
                  created_by:
                    type: string
                  updated_at:
                    type: integer
                  updated_by:
                    type: string
                  storage_location:
                    type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                owner:
                  type: string
                comment:
                  type: string
                storage_root:
                  type: string
                new_name:
                  type: string
                updates:
                  type: Array of object
              example:
                owner: string
                comment: string
                storage_root: string
                new_name: string
                updates:
                - action: ADD
                  data_object:
                    name: string
                    comment: string
                    shared_as: string
                    string_shared_as: string
                    content: string
                    history_data_sharing_status: ENABLED
                    partitions:
                    - values:
                      - name: string
                        value: string
                        recipient_property_key: string
                        op: EQUAL
                    cdf_enabled: true
                    start_version: 0
                    data_object_type: TABLE
                    added_at: 0
                    added_by: string
                    status: ACTIVE
      description: Updates the share with the changes and data objects in the request.
        The caller must be the owner of the share or a metastore admin.
  /api/2.1/unity-catalog/shares/{name}/permissions:
    get:
      operationId: share-permissions-sharepermissions
      externalDocs:
        url: https://docs.databricks.com/api/workspace/shares/sharepermissions
      x-stackQL-resource: share_permissions
      x-stackQL-method: sharepermissions
      x-stackQL-verb: select
      x-numReqParams: 1
      parameters:
      - name: name
        required: true
        description: string
        in: path
      - name: max_results
        in: query
      - name: page_token
        in: query
      responses:
        '200':
          description: The share permissions list was successfully retrieved.
          content:
            application/json:
              schema:
                type: object
                properties:
                  privilege_assignments:
                    type: array
                    items:
                      type: object
                      properties:
                        principal:
                          type: string
                        privileges:
                          type: array
                          items:
                            type: string
      x-stackQL-objectKey: $.privilege_assignments
      description: Gets the permissions for a data share from the metastore. The caller
        must be a metastore admin or the owner of the share.
    patch:
      operationId: share-permissions-updatepermissions
      externalDocs:
        url: https://docs.databricks.com/api/workspace/shares/updatepermissions
      x-stackQL-resource: share_permissions
      x-stackQL-method: updatepermissions
      x-stackQL-verb: update
      x-numReqParams: 1
      parameters:
      - name: name
        required: true
        description: string
        in: path
      - name: max_results
        in: query
      - name: page_token
        in: query
      responses:
        '200':
          description: The share permissions were successfully updated.
          content:
            application/json:
              schema:
                type: object
                properties: {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                changes:
                  type: Array of object
              example:
                changes:
                - principal: string
                  add:
                  - SELECT
                  remove:
                  - SELECT
      description: Updates the permissions for a data share in the metastore. The
        caller must be a metastore admin or an owner of the share.
components:
  x-stackQL-resources:
    providers:
      id: databricks_workspace.deltasharing.providers
      name: providers
      title: Providers
      methods:
        create:
          operation:
            $ref: '#/paths/~1api~12.1~1unity-catalog~1providers/post'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
        list:
          operation:
            $ref: '#/paths/~1api~12.1~1unity-catalog~1providers/get'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.providers
        delete:
          operation:
            $ref: '#/paths/~1api~12.1~1unity-catalog~1providers~1{name}/delete'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
        get:
          operation:
            $ref: '#/paths/~1api~12.1~1unity-catalog~1providers~1{name}/get'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
        update:
          operation:
            $ref: '#/paths/~1api~12.1~1unity-catalog~1providers~1{name}/patch'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
        - $ref: '#/components/x-stackQL-resources/providers/methods/get'
        - $ref: '#/components/x-stackQL-resources/providers/methods/list'
        insert:
        - $ref: '#/components/x-stackQL-resources/providers/methods/create'
        update:
        - $ref: '#/components/x-stackQL-resources/providers/methods/update'
        replace: []
        delete:
        - $ref: '#/components/x-stackQL-resources/providers/methods/delete'
        exec: []
    provider_shares:
      id: databricks_workspace.deltasharing.provider_shares
      name: provider_shares
      title: Provider_shares
      methods:
        listshares:
          operation:
            $ref: '#/paths/~1api~12.1~1unity-catalog~1providers~1{name}~1shares/get'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.shares
      sqlVerbs:
        select:
        - $ref: '#/components/x-stackQL-resources/provider_shares/methods/listshares'
        insert: []
        update: []
        replace: []
        delete: []
        exec: []
    recipients:
      id: databricks_workspace.deltasharing.recipients
      name: recipients
      title: Recipients
      methods:
        create:
          operation:
            $ref: '#/paths/~1api~12.1~1unity-catalog~1recipients/post'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
        list:
          operation:
            $ref: '#/paths/~1api~12.1~1unity-catalog~1recipients/get'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.recipients
        delete:
          operation:
            $ref: '#/paths/~1api~12.1~1unity-catalog~1recipients~1{name}/delete'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
        get:
          operation:
            $ref: '#/paths/~1api~12.1~1unity-catalog~1recipients~1{name}/get'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
        update:
          operation:
            $ref: '#/paths/~1api~12.1~1unity-catalog~1recipients~1{name}/patch'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
        rotatetoken:
          operation:
            $ref: '#/paths/~1api~12.1~1unity-catalog~1recipients~1{name}~1rotate-token/post'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
        - $ref: '#/components/x-stackQL-resources/recipients/methods/get'
        - $ref: '#/components/x-stackQL-resources/recipients/methods/list'
        insert:
        - $ref: '#/components/x-stackQL-resources/recipients/methods/create'
        update:
        - $ref: '#/components/x-stackQL-resources/recipients/methods/update'
        replace: []
        delete:
        - $ref: '#/components/x-stackQL-resources/recipients/methods/delete'
        exec:
        - $ref: '#/components/x-stackQL-resources/recipients/methods/rotatetoken'
    recipient_activation_token:
      id: databricks_workspace.deltasharing.recipient_activation_token
      name: recipient_activation_token
      title: Recipient_activation_token
      methods:
        retrievetoken:
          operation:
            $ref: '#/paths/~1api~12.1~1unity-catalog~1public~1data_sharing_activation~1{activation_url}/get'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
        - $ref: '#/components/x-stackQL-resources/recipient_activation_token/methods/retrievetoken'
        insert: []
        update: []
        replace: []
        delete: []
        exec: []
    recipient_activation_url:
      id: databricks_workspace.deltasharing.recipient_activation_url
      name: recipient_activation_url
      title: Recipient_activation_url
      methods:
        getactivationurlinfo:
          operation:
            $ref: '#/paths/~1api~12.1~1unity-catalog~1public~1data_sharing_activation_info~1{activation_url}/get'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select: []
        insert: []
        update: []
        replace: []
        delete: []
        exec:
        - $ref: '#/components/x-stackQL-resources/recipient_activation_url/methods/getactivationurlinfo'
    recipient_share_permissions:
      id: databricks_workspace.deltasharing.recipient_share_permissions
      name: recipient_share_permissions
      title: Recipient_share_permissions
      methods:
        sharepermissions:
          operation:
            $ref: '#/paths/~1api~12.1~1unity-catalog~1recipients~1{name}~1share-permissions/get'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.permissions_out
      sqlVerbs:
        select:
        - $ref: '#/components/x-stackQL-resources/recipient_share_permissions/methods/sharepermissions'
        insert: []
        update: []
        replace: []
        delete: []
        exec: []
    shares:
      id: databricks_workspace.deltasharing.shares
      name: shares
      title: Shares
      methods:
        create:
          operation:
            $ref: '#/paths/~1api~12.1~1unity-catalog~1shares/post'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
        list:
          operation:
            $ref: '#/paths/~1api~12.1~1unity-catalog~1shares/get'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.shares
        delete:
          operation:
            $ref: '#/paths/~1api~12.1~1unity-catalog~1shares~1{name}/delete'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
        get:
          operation:
            $ref: '#/paths/~1api~12.1~1unity-catalog~1shares~1{name}/get'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
        update:
          operation:
            $ref: '#/paths/~1api~12.1~1unity-catalog~1shares~1{name}/patch'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
        - $ref: '#/components/x-stackQL-resources/shares/methods/get'
        - $ref: '#/components/x-stackQL-resources/shares/methods/list'
        insert:
        - $ref: '#/components/x-stackQL-resources/shares/methods/create'
        update:
        - $ref: '#/components/x-stackQL-resources/shares/methods/update'
        replace: []
        delete:
        - $ref: '#/components/x-stackQL-resources/shares/methods/delete'
        exec: []
    share_permissions:
      id: databricks_workspace.deltasharing.share_permissions
      name: share_permissions
      title: Share_permissions
      methods:
        sharepermissions:
          operation:
            $ref: '#/paths/~1api~12.1~1unity-catalog~1shares~1{name}~1permissions/get'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.privilege_assignments
        updatepermissions:
          operation:
            $ref: '#/paths/~1api~12.1~1unity-catalog~1shares~1{name}~1permissions/patch'
          response:
            mediaType: application/json
            overrideMediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
        - $ref: '#/components/x-stackQL-resources/share_permissions/methods/sharepermissions'
        insert: []
        update:
        - $ref: '#/components/x-stackQL-resources/share_permissions/methods/updatepermissions'
        replace: []
        delete: []
        exec: []

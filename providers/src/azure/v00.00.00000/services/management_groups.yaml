openapi: 3.0.0
servers:
  - url: https://management.azure.com/
info:
  title: Management Groups
  description: Management groups enable you to manage access, policies, and compliance for your Azure subscriptions.
  contact:
    name: StackQL Studios
    url: https://stackql.io/
    email: info@stackql.io
  version: 2024-10-15-stackql-generated
security:
  - azure_auth:
      - user_impersonation
components:
  securitySchemes:
    azure_auth:
      description: Azure Active Directory OAuth2 Flow.
      type: oauth2
      flows:
        implicit:
          authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
          scopes:
            user_impersonation: impersonate your user account
  parameters:
    GroupIdParameter:
      name: groupId
      in: path
      description: Management Group ID.
      required: true
      x-ms-parameter-location: method
      schema:
        type: string
    SubscriptionIdParameter:
      name: subscriptionId
      in: path
      description: Subscription ID.
      required: true
      x-ms-parameter-location: method
      schema:
        type: string
    ApiVersionParameter:
      name: api-version
      in: query
      description: Version of the API to be used with the client request. The current version is 2018-01-01-preview.
      required: false
      schema:
        type: string
    ExpandParameter:
      name: $expand
      in: query
      description: The $expand=children query string parameter allows clients to request inclusion of children in the response payload.  $expand=path includes the path from the root group to the current group.  $expand=ancestors includes the ancestor Ids of the current group.
      required: false
      x-ms-parameter-location: method
      schema:
        enum:
          - children
          - path
          - ancestors
        x-ms-enum:
          name: ManagementGroupExpandType
          modelAsString: true
        type: string
    RecurseParameter:
      name: $recurse
      in: query
      description: The $recurse=true query string parameter allows clients to request inclusion of entire hierarchy in the response payload. Note that  $expand=children must be passed up if $recurse is set to true.
      required: false
      x-ms-parameter-location: method
      schema:
        type: boolean
    FilterParameter:
      name: $filter
      in: query
      description: A filter which allows the exclusion of subscriptions from results (i.e. '$filter=children.childType ne Subscription')
      required: false
      x-ms-parameter-location: method
      schema:
        type: string
    EntityFilterParameter:
      name: $filter
      in: query
      description: The filter parameter allows you to filter on the the name or display name fields. You can check for equality on the name field (e.g. name eq '{entityName}')  and you can check for substrings on either the name or display name fields(e.g. contains(name, '{substringToSearch}'), contains(displayName, '{substringToSearch')). Note that the '{entityName}' and '{substringToSearch}' fields are checked case insensitively.
      required: false
      x-ms-parameter-location: method
      schema:
        type: string
    SelectParameter:
      name: $select
      in: query
      description: This parameter specifies the fields to include in the response. Can include any combination of Name,DisplayName,Type,ParentDisplayNameChain,ParentChain, e.g. '$select=Name,DisplayName,Type,ParentDisplayNameChain,ParentNameChain'. When specified the $select parameter can override select in $skipToken.
      required: false
      x-ms-parameter-location: method
      schema:
        type: string
    SearchParameter:
      name: $search
      in: query
      description: |-
        The $search parameter is used in conjunction with the $filter parameter to return three different outputs depending on the parameter passed in. 
        With $search=AllowedParents the API will return the entity info of all groups that the requested entity will be able to reparent to as determined by the user's permissions.
        With $search=AllowedChildren the API will return the entity info of all entities that can be added as children of the requested entity.
        With $search=ParentAndFirstLevelChildren the API will return the parent and  first level of children that the user has either direct access to or indirect access via one of their descendants.
        With $search=ParentOnly the API will return only the group if the user has access to at least one of the descendants of the group.
        With $search=ChildrenOnly the API will return only the first level of children of the group entity info specified in $filter.  The user must have direct access to the children entities or one of it's descendants for it to show up in the results.
      required: false
      x-ms-parameter-location: method
      schema:
        enum:
          - AllowedParents
          - AllowedChildren
          - ParentAndFirstLevelChildren
          - ParentOnly
          - ChildrenOnly
        x-ms-enum:
          name: EntitySearchType
          modelAsString: true
        type: string
    GroupNameParameter:
      name: groupName
      in: query
      description: A filter which allows the get entities call to focus on a particular group (i.e. "$filter=name eq 'groupName'")
      required: false
      x-ms-parameter-location: method
      schema:
        type: string
    SkipParameter:
      name: $skip
      in: query
      description: Number of entities to skip over when retrieving results. Passing this in will override $skipToken.
      required: false
      x-ms-parameter-location: method
      schema:
        type: integer
    TopParameter:
      name: $top
      in: query
      description: Number of elements to return when retrieving results. Passing this in will override $skipToken.
      required: false
      x-ms-parameter-location: method
      schema:
        type: integer
    SkipTokenParameter:
      name: $skiptoken
      in: query
      description: |
        Page continuation token is only used if a previous operation returned a partial result. 
        If a previous response contains a nextLink element, the value of the nextLink element will include a token parameter that specifies a starting point to use for subsequent calls.
      required: false
      x-ms-parameter-location: method
      schema:
        type: string
    CacheControlHeader:
      name: Cache-Control
      in: header
      description: Indicates whether the request should utilize any caches. Populate the header with 'no-cache' value to bypass existing caches.
      x-ms-parameter-location: method
      schema:
        default: no-cache
        type: string
    EntityViewParameter:
      name: $view
      in: query
      description: The view parameter allows clients to filter the type of data that is returned by the getEntities call.
      required: false
      x-ms-parameter-location: method
      schema:
        enum:
          - FullHierarchy
          - GroupsOnly
          - SubscriptionsOnly
          - Audit
        x-ms-enum:
          name: EntityViewParameterType
          modelAsString: true
        type: string
  schemas:
    ErrorResponse:
      description: The error object.
      properties:
        error:
          title: Error
          $ref: '#/components/schemas/ErrorDetails'
      type: object
    ErrorDetails:
      description: The details of the error.
      properties:
        code:
          description: One of a server-defined set of error codes.
          type: string
        message:
          description: A human-readable representation of the error.
          type: string
        details:
          description: A human-readable representation of the error's details.
          type: string
      type: object
    Operation:
      description: Operation supported by the Microsoft.Management resource provider.
      type: object
      properties:
        name:
          description: 'Operation name: {provider}/{resource}/{operation}.'
          type: string
          readOnly: true
        display:
          title: Display
          $ref: '#/components/schemas/OperationDisplayProperties'
    OperationDisplayProperties:
      description: The object that represents the operation.
      properties:
        provider:
          description: The name of the provider.
          type: string
          readOnly: true
        resource:
          description: The resource on which the operation is performed.
          type: string
          readOnly: true
        operation:
          description: The operation that can be performed.
          type: string
          readOnly: true
        description:
          description: Operation description.
          type: string
          readOnly: true
      type: object
    OperationListResult:
      description: Describes the result of the request to list Microsoft.Management operations.
      properties:
        value:
          description: List of operations supported by the Microsoft.Management resource provider.
          type: array
          readOnly: true
          items:
            $ref: '#/components/schemas/Operation'
          x-ms-identifiers:
            - name
        nextLink:
          description: URL to get the next set of operation list results if there are any.
          type: string
          readOnly: true
      type: object
    CheckNameAvailabilityResult:
      description: Describes the result of the request to check management group name availability.
      properties:
        nameAvailable:
          description: Required. True indicates name is valid and available. False indicates the name is invalid, unavailable, or both.
          type: boolean
          readOnly: true
        reason:
          description: Required if nameAvailable == false. Invalid indicates the name provided does not match the resource provider's naming requirements (incorrect length, unsupported characters, etc.) AlreadyExists indicates that the name is already in use and is therefore unavailable.
          type: string
          enum:
            - Invalid
            - AlreadyExists
          x-ms-enum:
            name: Reason
            modelAsString: false
            values:
              - value: Invalid
              - value: AlreadyExists
          readOnly: true
        message:
          description: Required if nameAvailable == false. Localized. If reason == invalid, provide the user with the reason why the given name is invalid, and provide the resource naming requirements so that the user can select a valid name. If reason == AlreadyExists, explain that is already in use, and direct them to select a different name.
          type: string
          readOnly: true
      type: object
    TenantBackfillStatusResult:
      description: The tenant backfill status
      properties:
        tenantId:
          type: string
          description: The AAD Tenant ID associated with the management group. For example, 00000000-0000-0000-0000-000000000000
          readOnly: true
        status:
          description: The status of the Tenant Backfill
          type: string
          enum:
            - NotStarted
            - NotStartedButGroupsExist
            - Started
            - Failed
            - Cancelled
            - Completed
          x-ms-enum:
            name: Status
            modelAsString: false
            values:
              - value: NotStarted
              - value: NotStartedButGroupsExist
              - value: Started
              - value: Failed
              - value: Cancelled
              - value: Completed
          readOnly: true
      type: object
    ManagementGroupListResult:
      description: Describes the result of the request to list management groups.
      properties:
        value:
          description: The list of management groups.
          type: array
          items:
            $ref: '#/components/schemas/ManagementGroupInfo'
        '@nextLink':
          description: The URL to use for getting the next set of results.
          type: string
          readOnly: true
      type: object
    ManagementGroupInfo:
      description: The management group resource.
      properties:
        id:
          type: string
          description: The fully qualified ID for the management group.  For example, /providers/Microsoft.Management/managementGroups/0000000-0000-0000-0000-000000000000
          readOnly: true
        type:
          type: string
          description: The type of the resource. For example, Microsoft.Management/managementGroups
          readOnly: true
        name:
          type: string
          description: The name of the management group. For example, 00000000-0000-0000-0000-000000000000
          readOnly: true
        properties:
          x-ms-client-flatten: true
          title: Properties
          $ref: '#/components/schemas/ManagementGroupInfoProperties'
      type: object
    ManagementGroupInfoProperties:
      description: The generic properties of a management group.
      type: object
      properties:
        tenantId:
          type: string
          description: The AAD Tenant ID associated with the management group. For example, 00000000-0000-0000-0000-000000000000
        displayName:
          type: string
          description: The friendly name of the management group.
    ListSubscriptionUnderManagementGroup:
      description: The details of all subscriptions under management group.
      properties:
        value:
          description: The list of subscriptions.
          type: array
          items:
            $ref: '#/components/schemas/SubscriptionUnderManagementGroup'
        nextLink:
          description: The URL to use for getting the next set of results.
          type: string
          readOnly: true
      type: object
    SubscriptionUnderManagementGroup:
      description: The details of subscription under management group.
      x-ms-azure-resource: true
      properties:
        id:
          type: string
          description: The fully qualified ID for the subscription.  For example, /providers/Microsoft.Management/managementGroups/0000000-0000-0000-0000-000000000000/subscriptions/0000000-0000-0000-0000-000000000001
          readOnly: true
        type:
          type: string
          description: The type of the resource.  For example, Microsoft.Management/managementGroups/subscriptions
          readOnly: true
        name:
          type: string
          description: The stringified id of the subscription. For example, 00000000-0000-0000-0000-000000000000
          readOnly: true
        properties:
          title: Properties
          x-ms-client-flatten: true
          $ref: '#/components/schemas/SubscriptionUnderManagementGroupProperties'
      type: object
    SubscriptionUnderManagementGroupProperties:
      description: The generic properties of subscription under a management group.
      type: object
      properties:
        tenant:
          type: string
          description: The AAD Tenant ID associated with the subscription. For example, 00000000-0000-0000-0000-000000000000
        displayName:
          type: string
          description: The friendly name of the subscription.
        parent:
          title: Parent
          $ref: '#/components/schemas/DescendantParentGroupInfo'
          nullable: true
          x-nullable: true
        state:
          type: string
          description: The state of the subscription.
    ManagementGroup:
      description: The management group details.
      x-ms-azure-resource: true
      properties:
        id:
          type: string
          description: The fully qualified ID for the management group.  For example, /providers/Microsoft.Management/managementGroups/0000000-0000-0000-0000-000000000000
          readOnly: true
        type:
          type: string
          description: The type of the resource.  For example, Microsoft.Management/managementGroups
          readOnly: true
        name:
          type: string
          description: The name of the management group. For example, 00000000-0000-0000-0000-000000000000
          readOnly: true
        properties:
          title: Properties
          x-ms-client-flatten: true
          $ref: '#/components/schemas/ManagementGroupProperties'
      type: object
    ManagementGroupProperties:
      description: The generic properties of a management group.
      type: object
      properties:
        tenantId:
          type: string
          description: The AAD Tenant ID associated with the management group. For example, 00000000-0000-0000-0000-000000000000
        displayName:
          type: string
          description: The friendly name of the management group.
        details:
          title: Details
          $ref: '#/components/schemas/ManagementGroupDetails'
        children:
          description: The list of children.
          nullable: true
          type: array
          items:
            $ref: '#/components/schemas/ManagementGroupChildInfo'
    ManagementGroupDetails:
      description: The details of a management group.
      type: object
      properties:
        version:
          type: number
          format: int32
          description: The version number of the object.
        updatedTime:
          type: string
          format: date-time
          description: The date and time when this object was last updated.
        updatedBy:
          type: string
          description: The identity of the principal or process that updated the object.
        parent:
          title: Parent
          $ref: '#/components/schemas/ParentGroupInfo'
        path:
          description: The path from the root to the current group.
          nullable: true
          type: array
          items:
            $ref: '#/components/schemas/ManagementGroupPathElement'
          x-ms-identifiers:
            - name
        managementGroupAncestors:
          description: The ancestors of the management group.
          nullable: true
          type: array
          items:
            type: string
        managementGroupAncestorsChain:
          description: The ancestors of the management group displayed in reversed order, from immediate parent to the root.
          nullable: true
          type: array
          items:
            $ref: '#/components/schemas/ManagementGroupPathElement'
          x-ms-identifiers:
            - name
    ManagementGroupChildInfo:
      description: The child information of a management group.
      properties:
        type:
          title: The type of child resource.
          $ref: '#/components/schemas/ManagementGroupChildType'
          description: The fully qualified resource type which includes provider namespace (e.g. Microsoft.Management/managementGroups)
        id:
          type: string
          description: The fully qualified ID for the child resource (management group or subscription).  For example, /providers/Microsoft.Management/managementGroups/0000000-0000-0000-0000-000000000000
        name:
          type: string
          description: The name of the child entity.
        displayName:
          type: string
          description: The friendly name of the child resource.
        children:
          description: The list of children.
          type: array
          items:
            $ref: '#/components/schemas/ManagementGroupChildInfo'
      type: object
    ManagementGroupPathElement:
      description: A path element of a management group ancestors.
      properties:
        name:
          type: string
          description: The name of the group.
        displayName:
          type: string
          description: The friendly name of the group.
      type: object
    ParentGroupInfo:
      description: (Optional) The ID of the parent management group.
      properties:
        id:
          type: string
          description: The fully qualified ID for the parent management group.  For example, /providers/Microsoft.Management/managementGroups/0000000-0000-0000-0000-000000000000
        name:
          type: string
          description: The name of the parent management group
        displayName:
          type: string
          description: The friendly name of the parent management group.
      type: object
    ManagementGroupChildType:
      type: string
      enum:
        - Microsoft.Management/managementGroups
        - /subscriptions
      x-ms-enum:
        name: ManagementGroupChildType
        modelAsString: false
        values:
          - value: Microsoft.Management/managementGroups
          - value: /subscriptions
      description: The type of child resource.
    OperationResults:
      description: The results of an asynchronous operation.
      properties:
        id:
          type: string
          description: The fully qualified ID for the management group.  For example, /providers/Microsoft.Management/managementGroups/0000000-0000-0000-0000-000000000000
          readOnly: true
        type:
          type: string
          description: The type of the resource.  For example, Microsoft.Management/managementGroups
          readOnly: true
        name:
          type: string
          description: The name of the management group. For example, 00000000-0000-0000-0000-000000000000
          readOnly: true
        properties:
          title: Properties
          x-ms-client-flatten: true
          $ref: '#/components/schemas/ManagementGroupInfoProperties'
      type: object
    AzureAsyncOperationResults:
      description: The results of Azure-AsyncOperation.
      properties:
        id:
          type: string
          description: The fully qualified ID for the management group.  For example, /providers/Microsoft.Management/managementGroups/0000000-0000-0000-0000-000000000000
          readOnly: true
        type:
          type: string
          description: The type of the resource.  For example, Microsoft.Management/managementGroups
          readOnly: true
        name:
          type: string
          description: The name of the management group. For example, 00000000-0000-0000-0000-000000000000
          readOnly: true
        status:
          type: string
          description: The current status of the asynchronous operation performed . For example, Running, Succeeded, Failed
          readOnly: true
        properties:
          title: Properties
          x-ms-client-flatten: true
          $ref: '#/components/schemas/ManagementGroupInfoProperties'
      type: object
    HierarchySettings:
      description: Settings defined at the Management Group scope.
      x-ms-azure-resource: true
      properties:
        id:
          type: string
          description: The fully qualified ID for the settings object.  For example, /providers/Microsoft.Management/managementGroups/0000000-0000-0000-0000-000000000000/settings/default.
          readOnly: true
        type:
          type: string
          description: The type of the resource.  For example, Microsoft.Management/managementGroups/settings.
          readOnly: true
        name:
          type: string
          description: The name of the object. In this case, default.
          readOnly: true
        properties:
          title: Properties
          x-ms-client-flatten: true
          $ref: '#/components/schemas/HierarchySettingsProperties'
      type: object
    HierarchySettingsProperties:
      description: The generic properties of hierarchy settings.
      type: object
      properties:
        tenantId:
          type: string
          description: The AAD Tenant ID associated with the hierarchy settings. For example, 00000000-0000-0000-0000-000000000000
        requireAuthorizationForGroupCreation:
          type: boolean
          description: Indicates whether RBAC access is required upon group creation under the root Management Group. If set to true, user will require Microsoft.Management/managementGroups/write action on the root Management Group scope in order to create new Groups directly under the root. This will prevent new users from creating new Management Groups, unless they are given access.
        defaultManagementGroup:
          type: string
          description: Settings that sets the default Management Group under which new subscriptions get added in this tenant. For example, /providers/Microsoft.Management/managementGroups/defaultGroup
    HierarchySettingsList:
      description: Lists all hierarchy settings.
      properties:
        value:
          description: The list of hierarchy settings.
          type: array
          items:
            $ref: '#/components/schemas/HierarchySettingsInfo'
        '@nextLink':
          description: The URL to use for getting the next set of results.
          type: string
          readOnly: true
      type: object
    HierarchySettingsInfo:
      description: The hierarchy settings resource.
      properties:
        id:
          type: string
          description: The fully qualified ID for the settings object.  For example, /providers/Microsoft.Management/managementGroups/0000000-0000-0000-0000-000000000000/settings/default.
          readOnly: true
        type:
          type: string
          description: The type of the resource.  For example, Microsoft.Management/managementGroups/settings.
          readOnly: true
        name:
          type: string
          description: The name of the object. In this case, default.
          readOnly: true
        properties:
          x-ms-client-flatten: true
          title: Properties
          $ref: '#/components/schemas/HierarchySettingsProperties'
      type: object
    CreateOrUpdateSettingsRequest:
      description: Parameters for creating or updating Management Group settings
      x-ms-azure-resource: true
      properties:
        properties:
          title: Properties
          x-ms-client-flatten: true
          $ref: '#/components/schemas/CreateOrUpdateSettingsProperties'
      type: object
    CreateOrUpdateSettingsProperties:
      description: The properties of the request to create or update Management Group settings
      type: object
      x-ms-azure-resource: true
      properties:
        requireAuthorizationForGroupCreation:
          type: boolean
          description: Indicates whether RBAC access is required upon group creation under the root Management Group. If set to true, user will require Microsoft.Management/managementGroups/write action on the root Management Group scope in order to create new Groups directly under the root. This will prevent new users from creating new Management Groups, unless they are given access.
        defaultManagementGroup:
          type: string
          description: Settings that sets the default Management Group under which new subscriptions get added in this tenant. For example, /providers/Microsoft.Management/managementGroups/defaultGroup
    DescendantListResult:
      description: Describes the result of the request to view descendants.
      properties:
        value:
          description: The list of descendants.
          type: array
          items:
            $ref: '#/components/schemas/DescendantInfo'
        nextLink:
          description: The URL to use for getting the next set of results.
          type: string
          readOnly: true
      type: object
    DescendantInfo:
      description: The descendant.
      properties:
        id:
          type: string
          description: The fully qualified ID for the descendant.  For example, /providers/Microsoft.Management/managementGroups/0000000-0000-0000-0000-000000000000 or /subscriptions/0000000-0000-0000-0000-000000000000
          readOnly: true
          nullable: true
        type:
          type: string
          description: The type of the resource. For example, Microsoft.Management/managementGroups or /subscriptions
          readOnly: true
          nullable: true
        name:
          type: string
          description: The name of the descendant. For example, 00000000-0000-0000-0000-000000000000
          readOnly: true
        properties:
          title: Properties
          x-ms-client-flatten: true
          nullable: true
          x-nullable: true
          $ref: '#/components/schemas/DescendantInfoProperties'
      type: object
    DescendantInfoProperties:
      description: The generic properties of an descendant.
      type: object
      properties:
        displayName:
          type: string
          description: The friendly name of the management group.
          nullable: true
        parent:
          title: Parent
          $ref: '#/components/schemas/DescendantParentGroupInfo'
          nullable: true
          x-nullable: true
    DescendantParentGroupInfo:
      description: The ID of the parent management group.
      properties:
        id:
          type: string
          description: The fully qualified ID for the parent management group.  For example, /providers/Microsoft.Management/managementGroups/0000000-0000-0000-0000-000000000000
      type: object
    EntityListResult:
      description: Describes the result of the request to view entities.
      properties:
        value:
          description: The list of entities.
          type: array
          items:
            $ref: '#/components/schemas/EntityInfo'
        count:
          description: Total count of records that match the filter
          type: integer
          readOnly: true
        nextLink:
          description: The URL to use for getting the next set of results.
          type: string
          readOnly: true
      type: object
    EntityInfo:
      description: The entity.
      properties:
        id:
          type: string
          description: The fully qualified ID for the entity.  For example, /providers/Microsoft.Management/managementGroups/0000000-0000-0000-0000-000000000000
          readOnly: true
          nullable: true
        type:
          type: string
          description: The type of the resource. For example, Microsoft.Management/managementGroups
          readOnly: true
          nullable: true
        name:
          type: string
          description: The name of the entity. For example, 00000000-0000-0000-0000-000000000000
          readOnly: true
        properties:
          title: Properties
          x-ms-client-flatten: true
          nullable: true
          x-nullable: true
          $ref: '#/components/schemas/EntityInfoProperties'
      type: object
    EntityInfoProperties:
      description: The generic properties of an entity.
      type: object
      properties:
        tenantId:
          type: string
          description: The AAD Tenant ID associated with the entity. For example, 00000000-0000-0000-0000-000000000000
          nullable: true
        displayName:
          type: string
          description: The friendly name of the management group.
          nullable: true
        parent:
          title: Parent
          $ref: '#/components/schemas/EntityParentGroupInfo'
          nullable: true
          x-nullable: true
        permissions:
          title: Permissions
          nullable: true
          x-nullable: true
          $ref: '#/components/schemas/Permissions'
        inheritedPermissions:
          title: Inherited Permissions
          nullable: true
          x-nullable: true
          $ref: '#/components/schemas/Permissions'
        numberOfDescendants:
          title: Number of Descendants
          type: integer
          nullable: true
        numberOfChildren:
          title: Number of Children
          description: Number of children is the number of Groups and Subscriptions that are exactly one level underneath the current Group.
          type: integer
          nullable: true
        numberOfChildGroups:
          title: Number of Child Groups
          description: Number of children is the number of Groups that are exactly one level underneath the current Group.
          type: integer
          nullable: true
        parentDisplayNameChain:
          type: array
          description: The parent display name chain from the root group to the immediate parent
          nullable: true
          items:
            type: string
        parentNameChain:
          type: array
          description: The parent name chain from the root group to the immediate parent
          nullable: true
          items:
            type: string
    EntityParentGroupInfo:
      description: (Optional) The ID of the parent management group.
      properties:
        id:
          type: string
          description: The fully qualified ID for the parent management group.  For example, /providers/Microsoft.Management/managementGroups/0000000-0000-0000-0000-000000000000
      type: object
    EntityHierarchyItem:
      description: The management group details for the hierarchy view.
      x-ms-azure-resource: true
      properties:
        id:
          type: string
          description: The fully qualified ID for the management group.  For example, /providers/Microsoft.Management/managementGroups/0000000-0000-0000-0000-000000000000
          readOnly: true
        type:
          type: string
          description: The type of the resource.  For example, Microsoft.Management/managementGroups
          readOnly: true
        name:
          type: string
          description: The name of the management group. For example, 00000000-0000-0000-0000-000000000000
          readOnly: true
        properties:
          title: Properties
          x-ms-client-flatten: true
          $ref: '#/components/schemas/EntityHierarchyItemProperties'
      type: object
    EntityHierarchyItemProperties:
      description: The generic properties of a management group.
      type: object
      properties:
        displayName:
          type: string
          description: The friendly name of the management group.
        permissions:
          title: Permissions
          $ref: '#/components/schemas/Permissions'
        children:
          type: array
          description: The list of children.
          nullable: true
          items:
            $ref: '#/components/schemas/EntityHierarchyItem'
    PatchManagementGroupRequest:
      description: Management group patch parameters.
      type: object
      properties:
        displayName:
          type: string
          description: The friendly name of the management group.
          nullable: true
        parentGroupId:
          type: string
          description: (Optional) The fully qualified ID for the parent management group.  For example, /providers/Microsoft.Management/managementGroups/0000000-0000-0000-0000-000000000000
          nullable: true
    CreateManagementGroupRequest:
      description: Management group creation parameters.
      x-ms-azure-resource: true
      properties:
        id:
          type: string
          description: The fully qualified ID for the management group.  For example, /providers/Microsoft.Management/managementGroups/0000000-0000-0000-0000-000000000000
          readOnly: true
        type:
          type: string
          description: The type of the resource.  For example, Microsoft.Management/managementGroups
          readOnly: true
        name:
          type: string
          description: The name of the management group. For example, 00000000-0000-0000-0000-000000000000
        properties:
          title: Properties
          x-ms-client-flatten: true
          $ref: '#/components/schemas/CreateManagementGroupProperties'
      type: object
    CreateManagementGroupProperties:
      description: The generic properties of a management group used during creation.
      type: object
      properties:
        tenantId:
          type: string
          readOnly: true
          description: The AAD Tenant ID associated with the management group. For example, 00000000-0000-0000-0000-000000000000
        displayName:
          type: string
          description: The friendly name of the management group. If no value is passed then this  field will be set to the groupId.
          nullable: true
        details:
          title: Details
          $ref: '#/components/schemas/CreateManagementGroupDetails'
        children:
          description: The list of children.
          readOnly: true
          nullable: true
          type: array
          items:
            $ref: '#/components/schemas/CreateManagementGroupChildInfo'
    CreateManagementGroupDetails:
      description: The details of a management group used during creation.
      type: object
      properties:
        version:
          type: number
          readOnly: true
          format: int32
          description: The version number of the object.
        updatedTime:
          type: string
          readOnly: true
          format: date-time
          description: The date and time when this object was last updated.
        updatedBy:
          type: string
          readOnly: true
          description: The identity of the principal or process that updated the object.
        parent:
          title: Parent
          $ref: '#/components/schemas/CreateParentGroupInfo'
    CreateManagementGroupChildInfo:
      description: The child information of a management group used during creation.
      properties:
        type:
          title: The type of child resource.
          readOnly: true
          $ref: '#/components/schemas/ManagementGroupChildType'
          description: The fully qualified resource type which includes provider namespace (e.g. Microsoft.Management/managementGroups)
        id:
          type: string
          readOnly: true
          description: The fully qualified ID for the child resource (management group or subscription).  For example, /providers/Microsoft.Management/managementGroups/0000000-0000-0000-0000-000000000000
        name:
          type: string
          readOnly: true
          description: The name of the child entity.
        displayName:
          type: string
          readOnly: true
          description: The friendly name of the child resource.
        children:
          description: The list of children.
          readOnly: true
          type: array
          items:
            $ref: '#/components/schemas/CreateManagementGroupChildInfo'
      type: object
    CreateParentGroupInfo:
      description: (Optional) The ID of the parent management group used during creation.
      properties:
        id:
          type: string
          description: The fully qualified ID for the parent management group.  For example, /providers/Microsoft.Management/managementGroups/0000000-0000-0000-0000-000000000000
        name:
          type: string
          readOnly: true
          description: The name of the parent management group
        displayName:
          type: string
          readOnly: true
          description: The friendly name of the parent management group.
      type: object
    Permissions:
      type: string
      enum:
        - noaccess
        - view
        - edit
        - delete
      x-ms-enum:
        name: Permissions
        modelAsString: false
        values:
          - value: noaccess
          - value: view
          - value: edit
          - value: delete
      description: The users specific permissions to this item.
    CheckNameAvailabilityRequest:
      description: Management group name availability check parameters.
      type: object
      properties:
        name:
          type: string
          description: the name to check for availability
        type:
          type: string
          enum:
            - Microsoft.Management/managementGroups
          x-ms-enum:
            name: Type
            modelAsString: false
            values:
              - value: Microsoft.Management/managementGroups
          description: fully qualified resource type which includes provider namespace
  x-stackQL-resources:
    management_groups:
      id: azure.management_groups.management_groups
      name: management_groups
      title: management_groups
      methods:
        list:
          operation:
            $ref: '#/paths/~1providers~1Microsoft.Management~1managementGroups?api-version=2023-04-01/get'
            operationId: ManagementGroups_List
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            schemaRef: ManagementGroupListResult
            objectKey: $.value
        get:
          operation:
            $ref: '#/paths/~1providers~1Microsoft.Management~1managementGroups~1{groupId}?api-version=2023-04-01/get'
            operationId: ManagementGroups_Get
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            schemaRef: ManagementGroup
        create_or_update:
          operation:
            $ref: '#/paths/~1providers~1Microsoft.Management~1managementGroups~1{groupId}?api-version=2023-04-01/put'
            operationId: ManagementGroups_CreateOrUpdate
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            schemaRef: ManagementGroup
        update:
          operation:
            $ref: '#/paths/~1providers~1Microsoft.Management~1managementGroups~1{groupId}?api-version=2023-04-01/patch'
            operationId: ManagementGroups_Update
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            schemaRef: ManagementGroup
        delete:
          operation:
            $ref: '#/paths/~1providers~1Microsoft.Management~1managementGroups~1{groupId}?api-version=2023-04-01/delete'
            operationId: ManagementGroups_Delete
          response:
            mediaType: application/json
            openAPIDocKey: '202'
            schemaRef: AzureAsyncOperationResults
      sqlVerbs:
        select:
          - $ref: '#/components/x-stackQL-resources/management_groups/methods/get'
          - $ref: '#/components/x-stackQL-resources/management_groups/methods/list'
        insert:
          - $ref: '#/components/x-stackQL-resources/management_groups/methods/create_or_update'
        update:
          - $ref: '#/components/x-stackQL-resources/management_groups/methods/update'
        replace: []
        delete:
          - $ref: '#/components/x-stackQL-resources/management_groups/methods/delete'
    descendants:
      id: azure.management_groups.descendants
      name: descendants
      title: descendants
      methods:
        get:
          operation:
            $ref: '#/paths/~1providers~1Microsoft.Management~1managementGroups~1{groupId}~1descendants?api-version=2023-04-01/get'
            operationId: ManagementGroupsDescendants_Get
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            schemaRef: DescendantListResult
            objectKey: $.value
      sqlVerbs:
        select:
          - $ref: '#/components/x-stackQL-resources/descendants/methods/get'
        insert: []
        update: []
        replace: []
        delete: []
    management_group_subscriptions:
      id: azure.management_groups.management_group_subscriptions
      name: management_group_subscriptions
      title: management_group_subscriptions
      methods:
        create:
          operation:
            $ref: '#/paths/~1providers~1Microsoft.Management~1managementGroups~1{groupId}~1subscriptions~1{subscriptionId}?api-version=2023-04-01/put'
            operationId: ManagementGroupSubscriptions_Create
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            schemaRef: SubscriptionUnderManagementGroup
        delete:
          operation:
            $ref: '#/paths/~1providers~1Microsoft.Management~1managementGroups~1{groupId}~1subscriptions~1{subscriptionId}?api-version=2023-04-01/delete'
            operationId: ManagementGroupSubscriptions_Delete
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select: []
        insert:
          - $ref: '#/components/x-stackQL-resources/management_group_subscriptions/methods/create'
        update: []
        replace: []
        delete:
          - $ref: '#/components/x-stackQL-resources/management_group_subscriptions/methods/delete'
    management_group_subscriptions_subscriptions:
      id: azure.management_groups.management_group_subscriptions_subscriptions
      name: management_group_subscriptions_subscriptions
      title: management_group_subscriptions_subscriptions
      methods:
        get:
          operation:
            $ref: '#/paths/~1providers~1Microsoft.Management~1managementGroups~1{groupId}~1subscriptions~1{subscriptionId}?api-version=2023-04-01/get'
            operationId: ManagementGroupSubscriptionsSubscription_Get
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            schemaRef: SubscriptionUnderManagementGroup
      sqlVerbs:
        select:
          - $ref: '#/components/x-stackQL-resources/management_group_subscriptions_subscriptions/methods/get'
        insert: []
        update: []
        replace: []
        delete: []
    management_group_subscriptions_subscriptions_under_management_groups:
      id: azure.management_groups.management_group_subscriptions_subscriptions_under_management_groups
      name: management_group_subscriptions_subscriptions_under_management_groups
      title: management_group_subscriptions_subscriptions_under_management_groups
      methods:
        get:
          operation:
            $ref: '#/paths/~1providers~1Microsoft.Management~1managementGroups~1{groupId}~1subscriptions?api-version=2023-04-01/get'
            operationId: ManagementGroupSubscriptionsSubscriptionsUnderManagementGroup_Get
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            schemaRef: ListSubscriptionUnderManagementGroup
            objectKey: $.value
      sqlVerbs:
        select:
          - $ref: '#/components/x-stackQL-resources/management_group_subscriptions_subscriptions_under_management_groups/methods/get'
        insert: []
        update: []
        replace: []
        delete: []
    hierarchy_settings:
      id: azure.management_groups.hierarchy_settings
      name: hierarchy_settings
      title: hierarchy_settings
      methods:
        list:
          operation:
            $ref: '#/paths/~1providers~1Microsoft.Management~1managementGroups~1{groupId}~1settings?api-version=2023-04-01/get'
            operationId: HierarchySettings_List
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            schemaRef: HierarchySettingsList
            objectKey: $.value
        get:
          operation:
            $ref: '#/paths/~1providers~1Microsoft.Management~1managementGroups~1{groupId}~1settings~1default?api-version=2023-04-01/get'
            operationId: HierarchySettings_Get
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            schemaRef: HierarchySettings
        create_or_update:
          operation:
            $ref: '#/paths/~1providers~1Microsoft.Management~1managementGroups~1{groupId}~1settings~1default?api-version=2023-04-01/put'
            operationId: HierarchySettings_CreateOrUpdate
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            schemaRef: HierarchySettings
        update:
          operation:
            $ref: '#/paths/~1providers~1Microsoft.Management~1managementGroups~1{groupId}~1settings~1default?api-version=2023-04-01/patch'
            operationId: HierarchySettings_Update
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            schemaRef: HierarchySettings
        delete:
          operation:
            $ref: '#/paths/~1providers~1Microsoft.Management~1managementGroups~1{groupId}~1settings~1default?api-version=2023-04-01/delete'
            operationId: HierarchySettings_Delete
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
          - $ref: '#/components/x-stackQL-resources/hierarchy_settings/methods/list'
          - $ref: '#/components/x-stackQL-resources/hierarchy_settings/methods/get'
        insert:
          - $ref: '#/components/x-stackQL-resources/hierarchy_settings/methods/create_or_update'
        update:
          - $ref: '#/components/x-stackQL-resources/hierarchy_settings/methods/update'
        replace: []
        delete:
          - $ref: '#/components/x-stackQL-resources/hierarchy_settings/methods/delete'
    operations:
      id: azure.management_groups.operations
      name: operations
      title: operations
      methods:
        list:
          operation:
            $ref: '#/paths/~1providers~1Microsoft.Management~1operations?api-version=2023-04-01/get'
            operationId: Operations_List
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            schemaRef: OperationListResult
            objectKey: $.value
        check_name_availability:
          operation:
            $ref: '#/paths/~1providers~1Microsoft.Management~1checkNameAvailability?api-version=2023-04-01/post'
            operationId: Operations_CheckNameAvailability
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            schemaRef: CheckNameAvailabilityResult
        start_tenant_backfill:
          operation:
            $ref: '#/paths/~1providers~1Microsoft.Management~1startTenantBackfill?api-version=2023-04-01/post'
            operationId: Operations_StartTenantBackfill
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            schemaRef: TenantBackfillStatusResult
        tenant_backfill_status:
          operation:
            $ref: '#/paths/~1providers~1Microsoft.Management~1tenantBackfillStatus?api-version=2023-04-01/post'
            operationId: Operations_TenantBackfillStatus
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            schemaRef: TenantBackfillStatusResult
      sqlVerbs:
        select:
          - $ref: '#/components/x-stackQL-resources/operations/methods/list'
        insert: []
        update: []
        replace: []
        delete: []
    entities:
      id: azure.management_groups.entities
      name: entities
      title: entities
      methods:
        list:
          operation:
            $ref: '#/paths/~1providers~1Microsoft.Management~1getEntities?api-version=2023-04-01/post'
            operationId: Entities_List
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            schemaRef: EntityListResult
            objectKey: $.value
      sqlVerbs:
        select:
          - $ref: '#/components/x-stackQL-resources/entities/methods/list'
        insert: []
        update: []
        replace: []
        delete: []
    vw_management_groups:
      id: azure.management_groups.vw_management_groups
      name: vw_management_groups
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              id as id,
              name as name,
              type as type,
              JSON_EXTRACT(properties, '$.tenantId') as "tenant_id",
              JSON_EXTRACT(properties, '$.displayName') as "display_name",
              JSON_EXTRACT(properties, '$.details') as "details",
              JSON_EXTRACT(properties, '$.children') as "children",
              groupId
              FROM azure.management_groups.management_groups
              WHERE groupId = 'replace-me';
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                id as id,
                name as name,
                type as type,
                json_extract_path_text(properties, '$.tenantId') as "tenant_id",
                json_extract_path_text(properties, '$.displayName') as "display_name",
                json_extract_path_text(properties, '$.details') as "details",
                json_extract_path_text(properties, '$.children') as "children",
                groupId
                FROM azure.management_groups.management_groups
                WHERE groupId = 'replace-me';
    vw_management_group_subscriptions_subscriptions:
      id: azure.management_groups.vw_management_group_subscriptions_subscriptions
      name: vw_management_group_subscriptions_subscriptions
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              id as id,
              name as name,
              type as type,
              JSON_EXTRACT(properties, '$.tenant') as "tenant",
              JSON_EXTRACT(properties, '$.displayName') as "display_name",
              JSON_EXTRACT(properties, '$.parent') as "parent",
              JSON_EXTRACT(properties, '$.state') as "state",
              groupId,
              subscriptionId
              FROM azure.management_groups.management_group_subscriptions_subscriptions
              WHERE groupId = 'replace-me' AND subscriptionId = 'replace-me';
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                id as id,
                name as name,
                type as type,
                json_extract_path_text(properties, '$.tenant') as "tenant",
                json_extract_path_text(properties, '$.displayName') as "display_name",
                json_extract_path_text(properties, '$.parent') as "parent",
                json_extract_path_text(properties, '$.state') as "state",
                groupId,
                subscriptionId
                FROM azure.management_groups.management_group_subscriptions_subscriptions
                WHERE groupId = 'replace-me' AND subscriptionId = 'replace-me';
paths:
  /providers/Microsoft.Management/managementGroups?api-version=2023-04-01:
    get:
      tags:
        - ManagementGroups
      operationId: ManagementGroups_List
      description: |
        List management groups for the authenticated user.
      parameters:
        - $ref: '#/components/parameters/CacheControlHeader'
        - $ref: '#/components/parameters/SkipTokenParameter'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ManagementGroupListResult'
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-ms-pageable:
        nextLinkName: '@nextLink'
  /providers/Microsoft.Management/managementGroups/{groupId}?api-version=2023-04-01:
    get:
      tags:
        - ManagementGroups
      operationId: ManagementGroups_Get
      description: |
        Get the details of the management group.
      parameters:
        - $ref: '#/components/parameters/GroupIdParameter'
        - $ref: '#/components/parameters/ExpandParameter'
        - $ref: '#/components/parameters/RecurseParameter'
        - $ref: '#/components/parameters/FilterParameter'
        - $ref: '#/components/parameters/CacheControlHeader'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ManagementGroup'
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
    put:
      tags:
        - ManagementGroups
      operationId: ManagementGroups_CreateOrUpdate
      description: |
        Create or update a management group.
        If a management group is already created and a subsequent create request is issued with different properties, the management group properties will be updated.
      parameters:
        - $ref: '#/components/parameters/GroupIdParameter'
        - $ref: '#/components/parameters/CacheControlHeader'
      requestBody:
        description: Management group creation parameters.
        required: true
        x-ms-requestBody-name: createManagementGroupRequest
        x-ms-parameter-location: method
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateManagementGroupRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ManagementGroup'
        '202':
          description: Accepted
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AzureAsyncOperationResults'
          headers:
            Location:
              schema:
                type: string
              description: |-
                URL for determining when an operation has completed. Send a GET request to the URL in Location header.
                The URI should return a 202 until the operation reaches a terminal state and 200 once it reaches a terminal state.

                For more info: https://github.com/Azure/azure-resource-manager-rpc/blob/master/v1.0/Addendum.md#202-accepted-and-location-headers
            Azure-AsyncOperation:
              schema:
                type: string
              description: |-
                URL for checking the ongoing status of the operation.
                To get the status of the asynchronous operation, send a GET request to the URL in Azure-AsyncOperation header value.

                For more info: https://github.com/Azure/azure-resource-manager-rpc/blob/master/v1.0/Addendum.md#asynchronous-operations
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-ms-long-running-operation: true
      x-ms-long-running-operation-options:
        final-state-via: azure-async-operation
    patch:
      tags:
        - ManagementGroups
      operationId: ManagementGroups_Update
      description: |
        Update a management group.
      parameters:
        - $ref: '#/components/parameters/GroupIdParameter'
        - $ref: '#/components/parameters/CacheControlHeader'
      requestBody:
        description: Management group patch parameters.
        required: true
        x-ms-requestBody-name: patchGroupRequest
        x-ms-parameter-location: method
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PatchManagementGroupRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ManagementGroup'
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
    delete:
      tags:
        - ManagementGroups
      operationId: ManagementGroups_Delete
      description: |
        Delete management group.
        If a management group contains child resources, the request will fail.
      parameters:
        - $ref: '#/components/parameters/GroupIdParameter'
        - $ref: '#/components/parameters/CacheControlHeader'
      responses:
        '202':
          description: Accepted
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AzureAsyncOperationResults'
          headers:
            Location:
              schema:
                type: string
              description: |-
                URL for determining when an operation has completed. Send a GET request to the URL in Location header.
                The URI should return a 202 until the operation reaches a terminal state and 200 once it reaches a terminal state.

                For more info: https://github.com/Azure/azure-resource-manager-rpc/blob/master/v1.0/Addendum.md#202-accepted-and-location-headers
            Azure-AsyncOperation:
              schema:
                type: string
              description: |-
                URL for checking the ongoing status of the operation.
                To get the status of the asynchronous operation, send a GET request to the URL in Azure-AsyncOperation header value.

                For more info: https://github.com/Azure/azure-resource-manager-rpc/blob/master/v1.0/Addendum.md#asynchronous-operations
        '204':
          description: NoContent
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-ms-long-running-operation: true
      x-ms-long-running-operation-options:
        final-state-via: azure-async-operation
  /providers/Microsoft.Management/managementGroups/{groupId}/descendants?api-version=2023-04-01:
    get:
      tags:
        - ManagementGroups
      operationId: ManagementGroupsDescendants_Get
      description: |
        List all entities that descend from a management group.
      parameters:
        - $ref: '#/components/parameters/GroupIdParameter'
        - $ref: '#/components/parameters/SkipTokenParameter'
        - $ref: '#/components/parameters/TopParameter'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DescendantListResult'
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-ms-pageable:
        nextLinkName: nextLink
      x-ms-original-operationId: ManagementGroups_GetDescendants
  /providers/Microsoft.Management/managementGroups/{groupId}/subscriptions/{subscriptionId}?api-version=2023-04-01:
    put:
      tags:
        - ManagementGroups
      operationId: ManagementGroupSubscriptions_Create
      description: |
        Associates existing subscription with the management group.
      parameters:
        - $ref: '#/components/parameters/GroupIdParameter'
        - $ref: '#/components/parameters/SubscriptionIdParameter'
        - $ref: '#/components/parameters/CacheControlHeader'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SubscriptionUnderManagementGroup'
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
    delete:
      tags:
        - ManagementGroups
      operationId: ManagementGroupSubscriptions_Delete
      description: |
        De-associates subscription from the management group.
      parameters:
        - $ref: '#/components/parameters/GroupIdParameter'
        - $ref: '#/components/parameters/SubscriptionIdParameter'
        - $ref: '#/components/parameters/CacheControlHeader'
      responses:
        '200':
          description: OK
        '204':
          description: NoContent
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
    get:
      tags:
        - ManagementGroups
      operationId: ManagementGroupSubscriptionsSubscription_Get
      description: |
        Retrieves details about given subscription which is associated with the management group.
      parameters:
        - $ref: '#/components/parameters/GroupIdParameter'
        - $ref: '#/components/parameters/SubscriptionIdParameter'
        - $ref: '#/components/parameters/CacheControlHeader'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SubscriptionUnderManagementGroup'
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-ms-original-operationId: ManagementGroupSubscriptions_GetSubscription
  /providers/Microsoft.Management/managementGroups/{groupId}/subscriptions?api-version=2023-04-01:
    get:
      tags:
        - ManagementGroups
      operationId: ManagementGroupSubscriptionsSubscriptionsUnderManagementGroup_Get
      description: |
        Retrieves details about all subscriptions which are associated with the management group.
      parameters:
        - $ref: '#/components/parameters/GroupIdParameter'
        - $ref: '#/components/parameters/SkipTokenParameter'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ListSubscriptionUnderManagementGroup'
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-ms-pageable:
        nextLinkName: nextLink
      x-ms-original-operationId: ManagementGroupSubscriptions_GetSubscriptionsUnderManagementGroup
  /providers/Microsoft.Management/managementGroups/{groupId}/settings?api-version=2023-04-01:
    get:
      tags:
        - ManagementGroups
      operationId: HierarchySettings_List
      description: |
        Gets all the hierarchy settings defined at the Management Group level. Settings can only be set on the root Management Group of the hierarchy.
      parameters:
        - $ref: '#/components/parameters/GroupIdParameter'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HierarchySettingsList'
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /providers/Microsoft.Management/managementGroups/{groupId}/settings/default?api-version=2023-04-01:
    get:
      tags:
        - ManagementGroups
      operationId: HierarchySettings_Get
      description: |
        Gets the hierarchy settings defined at the Management Group level. Settings can only be set on the root Management Group of the hierarchy.
      parameters:
        - $ref: '#/components/parameters/GroupIdParameter'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HierarchySettings'
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
    put:
      tags:
        - ManagementGroups
      operationId: HierarchySettings_CreateOrUpdate
      description: |
        Creates or updates the hierarchy settings defined at the Management Group level.
      parameters:
        - $ref: '#/components/parameters/GroupIdParameter'
      requestBody:
        description: Tenant level settings request parameter.
        required: true
        x-ms-requestBody-name: CreateTenantSettingsRequest
        x-ms-parameter-location: method
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateOrUpdateSettingsRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HierarchySettings'
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
    patch:
      tags:
        - ManagementGroups
      operationId: HierarchySettings_Update
      description: |
        Updates the hierarchy settings defined at the Management Group level.
      parameters:
        - $ref: '#/components/parameters/GroupIdParameter'
      requestBody:
        description: Tenant level settings request parameter.
        required: true
        x-ms-requestBody-name: CreateTenantSettingsRequest
        x-ms-parameter-location: method
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateOrUpdateSettingsRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HierarchySettings'
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
    delete:
      tags:
        - ManagementGroups
      operationId: HierarchySettings_Delete
      description: |
        Deletes the hierarchy settings defined at the Management Group level.
      parameters:
        - $ref: '#/components/parameters/GroupIdParameter'
      responses:
        '200':
          description: OK
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /providers/Microsoft.Management/operations?api-version=2023-04-01:
    get:
      tags:
        - Operations
      operationId: Operations_List
      description: Lists all of the available Management REST API operations.
      parameters: []
      responses:
        '200':
          description: OK. The request has succeeded.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OperationListResult'
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-ms-pageable:
        nextLinkName: nextLink
  /providers/Microsoft.Management/checkNameAvailability?api-version=2023-04-01:
    post:
      tags:
        - CheckNameAvailability
      operationId: Operations_CheckNameAvailability
      description: Checks if the specified management group name is valid and unique
      parameters: []
      requestBody:
        description: Management group name availability check parameters.
        required: true
        x-ms-requestBody-name: checkNameAvailabilityRequest
        x-ms-parameter-location: method
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CheckNameAvailabilityRequest'
      responses:
        '200':
          description: OK. The request has succeeded.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CheckNameAvailabilityResult'
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-ms-original-operationId: CheckNameAvailability
  /providers/Microsoft.Management/getEntities?api-version=2023-04-01:
    post:
      tags:
        - Entities
      operationId: Entities_List
      description: |
        List all entities (Management Groups, Subscriptions, etc.) for the authenticated user.
      parameters:
        - $ref: '#/components/parameters/SkipTokenParameter'
        - $ref: '#/components/parameters/SkipParameter'
        - $ref: '#/components/parameters/TopParameter'
        - $ref: '#/components/parameters/SelectParameter'
        - $ref: '#/components/parameters/SearchParameter'
        - $ref: '#/components/parameters/EntityFilterParameter'
        - $ref: '#/components/parameters/EntityViewParameter'
        - $ref: '#/components/parameters/GroupNameParameter'
        - $ref: '#/components/parameters/CacheControlHeader'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EntityListResult'
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-ms-pageable:
        nextLinkName: nextLink
  /providers/Microsoft.Management/startTenantBackfill?api-version=2023-04-01:
    post:
      tags:
        - TenantBackfill
      operationId: Operations_StartTenantBackfill
      description: Starts backfilling subscriptions for the Tenant.
      parameters: []
      responses:
        '200':
          description: OK. The request has succeeded.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TenantBackfillStatusResult'
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-ms-original-operationId: StartTenantBackfill
  /providers/Microsoft.Management/tenantBackfillStatus?api-version=2023-04-01:
    post:
      tags:
        - TenantBackfill
      operationId: Operations_TenantBackfillStatus
      description: Gets tenant backfill status
      parameters: []
      responses:
        '200':
          description: OK. The request has succeeded.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TenantBackfillStatusResult'
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-ms-original-operationId: TenantBackfillStatus

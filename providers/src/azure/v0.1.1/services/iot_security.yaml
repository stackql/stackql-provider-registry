openapi: 3.0.0
servers:
  - url: https://management.azure.com/
info:
  title: IoT Security (Microsoft.IoTSecurity)
  description: IoT Security
  contact:
    name: StackQL Studios
    url: https://stackql.io/
    email: info@stackql.io
  version: 2022-08-24-stackql-generated
security:
  - azure_auth:
      - user_impersonation
components:
  securitySchemes:
    azure_auth:
      description: Azure Active Directory OAuth2 Flow.
      type: oauth2
      flows:
        implicit:
          authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
          scopes:
            user_impersonation: impersonate your user account
  schemas:
    OnPremiseSensorsList:
      description: List of on-premise IoT sensors
      type: object
      properties:
        value:
          description: List data
          readOnly: true
          type: array
          items:
            $ref: '#/components/schemas/OnPremiseSensor'
    OnPremiseSensor:
      type: object
      description: On-premise IoT sensor
      properties:
        properties:
          x-ms-client-flatten: true
          description: On-premise IoT sensor properties
          $ref: '#/components/schemas/OnPremiseSensorProperties'
        systemData:
          readOnly: true
          type: object
          description: Azure Resource Manager metadata containing createdBy and modifiedBy information.
          $ref: '#/components/schemas/systemData'
      allOf:
        - $ref: '#/components/schemas/ProxyResource'
    OnPremiseSensorProperties:
      type: object
      description: On-premise IoT sensor properties
      properties: {}
    ResetPasswordInput:
      type: object
      description: Reset password input.
      properties:
        applianceId:
          description: The appliance id of the sensor.
          type: string
    SensorsList:
      description: List of IoT sensors
      type: object
      properties:
        value:
          description: List data
          readOnly: true
          type: array
          items:
            $ref: '#/components/schemas/SensorModel'
    SensorModel:
      type: object
      description: IoT sensor model
      properties:
        properties:
          x-ms-client-flatten: true
          description: IoT sensor properties
          $ref: '#/components/schemas/SensorProperties'
        systemData:
          readOnly: true
          type: object
          description: Azure Resource Manager metadata containing createdBy and modifiedBy information.
          $ref: '#/components/schemas/systemData'
      allOf:
        - $ref: '#/components/schemas/Resource'
    SensorProperties:
      type: object
      description: IoT sensor properties
      properties:
        connectivityTime:
          description: Last connectivity time of the IoT sensor
          readOnly: true
          type: string
          example: '2020-11-17T12:31:25Z'
        dynamicLearning:
          description: Dynamic mode status of the IoT sensor
          example: true
          readOnly: true
          type: boolean
        learningMode:
          description: Learning mode status of the IoT sensor
          example: true
          readOnly: true
          type: boolean
        sensorStatus:
          readOnly: true
          type: string
          example: Ok
          description: Status of the IoT sensor
          enum:
            - Ok
            - Disconnected
            - Unavailable
          x-ms-enum:
            name: sensorStatus
            modelAsString: true
            values:
              - value: Ok
              - value: Disconnected
              - value: Unavailable
        sensorVersion:
          description: Version of the IoT sensor
          readOnly: true
          type: string
          example: 2020.11.01.1643
        tiAutomaticUpdates:
          description: TI Automatic mode status of the IoT sensor
          example: true
          type: boolean
        tiStatus:
          readOnly: true
          type: string
          example: Ok
          description: TI Status of the IoT sensor
          enum:
            - Ok
            - Failed
            - InProgress
            - UpdateAvailable
          x-ms-enum:
            name: tiStatus
            modelAsString: true
            values:
              - value: Ok
              - value: Failed
              - value: InProgress
              - value: UpdateAvailable
        tiVersion:
          description: TI Version of the IoT sensor
          readOnly: true
          type: string
          example: '2020-11-17T12:31:25Z'
        zone:
          type: string
          description: Zone of the IoT sensor
          example: A12
        sensorType:
          description: Type of sensor
          example: Ot
          type: string
          enum:
            - Ot
            - Enterprise
          x-ms-enum:
            name: sensorType
            modelAsString: true
            values:
              - value: Ot
              - value: Enterprise
    SitesList:
      description: List of IoT sites
      type: object
      properties:
        value:
          description: List data
          readOnly: true
          type: array
          items:
            $ref: '#/components/schemas/SiteModel'
    SiteModel:
      type: object
      description: IoT site model
      properties:
        properties:
          x-ms-client-flatten: true
          description: IoT site properties
          $ref: '#/components/schemas/SiteProperties'
        systemData:
          readOnly: true
          type: object
          description: Azure Resource Manager metadata containing createdBy and modifiedBy information.
          $ref: '#/components/schemas/systemData'
      allOf:
        - $ref: '#/components/schemas/ProxyResource'
    SiteProperties:
      type: object
      description: IoT site properties
      properties:
        displayName:
          type: string
          description: Display name of the IoT site
        tags:
          type: object
          description: Tags of the IoT site
          additionalProperties:
            type: string
      required:
        - displayName
    Resource:
      title: Resource
      description: Common fields that are returned in the response for all Azure Resource Manager resources
      type: object
      properties:
        id:
          readOnly: true
          type: string
          description: Fully qualified resource ID for the resource. Ex - /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}
        name:
          readOnly: true
          type: string
          description: The name of the resource
        type:
          readOnly: true
          type: string
          description: The type of the resource. E.g. "Microsoft.Compute/virtualMachines" or "Microsoft.Storage/storageAccounts"
      x-ms-azure-resource: true
    AzureEntityResource:
      x-ms-client-name: AzureEntityResource
      title: Entity Resource
      description: The resource model definition for an Azure Resource Manager resource with an etag.
      type: object
      properties:
        etag:
          type: string
          readOnly: true
          description: Resource Etag.
      allOf:
        - $ref: '#/components/schemas/Resource'
    TrackedResource:
      title: Tracked Resource
      description: The resource model definition for an Azure Resource Manager tracked top level resource which has 'tags' and a 'location'
      type: object
      properties:
        tags:
          type: object
          additionalProperties:
            type: string
          x-ms-mutability:
            - read
            - create
            - update
          description: Resource tags.
        location:
          type: string
          x-ms-mutability:
            - read
            - create
          description: The geo-location where the resource lives
      required:
        - location
      allOf:
        - $ref: '#/components/schemas/Resource'
    ProxyResource:
      title: Proxy Resource
      description: The resource model definition for a Azure Resource Manager proxy resource. It will not have tags and a location
      type: object
      allOf:
        - $ref: '#/components/schemas/Resource'
    ResourceModelWithAllowedPropertySet:
      description: The resource model definition containing the full set of allowed properties for a resource. Except properties bag, there cannot be a top level property outside of this set.
      type: object
      properties:
        id:
          readOnly: true
          type: string
          x-ms-mutability:
            - read
          description: Fully qualified resource ID for the resource. Ex - /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/{resourceProviderNamespace}/{resourceType}/{resourceName}
        name:
          readOnly: true
          type: string
          description: The name of the resource
        type:
          readOnly: true
          type: string
          x-ms-mutability:
            - read
          description: The type of the resource. E.g. "Microsoft.Compute/virtualMachines" or "Microsoft.Storage/storageAccounts"
        location:
          type: string
          x-ms-mutability:
            - read
            - create
          description: The geo-location where the resource lives
        managedBy:
          type: string
          x-ms-mutability:
            - read
            - create
            - update
          description: The fully qualified resource ID of the resource that manages this resource. Indicates if this resource is managed by another Azure resource. If this is present, complete mode deployment will not delete the resource if it is removed from the template since it is managed by another resource.
        kind:
          type: string
          x-ms-mutability:
            - read
            - create
          description: Metadata used by portal/tooling/etc to render different UX experiences for resources of the same type; e.g. ApiApps are a kind of Microsoft.Web/sites type.  If supported, the resource provider must validate and persist this value.
          pattern: ^[-\w\._,\(\)]+$
        etag:
          readOnly: true
          type: string
          description: 'The etag field is *not* required. If it is provided in the response body, it must also be provided as a header per the normal etag convention.  Entity tags are used for comparing two or more entities from the same requested resource. HTTP/1.1 uses entity tags in the etag (section 14.19), If-Match (section 14.24), If-None-Match (section 14.26), and If-Range (section 14.27) header fields. '
        tags:
          type: object
          additionalProperties:
            type: string
          x-ms-mutability:
            - read
            - create
            - update
          description: Resource tags.
        identity:
          allOf:
            - $ref: '#/components/schemas/Identity'
        sku:
          allOf:
            - $ref: '#/components/schemas/Sku'
        plan:
          allOf:
            - $ref: '#/components/schemas/Plan'
      x-ms-azure-resource: true
    Sku:
      description: The resource model definition representing SKU
      type: object
      properties:
        name:
          type: string
          description: The name of the SKU. Ex - P3. It is typically a letter+number code
        tier:
          type: string
          enum:
            - Free
            - Basic
            - Standard
            - Premium
          x-ms-enum:
            name: SkuTier
            modelAsString: false
          description: This field is required to be implemented by the Resource Provider if the service has more than one tier, but is not required on a PUT.
        size:
          type: string
          description: 'The SKU size. When the name field is the combination of tier and some other value, this would be the standalone code. '
        family:
          type: string
          description: If the service has different generations of hardware, for the same SKU, then that can be captured here.
        capacity:
          type: integer
          format: int32
          description: If the SKU supports scale out/in then the capacity integer should be included. If scale out/in is not possible for the resource this may be omitted.
      required:
        - name
    Identity:
      description: Identity for the resource.
      type: object
      properties:
        principalId:
          readOnly: true
          type: string
          description: The principal ID of resource identity.
        tenantId:
          readOnly: true
          type: string
          description: The tenant ID of resource.
        type:
          type: string
          description: The identity type.
          enum:
            - SystemAssigned
          x-ms-enum:
            name: ResourceIdentityType
            modelAsString: false
    Plan:
      type: object
      properties:
        name:
          type: string
          description: A user defined name of the 3rd Party Artifact that is being procured.
        publisher:
          type: string
          description: The publisher of the 3rd Party Artifact that is being bought. E.g. NewRelic
        product:
          type: string
          description: 'The 3rd Party artifact that is being procured. E.g. NewRelic. Product maps to the OfferID specified for the artifact at the time of Data Market onboarding. '
        promotionCode:
          type: string
          description: A publisher provided promotion code as provisioned in Data Market for the said product/artifact.
        version:
          type: string
          description: The version of the desired product/artifact.
      description: Plan for the resource.
      required:
        - name
        - publisher
        - product
    ErrorDetail:
      description: The error detail.
      type: object
      properties:
        code:
          readOnly: true
          type: string
          description: The error code.
        message:
          readOnly: true
          type: string
          description: The error message.
        target:
          readOnly: true
          type: string
          description: The error target.
        details:
          readOnly: true
          type: array
          items:
            $ref: '#/components/schemas/ErrorDetail'
          x-ms-identifiers:
            - message
            - target
          description: The error details.
        additionalInfo:
          readOnly: true
          type: array
          items:
            $ref: '#/components/schemas/ErrorAdditionalInfo'
          x-ms-identifiers: []
          description: The error additional info.
    ErrorResponse:
      title: Error response
      description: Common error response for all Azure Resource Manager APIs to return error details for failed operations. (This also follows the OData error response format.).
      type: object
      properties:
        error:
          description: The error object.
          $ref: '#/components/schemas/ErrorDetail'
    ErrorAdditionalInfo:
      type: object
      properties:
        type:
          readOnly: true
          type: string
          description: The additional info type.
        info:
          readOnly: true
          type: object
          description: The additional info.
      description: The resource management error additional info.
    Operation:
      description: Operation resource
      type: object
      properties:
        display:
          $ref: '#/components/schemas/OperationDisplay'
          description: Properties on the operation
        isDataAction:
          description: Whether operation is a data action
          type: boolean
        name:
          description: Operation name for display purposes
          type: string
        origin:
          description: origin of the operation
          type: string
        properties:
          $ref: '#/components/schemas/OperationProperties'
          description: properties for the operation meta info
          x-ms-client-flatten: true
    OperationListResult:
      description: A list of REST API operations supported by an Azure Resource Provider. It contains an URL link to get the next set of results.
      type: object
      properties:
        value:
          type: array
          items:
            $ref: '#/components/schemas/Operation'
          x-ms-identifiers:
            - name
          description: List of operations supported by the resource provider
          readOnly: true
        nextLink:
          type: string
          description: URL to get the next set of operation list results (if there are any).
          readOnly: true
    OperationStatusResult:
      description: The current status of an async operation.
      type: object
      required:
        - status
      properties:
        id:
          description: Fully qualified ID for the async operation.
          type: string
        name:
          description: Name of the async operation.
          type: string
        status:
          description: Operation status.
          type: string
        percentComplete:
          description: Percent of the operation that is complete.
          type: number
          minimum: 0
          maximum: 100
        startTime:
          description: The start time of the operation.
          type: string
          format: date-time
        endTime:
          description: The end time of the operation.
          type: string
          format: date-time
        operations:
          description: The operations list.
          type: array
          items:
            $ref: '#/components/schemas/OperationStatusResult'
        error:
          description: If present, details of the operation error.
          $ref: '#/components/schemas/ErrorDetail'
    locationData:
      description: Metadata pertaining to the geographic location of the resource.
      type: object
      properties:
        name:
          type: string
          maxLength: 256
          description: A canonical name for the geographic or physical location.
        city:
          type: string
          description: The city or locality where the resource is located.
        district:
          type: string
          description: The district, state, or province where the resource is located.
        countryOrRegion:
          type: string
          description: The country or region where the resource is located
      required:
        - name
    systemData:
      description: Metadata pertaining to creation and last modification of the resource.
      type: object
      readOnly: true
      properties:
        createdBy:
          type: string
          description: The identity that created the resource.
        createdByType:
          type: string
          description: The type of identity that created the resource.
          enum:
            - User
            - Application
            - ManagedIdentity
            - Key
          x-ms-enum:
            name: createdByType
            modelAsString: true
        createdAt:
          type: string
          format: date-time
          description: The timestamp of resource creation (UTC).
        lastModifiedBy:
          type: string
          description: The identity that last modified the resource.
        lastModifiedByType:
          type: string
          description: The type of identity that last modified the resource.
          enum:
            - User
            - Application
            - ManagedIdentity
            - Key
          x-ms-enum:
            name: createdByType
            modelAsString: true
        lastModifiedAt:
          type: string
          format: date-time
          description: The timestamp of resource last modification (UTC)
    encryptionProperties:
      description: Configuration of key for data encryption
      type: object
      properties:
        status:
          description: Indicates whether or not the encryption is enabled for container registry.
          enum:
            - enabled
            - disabled
          type: string
          x-ms-enum:
            name: EncryptionStatus
            modelAsString: true
        keyVaultProperties:
          $ref: '#/components/schemas/KeyVaultProperties'
          description: Key vault properties.
    KeyVaultProperties:
      type: object
      properties:
        keyIdentifier:
          description: Key vault uri to access the encryption key.
          type: string
        identity:
          description: The client ID of the identity which will be used to access key vault.
          type: string
    CheckNameAvailabilityRequest:
      description: The check availability request body.
      type: object
      properties:
        name:
          description: The name of the resource for which availability needs to be checked.
          type: string
        type:
          description: The resource type.
          type: string
    CheckNameAvailabilityResponse:
      description: The check availability result.
      type: object
      properties:
        nameAvailable:
          description: Indicates if the resource name is available.
          type: boolean
        reason:
          description: The reason why the given name is not available.
          type: string
          enum:
            - Invalid
            - AlreadyExists
          x-ms-enum:
            name: CheckNameAvailabilityReason
            modelAsString: true
        message:
          description: Detailed reason why the given name is available.
          type: string
    DefenderSettingsList:
      description: List of IoT Defender settings
      type: object
      properties:
        value:
          description: List data
          readOnly: true
          type: array
          items:
            $ref: '#/components/schemas/DefenderSettingsModel'
    DefenderSettingsModel:
      type: object
      description: IoT Defender settings
      properties:
        properties:
          x-ms-client-flatten: true
          description: IoT Defender settings properties
          $ref: '#/components/schemas/DefenderSettingsProperties'
      allOf:
        - $ref: '#/components/schemas/ProxyResource'
    DefenderSettingsProperties:
      type: object
      description: IoT Defender settings properties
      properties:
        deviceQuota:
          type: integer
          format: int32
          minimum: 0
          description: Size of the device quota. Value is required to be in multiples of 100.
        sentinelWorkspaceResourceIds:
          type: array
          description: Sentinel Workspace Resource Ids
          items:
            type: string
        onboardingKind:
          type: string
          enum:
            - Default
            - MigratedToAzure
            - Evaluation
            - Purchased
          description: The kind of onboarding for the subscription
          x-ms-enum:
            name: OnboardingKind
            modelAsString: true
        evaluationEndTime:
          type: string
          format: date-time
          description: End time of the evaluation period, if such exist
          readOnly: true
        mdeIntegration:
          type: object
          description: MDE integration configuration
          properties:
            status:
              type: string
              enum:
                - Disabled
                - Enabled
              description: Integration status
              x-ms-enum:
                name: MdeIntegration
                modelAsString: true
          required:
            - status
      required:
        - deviceQuota
        - sentinelWorkspaceResourceIds
        - onboardingKind
        - mdeIntegration
    DownloadLink:
      type: string
      description: Download link
      readOnly: true
    PackageDownloadInfo:
      type: object
      description: Information on a specific package download
      properties:
        version:
          type: string
          description: Version number
          readOnly: true
        link:
          description: Download link
          $ref: '#/components/schemas/DownloadLink'
        versionKind:
          type: string
          description: Kind of the version
          readOnly: true
          enum:
            - Latest
            - Previous
            - Preview
          x-ms-enum:
            name: versionKind
            modelAsString: true
            values:
              - value: Latest
              - value: Previous
              - value: Preview
    UpgradePackageDownloadInfo:
      type: object
      description: Information on a specific package upgrade download
      properties:
        fromVersion:
          type: string
          description: Minimum base version for upgrade
          readOnly: true
      allOf:
        - $ref: '#/components/schemas/PackageDownloadInfo'
    PackageDownloads:
      type: object
      description: Information about package downloads
      readOnly: true
      properties:
        sensor:
          type: object
          description: Contains all Sensor binary downloads
          readOnly: true
          properties:
            full:
              type: object
              description: Contains full package downloads
              readOnly: true
              properties:
                iso:
                  type: array
                  description: Contains all ISO full versions for the sensor
                  readOnly: true
                  items:
                    $ref: '#/components/schemas/PackageDownloadInfo'
                  x-ms-identifiers: []
                ovf:
                  type: object
                  description: Contains all OVF (virtual machine) full versions for the sensor
                  properties:
                    enterprise:
                      type: array
                      description: Enterprise package type
                      readOnly: true
                      items:
                        $ref: '#/components/schemas/PackageDownloadInfo'
                      x-ms-identifiers: []
                    medium:
                      type: array
                      description: Medium package type
                      readOnly: true
                      items:
                        $ref: '#/components/schemas/PackageDownloadInfo'
                      x-ms-identifiers: []
                    line:
                      type: array
                      description: Line package type
                      readOnly: true
                      items:
                        $ref: '#/components/schemas/PackageDownloadInfo'
                      x-ms-identifiers: []
            upgrade:
              type: array
              description: Sensor upgrade package downloads (on existing installations)
              items:
                $ref: '#/components/schemas/UpgradePackageDownloadInfo'
              x-ms-identifiers: []
        centralManager:
          type: object
          description: All downloads for Central Manager
          readOnly: true
          properties:
            full:
              type: object
              description: Contains full package downloads
              readOnly: true
              properties:
                iso:
                  type: array
                  description: Contains all ISO full versions of the Central Manager
                  readOnly: true
                  items:
                    $ref: '#/components/schemas/PackageDownloadInfo'
                  x-ms-identifiers: []
                ovf:
                  type: object
                  description: Contains all OVF (virtual machine) full versions of the Central Manager
                  readOnly: true
                  properties:
                    enterprise:
                      type: array
                      description: The Enterprise package type
                      readOnly: true
                      items:
                        $ref: '#/components/schemas/PackageDownloadInfo'
                      x-ms-identifiers: []
                    enterpriseHighAvailability:
                      type: array
                      description: The EnterpriseHighAvailability package type
                      readOnly: true
                      items:
                        $ref: '#/components/schemas/PackageDownloadInfo'
                      x-ms-identifiers: []
                    medium:
                      type: array
                      description: The Medium package type
                      readOnly: true
                      items:
                        $ref: '#/components/schemas/PackageDownloadInfo'
                      x-ms-identifiers: []
                    mediumHighAvailability:
                      type: array
                      description: The MediumHighAvailability package type
                      readOnly: true
                      items:
                        $ref: '#/components/schemas/PackageDownloadInfo'
                      x-ms-identifiers: []
            upgrade:
              type: array
              description: Central Manager upgrade package downloads (on existing installations)
              readOnly: true
              items:
                $ref: '#/components/schemas/UpgradePackageDownloadInfo'
        threatIntelligence:
          type: array
          description: All downloads for threat intelligence
          readOnly: true
          items:
            $ref: '#/components/schemas/PackageDownloadInfo'
          x-ms-identifiers: []
        snmp:
          type: array
          description: SNMP Server file
          readOnly: true
          items:
            $ref: '#/components/schemas/PackageDownloadInfo'
          x-ms-identifiers: []
        wmiTool:
          type: array
          description: Used for local configuration export
          readOnly: true
          items:
            $ref: '#/components/schemas/PackageDownloadInfo'
          x-ms-identifiers: []
        authorizedDevicesImportTemplate:
          type: array
          description: Authorized devices import template
          readOnly: true
          items:
            $ref: '#/components/schemas/PackageDownloadInfo'
          x-ms-identifiers: []
        deviceInformationUpdateImportTemplate:
          type: array
          description: Authorized devices import template
          readOnly: true
          items:
            $ref: '#/components/schemas/PackageDownloadInfo'
          x-ms-identifiers: []
    LocationList:
      description: List of Defender for IoT locations
      type: object
      properties:
        value:
          description: List data
          readOnly: true
          type: array
          items:
            $ref: '#/components/schemas/LocationModel'
        nextLink:
          description: Link to next page of resources.
          type: string
          readOnly: true
    LocationModel:
      type: object
      description: IoT Defender location
      properties:
        properties:
          x-ms-client-flatten: true
          description: IoT Defender location properties
          $ref: '#/components/schemas/LocationProperties'
        systemData:
          readOnly: true
          type: object
          description: Azure Resource Manager metadata containing createdBy and modifiedBy information.
          $ref: '#/components/schemas/systemData'
      allOf:
        - $ref: '#/components/schemas/ProxyResource'
    LocationProperties:
      type: object
      description: Defender for IoT location properties
      properties: {}
    ErrorResponseModel:
      description: Default error response model
      type: object
      properties:
        error:
          description: Gets or sets the error.
          allOf:
            - $ref: '#/components/schemas/ErrorModel'
          readOnly: true
    ErrorModel:
      description: Default error model
      type: object
      properties:
        code:
          description: Gets or sets the code.
          type: string
          readOnly: true
        details:
          description: Gets or sets the details.
          uniqueItems: false
          type: array
          items:
            $ref: '#/components/schemas/ErrorModel'
          x-ms-identifiers:
            - code
          readOnly: true
        message:
          description: Gets or sets the messages.
          type: string
          readOnly: true
        target:
          description: Gets or sets the target.
          type: string
          readOnly: true
    OperationList:
      description: Paged list of operation resources
      required:
        - value
      type: object
      properties:
        count:
          format: int64
          description: Total item count.
          type: integer
        nextLink:
          description: The Url of next result page.
          type: string
        value:
          description: Collection of items of type results.
          uniqueItems: false
          type: array
          items:
            $ref: '#/components/schemas/Operation'
          x-ms-identifiers: []
    OperationDisplay:
      description: The response model for get operation properties
      type: object
      properties:
        description:
          description: Description of the operation for display purposes
          type: string
        operation:
          description: Name of the operation for display purposes
          type: string
        provider:
          description: Name of the provider for display purposes
          type: string
        resource:
          description: Name of the resource type for display purposes
          type: string
    OperationProperties:
      description: properties on meta info
      type: object
      properties:
        serviceSpecification:
          $ref: '#/components/schemas/OperationMetaServiceSpecification'
          description: meta service specification
    OperationMetaServiceSpecification:
      description: The operation meta service specification
      type: object
      properties:
        logSpecifications:
          description: log specifications for the operation
          uniqueItems: false
          type: array
          items:
            $ref: '#/components/schemas/OperationMetaLogSpecification'
          x-ms-identifiers:
            - name
        metricSpecifications:
          description: metric specifications for the operation
          uniqueItems: false
          type: array
          items:
            $ref: '#/components/schemas/OperationMetaMetricSpecification'
          x-ms-identifiers:
            - name
    OperationMetaMetricSpecification:
      description: metric specifications for the operation
      type: object
      properties:
        aggregationType:
          description: aggregation type of metric
          type: string
        dimensions:
          description: properties for dimension
          uniqueItems: false
          type: array
          items:
            $ref: '#/components/schemas/DimensionProperties'
          x-ms-identifiers:
            - name
        displayDescription:
          description: description of the metric
          type: string
        displayName:
          description: localized name of the metric
          type: string
        enableRegionalMdmAccount:
          description: enable regional mdm account
          type: string
        internalMetricName:
          description: internal metric name
          type: string
        name:
          description: name of the metric
          type: string
        resourceIdDimensionNameOverride:
          description: dimension name use to replace resource id if specified
          type: string
        sourceMdmNamespace:
          description: "Metric namespace.\r\nOnly set the namespace if different from the default value, \r\nleaving it empty makes it use the value from the ARM manifest."
          type: string
        supportedAggregationTypes:
          description: supported aggregation types
          uniqueItems: false
          type: array
          items:
            type: string
        supportedTimeGrainTypes:
          description: supported time grain types
          uniqueItems: false
          type: array
          items:
            type: string
        unit:
          description: units for the metric
          type: string
    OperationMetaLogSpecification:
      description: log specifications for operation api
      type: object
      properties:
        blobDuration:
          description: blob duration of the log
          type: string
        displayName:
          description: localized name of the log category
          type: string
        name:
          description: name of the log category
          type: string
    DimensionProperties:
      description: properties for dimension
      type: object
      properties:
        displayName:
          description: localized display name of the dimension to customer
          type: string
        name:
          description: dimension name
          type: string
        toBeExportedForCustomer:
          description: flag indicating whether this dimension should be included to the customer in Azure Monitor logs (aka Shoebox)
          type: boolean
    DeviceList:
      description: List of devices
      type: object
      properties:
        value:
          description: List data
          readOnly: true
          type: array
          items:
            $ref: '#/components/schemas/DeviceModel'
        nextLink:
          readOnly: true
          type: string
          description: When there are too many devices for one page, use this URI to fetch the next page.
    DeviceModel:
      type: object
      description: Device
      properties:
        properties:
          x-ms-client-flatten: true
          description: Device properties
          $ref: '#/components/schemas/DeviceProperties'
        systemData:
          readOnly: true
          type: object
          description: Azure Resource Manager metadata containing createdBy and modifiedBy information.
          $ref: '#/components/schemas/systemData'
      allOf:
        - $ref: '#/components/schemas/ProxyResource'
    DeviceProperties:
      type: object
      description: Device properties
      properties:
        schemaVersion:
          readOnly: true
          type: string
          description: Version of the device model schema
        deviceDataSource:
          readOnly: true
          type: string
          $ref: '#/components/schemas/DeviceDataSource'
          description: Device data source.
        sensor:
          readOnly: true
          type: object
          description: Sensor that scanned this device.
          $ref: '#/components/schemas/Sensor'
        mergedDevices:
          readOnly: true
          type: array
          description: List of merged devices data
          items:
            $ref: '#/components/schemas/MergedDevice'
        mergedToDeviceId:
          readOnly: true
          type: string
          description: The device Id that this device was merged into
        onboardingStatus:
          readOnly: true
          type: string
          enum:
            - Onboarded
            - NotOnboarded
            - NotSupported
            - InsufficientInfo
          x-ms-enum:
            name: OnboardingStatus
            modelAsString: true
          description: Device onboarding status.
        deviceName:
          type: string
          description: Device name
        deviceCategoryId:
          type: integer
          format: int32
          minimum: 0
          description: Device category id
        deviceTypeId:
          type: integer
          format: int32
          minimum: 0
          description: Device type id
        deviceSubTypeId:
          type: integer
          format: int32
          minimum: 0
          description: Device sub type id
        deviceCategoryDisplayName:
          readOnly: true
          type: string
          description: Device category display name
        deviceTypeDisplayName:
          readOnly: true
          type: string
          description: Device type display name
        deviceSubTypeDisplayName:
          readOnly: true
          type: string
          description: Device sub type display name
        profilingConfidence:
          readOnly: true
          type: integer
          format: int32
          description: Confidence of the device profile
        riskScore:
          readOnly: true
          type: integer
          format: int32
          description: risk score of the device.
        criticality:
          type: string
          enum:
            - Low
            - Normal
            - High
          x-ms-enum:
            name: Criticality
            modelAsString: true
          description: Device criticality.
        deviceTags:
          type: array
          description: Device tags
          items:
            type: string
        firstSeen:
          readOnly: true
          type: string
          format: date-time
          description: First time the device was seen.
        lastSeen:
          readOnly: true
          type: string
          format: date-time
          description: Last time the device was seen.
        lastUpdated:
          readOnly: true
          type: string
          format: date-time
          description: Last time the device was updated by the profiler.
        hardware:
          type: object
          description: Device hardware data
          $ref: '#/components/schemas/Hardware'
        firmwares:
          type: array
          description: List of device firmwares.
          items:
            $ref: '#/components/schemas/Firmware'
          x-ms-identifiers: []
        operatingSystem:
          type: object
          description: Device operating system data
          $ref: '#/components/schemas/OperatingSystem'
        businessFunction:
          type: string
          description: Device business function
        purdueLevel:
          type: string
          enum:
            - ProcessControl
            - Supervisory
            - Enterprise
          x-ms-enum:
            name: PurdueLevel
            modelAsString: true
          description: Purdue level of the device.
        authorizedState:
          type: string
          enum:
            - Authorized
            - Unauthorized
          description: Authorized state of the device.
          x-ms-enum:
            name: AuthorizedState
            modelAsString: true
        programmingState:
          readOnly: true
          type: string
          enum:
            - ProgrammingDevice
            - NotProgrammingDevice
          x-ms-enum:
            name: ProgrammingState
            modelAsString: true
          description: Indicates whether this device is programming
        lastProgrammingTime:
          readOnly: true
          type: string
          format: date-time
          description: last time the device was programming or programed.
        cpes:
          readOnly: true
          type: array
          description: List of Common Platform Enumeration (CPE)
          items:
            type: string
        nics:
          readOnly: true
          type: array
          description: List of the device network interface cards.
          items:
            $ref: '#/components/schemas/Nic'
          x-ms-identifiers: []
        deviceStatus:
          readOnly: true
          type: string
          enum:
            - Active
            - Inactive
            - Removed
            - Deleted
          x-ms-enum:
            name: DeviceStatus
            modelAsString: true
          description: Device status.
        slots:
          readOnly: true
          type: array
          description: List of the device slot in the backplane
          items:
            $ref: '#/components/schemas/Slot'
          x-ms-identifiers: []
        parentDeviceId:
          readOnly: true
          type: string
          description: For nested device, this is the parent device id.
        parentRackNumber:
          readOnly: true
          type: integer
          format: int32
          description: For nested device, this is the rack number in the parent device that holds the nested device.
        parentSlotNumber:
          readOnly: true
          type: integer
          format: int32
          description: For nested device, this is the slot number in the parent device that holds the nested device.
        packages:
          type: array
          description: List of device packages
          items:
            $ref: '#/components/schemas/Package'
          x-ms-identifiers: []
        additionalFields:
          type: object
          description: ' A bag of fields which extends the device information.'
    Slot:
      type: object
      description: Slot data in PLC backplane
      properties:
        slotNumber:
          readOnly: true
          type: integer
          format: int32
          description: Slot number inside the rack
        rackNumber:
          readOnly: true
          type: integer
          format: int32
          description: Rack number in the backplane
        slotType:
          type: string
          enum:
            - Supply
            - AnalogIO
            - CommAdapter
            - DigitalIO
            - Cpu
            - Hmi
            - Generic
          x-ms-enum:
            name: SlotType
            modelAsString: true
          description: Slot type.
        hardwareVendor:
          type: string
          description: Hardware vendor of the slot.
        hardwareRevision:
          type: string
          description: Hardware revision of the slot.
        firmwareVersion:
          type: string
          description: Firmware revision of the slot.
        model:
          type: string
          description: Model of the slot.
        moduleVersion:
          type: string
          description: Module version of the slot.
        serialNumber:
          type: string
          description: Serial number of the slot.
        productCode:
          type: string
          description: Product code of the slot.
        cpes:
          readOnly: true
          type: array
          description: List of Common Platform Enumeration (CPE) of the slot
          items:
            type: string
        additionalData:
          type: object
          description: ' A bag of fields which extends the slot information.'
    Nic:
      type: object
      description: Network interface card properties
      properties:
        lastSeen:
          readOnly: true
          type: string
          format: date-time
          description: Last seen time
        ipv4Address:
          readOnly: true
          type: string
          description: Ipv4 address
        ipv6Address:
          readOnly: true
          type: string
          description: Ipv6 address
        macAddress:
          readOnly: true
          type: string
          description: Mac address
        networkAdapterVendor:
          readOnly: true
          type: string
          description: Network adapter vendor.
        macCertainty:
          readOnly: true
          type: string
          enum:
            - Guess
            - Certain
          x-ms-enum:
            name: MacCertainty
            modelAsString: true
          description: Indicates whether the association of the mac to the ip address is certain or a guess.
        vlans:
          readOnly: true
          type: array
          description: List of virtual LAN (vlan)
          items:
            type: string
    Sensor:
      type: object
      description: Sensor that scanned the device
      properties:
        name:
          readOnly: true
          type: string
          description: Sensor name.
        type:
          readOnly: true
          type: string
          enum:
            - Ot
            - Enterprise
          x-ms-enum:
            name: SensorType
            modelAsString: true
          description: Sensor type.
        zone:
          readOnly: true
          type: string
          description: Sensor zone.
        site:
          readOnly: true
          type: string
          description: Sensor site.
    Hardware:
      type: object
      description: Device hardware data
      properties:
        model:
          type: string
          description: Hardware model.
        vendor:
          type: string
          description: Hardware vendor.
        serialNumber:
          type: string
          description: Hardware serial number.
    Firmware:
      type: object
      description: Device firmware data
      properties:
        name:
          type: string
          description: Firmware name.
        vendor:
          type: string
          description: Firmware vendor.
        version:
          type: string
          description: Firmware version.
        moduleAddress:
          type: string
          description: Firmware module address.
        serial:
          type: string
          description: Firmware serial.
        additionalFields:
          type: object
          description: ' A bag of fields which extends the firmware information.'
    Package:
      type: object
      description: Device package data
      properties:
        name:
          type: string
          description: Package name.
        version:
          type: string
          description: Package version.
    OperatingSystem:
      type: object
      description: Device operating system data
      properties:
        build:
          type: string
          description: OS build
        distribution:
          type: string
          description: OS distribution
        version:
          type: string
          description: OS version
        platform:
          type: string
          description: OS platform
        architecture:
          type: string
          description: OS architecture
    MergedDevice:
      readOnly: true
      type: object
      description: Merged device data
      properties:
        id:
          readOnly: true
          type: string
          description: device id
        deviceDataSource:
          readOnly: true
          type: string
          $ref: '#/components/schemas/DeviceDataSource'
          description: Device data source
        sensor:
          readOnly: true
          type: object
          $ref: '#/components/schemas/Sensor'
          description: Device sensor data
    DeviceDataSource:
      type: string
      enum:
        - OtSensor
        - CorpSensor
        - Mde
        - MicroAgent
        - Other
      x-ms-enum:
        name: DeviceDataSource
        modelAsString: true
      description: Device data source
    DeviceGroupList:
      description: List of device groups
      type: object
      properties:
        value:
          description: List data
          readOnly: true
          type: array
          items:
            $ref: '#/components/schemas/DeviceGroupModel'
        nextLink:
          description: Link to next page of resources.
          type: string
          readOnly: true
    DeviceGroupModel:
      type: object
      description: Device group
      properties:
        properties:
          x-ms-client-flatten: true
          description: Device group properties
          $ref: '#/components/schemas/DeviceGroupProperties'
        systemData:
          readOnly: true
          type: object
          description: Azure Resource Manager metadata containing createdBy and modifiedBy information.
          $ref: '#/components/schemas/systemData'
      allOf:
        - $ref: '#/components/schemas/ProxyResource'
    DeviceGroupProperties:
      type: object
      description: Device group properties
      properties: {}
  parameters:
    OnPremiseSensorName:
      name: onPremiseSensorName
      in: path
      description: Name of the on-premise IoT sensor
      required: true
      x-ms-parameter-location: method
      schema:
        type: string
    SensorScope:
      name: scope
      in: path
      description: Scope of the query (IoT Hub, /providers/Microsoft.Devices/iotHubs/myHub)
      required: true
      x-ms-skip-url-encoding: true
      x-ms-parameter-location: method
      schema:
        type: string
    SensorName:
      name: sensorName
      in: path
      description: Name of the IoT sensor
      required: true
      x-ms-parameter-location: method
      schema:
        type: string
    SiteScope:
      name: scope
      in: path
      description: Scope of the query (IoT Hub, /providers/Microsoft.Devices/iotHubs/myHub)
      required: true
      x-ms-skip-url-encoding: true
      x-ms-parameter-location: method
      schema:
        type: string
    IotDefenderLocation:
      name: iotDefenderLocation
      in: path
      description: Defender for IoT location
      required: true
      x-ms-parameter-location: client
      schema:
        type: string
    SubscriptionIdParameter:
      name: subscriptionId
      in: path
      description: The ID of the target subscription.
      required: true
      schema:
        minLength: 1
        type: string
    ApiVersionParameter:
      name: api-version
      in: query
      description: The API version to use for this operation.
      required: true
      schema:
        minLength: 1
        type: string
    ResourceGroupNameParameter:
      name: resourceGroupName
      in: path
      description: The name of the resource group. The name is case insensitive.
      required: true
      x-ms-parameter-location: method
      schema:
        minLength: 1
        maxLength: 90
        type: string
    OperationIdParameter:
      name: operationId
      in: path
      description: The ID of an ongoing async operation.
      required: true
      x-ms-parameter-location: method
      schema:
        minLength: 1
        type: string
    LocationParameter:
      name: location
      in: path
      description: The name of Azure region.
      required: true
      x-ms-parameter-location: method
      schema:
        minLength: 1
        type: string
    api-version:
      name: api-version
      in: query
      description: The api version to use.
      required: true
      schema:
        type: string
    subscriptionId:
      name: subscriptionId
      in: path
      description: The subscription identifier
      required: true
      schema:
        type: string
    resourceGroupName:
      name: resourceGroupName
      in: path
      description: The resource group name.
      required: true
      x-ms-parameter-location: method
      schema:
        type: string
    accountName:
      name: accountName
      in: path
      description: The name of the account.
      required: true
      x-ms-parameter-location: method
      schema:
        type: string
    DeviceGroupName:
      name: deviceGroupName
      in: path
      description: Device group name
      required: true
      x-ms-parameter-location: method
      schema:
        type: string
    DeviceId:
      name: deviceId
      in: path
      description: Device Id
      required: true
      x-ms-parameter-location: method
      schema:
        type: string
  x-stackQL-resources:
    on_premise_sensors:
      id: azure.iot_security.on_premise_sensors
      name: on_premise_sensors
      title: On_premise_sensors
      methods:
        OnPremiseSensors_List:
          operation:
            $ref: '#/paths/~1subscriptions~1{subscriptionId}~1providers~1Microsoft.IoTSecurity~1onPremiseSensors~1?api-version=2021-02-01-preview/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.value
        OnPremiseSensors_Get:
          operation:
            $ref: '#/paths/~1subscriptions~1{subscriptionId}~1providers~1Microsoft.IoTSecurity~1onPremiseSensors~1{onPremiseSensorName}~1?api-version=2021-02-01-preview/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.value
        OnPremiseSensors_CreateOrUpdate:
          operation:
            $ref: '#/paths/~1subscriptions~1{subscriptionId}~1providers~1Microsoft.IoTSecurity~1onPremiseSensors~1{onPremiseSensorName}~1?api-version=2021-02-01-preview/put'
          response:
            mediaType: application/json
            openAPIDocKey: '201'
        OnPremiseSensors_Delete:
          operation:
            $ref: '#/paths/~1subscriptions~1{subscriptionId}~1providers~1Microsoft.IoTSecurity~1onPremiseSensors~1{onPremiseSensorName}~1?api-version=2021-02-01-preview/delete'
          response:
            mediaType: application/json
            openAPIDocKey: '204'
        OnPremiseSensors_DownloadActivation:
          operation:
            $ref: '#/paths/~1subscriptions~1{subscriptionId}~1providers~1Microsoft.IoTSecurity~1onPremiseSensors~1{onPremiseSensorName}~1downloadActivation~1?api-version=2021-02-01-preview/post'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        OnPremiseSensors_DownloadResetPassword:
          operation:
            $ref: '#/paths/~1subscriptions~1{subscriptionId}~1providers~1Microsoft.IoTSecurity~1onPremiseSensors~1{onPremiseSensorName}~1downloadResetPassword~1?api-version=2021-02-01-preview/post'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
          - $ref: '#/components/x-stackQL-resources/on_premise_sensors/methods/OnPremiseSensors_List'
        insert:
          - $ref: '#/components/x-stackQL-resources/on_premise_sensors/methods/OnPremiseSensors_CreateOrUpdate'
        update: []
        delete:
          - $ref: '#/components/x-stackQL-resources/on_premise_sensors/methods/OnPremiseSensors_Delete'
    sensors:
      id: azure.iot_security.sensors
      name: sensors
      title: Sensors
      methods:
        Sensors_List:
          operation:
            $ref: '#/paths/~1{scope}~1providers~1Microsoft.IoTSecurity~1sensors~1?api-version=2021-02-01-preview/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.value
        Sensors_Get:
          operation:
            $ref: '#/paths/~1{scope}~1providers~1Microsoft.IoTSecurity~1sensors~1{sensorName}~1?api-version=2021-02-01-preview/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.value
        Sensors_CreateOrUpdate:
          operation:
            $ref: '#/paths/~1{scope}~1providers~1Microsoft.IoTSecurity~1sensors~1{sensorName}~1?api-version=2021-02-01-preview/put'
          response:
            mediaType: application/json
            openAPIDocKey: '201'
        Sensors_Delete:
          operation:
            $ref: '#/paths/~1{scope}~1providers~1Microsoft.IoTSecurity~1sensors~1{sensorName}~1?api-version=2021-02-01-preview/delete'
          response:
            mediaType: application/json
            openAPIDocKey: '204'
        Sensors_DownloadActivation:
          operation:
            $ref: '#/paths/~1{scope}~1providers~1Microsoft.IoTSecurity~1sensors~1{sensorName}~1downloadActivation~1?api-version=2021-02-01-preview/post'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        Sensors_DownloadResetPassword:
          operation:
            $ref: '#/paths/~1{scope}~1providers~1Microsoft.IoTSecurity~1sensors~1{sensorName}~1downloadResetPassword~1?api-version=2021-02-01-preview/post'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        Sensors_TriggerTiPackageUpdate:
          operation:
            $ref: '#/paths/~1{scope}~1providers~1Microsoft.IoTSecurity~1sensors~1{sensorName}~1triggerTiPackageUpdate~1?api-version=2021-02-01-preview/post'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
          - $ref: '#/components/x-stackQL-resources/sensors/methods/Sensors_List'
        insert:
          - $ref: '#/components/x-stackQL-resources/sensors/methods/Sensors_CreateOrUpdate'
        update: []
        delete:
          - $ref: '#/components/x-stackQL-resources/sensors/methods/Sensors_Delete'
    sites:
      id: azure.iot_security.sites
      name: sites
      title: Sites
      methods:
        Sites_List:
          operation:
            $ref: '#/paths/~1{scope}~1providers~1Microsoft.IoTSecurity~1sites~1?api-version=2021-02-01-preview/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.value
        Sites_Get:
          operation:
            $ref: '#/paths/~1{scope}~1providers~1Microsoft.IoTSecurity~1sites~1default~1?api-version=2021-02-01-preview/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.value
        Sites_CreateOrUpdate:
          operation:
            $ref: '#/paths/~1{scope}~1providers~1Microsoft.IoTSecurity~1sites~1default~1?api-version=2021-02-01-preview/put'
          response:
            mediaType: application/json
            openAPIDocKey: '201'
        Sites_Delete:
          operation:
            $ref: '#/paths/~1{scope}~1providers~1Microsoft.IoTSecurity~1sites~1default~1?api-version=2021-02-01-preview/delete'
          response:
            mediaType: application/json
            openAPIDocKey: '204'
      sqlVerbs:
        select:
          - $ref: '#/components/x-stackQL-resources/sites/methods/Sites_List'
        insert:
          - $ref: '#/components/x-stackQL-resources/sites/methods/Sites_CreateOrUpdate'
        update: []
        delete:
          - $ref: '#/components/x-stackQL-resources/sites/methods/Sites_Delete'
    defender_settings:
      id: azure.iot_security.defender_settings
      name: defender_settings
      title: Defender_settings
      methods:
        DefenderSettings_List:
          operation:
            $ref: '#/paths/~1subscriptions~1{subscriptionId}~1providers~1Microsoft.IoTSecurity~1defenderSettings~1?api-version=2021-02-01-preview/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.value
        DefenderSettings_Get:
          operation:
            $ref: '#/paths/~1subscriptions~1{subscriptionId}~1providers~1Microsoft.IoTSecurity~1defenderSettings~1default~1?api-version=2021-02-01-preview/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.value
        DefenderSettings_CreateOrUpdate:
          operation:
            $ref: '#/paths/~1subscriptions~1{subscriptionId}~1providers~1Microsoft.IoTSecurity~1defenderSettings~1default~1?api-version=2021-02-01-preview/put'
          response:
            mediaType: application/json
            openAPIDocKey: '201'
        DefenderSettings_Delete:
          operation:
            $ref: '#/paths/~1subscriptions~1{subscriptionId}~1providers~1Microsoft.IoTSecurity~1defenderSettings~1default~1?api-version=2021-02-01-preview/delete'
          response:
            mediaType: application/json
            openAPIDocKey: '204'
        DefenderSettings_PackageDownloads:
          operation:
            $ref: '#/paths/~1subscriptions~1{subscriptionId}~1providers~1Microsoft.IoTSecurity~1defenderSettings~1default~1packageDownloads~1?api-version=2021-02-01-preview/post'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        DefenderSettings_DownloadManagerActivation:
          operation:
            $ref: '#/paths/~1subscriptions~1{subscriptionId}~1providers~1Microsoft.IoTSecurity~1defenderSettings~1default~1downloadManagerActivation~1?api-version=2021-02-01-preview/post'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
          - $ref: '#/components/x-stackQL-resources/defender_settings/methods/DefenderSettings_List'
        insert:
          - $ref: '#/components/x-stackQL-resources/defender_settings/methods/DefenderSettings_CreateOrUpdate'
        update: []
        delete:
          - $ref: '#/components/x-stackQL-resources/defender_settings/methods/DefenderSettings_Delete'
    locations:
      id: azure.iot_security.locations
      name: locations
      title: Locations
      methods:
        Locations_List:
          operation:
            $ref: '#/paths/~1subscriptions~1{subscriptionId}~1providers~1Microsoft.IoTSecurity~1locations~1?api-version=2021-02-01-preview/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.value
        Locations_Get:
          operation:
            $ref: '#/paths/~1subscriptions~1{subscriptionId}~1providers~1Microsoft.IoTSecurity~1locations~1{iotDefenderLocation}~1?api-version=2021-02-01-preview/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.value
      sqlVerbs:
        select:
          - $ref: '#/components/x-stackQL-resources/locations/methods/Locations_List'
        insert: []
        update: []
        delete: []
    operations:
      id: azure.iot_security.operations
      name: operations
      title: Operations
      methods:
        Operations_List:
          operation:
            $ref: '#/paths/~1providers~1Microsoft.IoTSecurity~1operations~1?api-version=2021-02-01-preview/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.value
      sqlVerbs:
        select:
          - $ref: '#/components/x-stackQL-resources/operations/methods/Operations_List'
        insert: []
        update: []
        delete: []
    devices:
      id: azure.iot_security.devices
      name: devices
      title: Devices
      methods:
        Devices_List:
          operation:
            $ref: '#/paths/~1subscriptions~1{subscriptionId}~1providers~1Microsoft.IoTSecurity~1locations~1{iotDefenderLocation}~1deviceGroups~1{deviceGroupName}~1devices~1?api-version=2021-02-01-preview/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.value
        Devices_Get:
          operation:
            $ref: '#/paths/~1subscriptions~1{subscriptionId}~1providers~1Microsoft.IoTSecurity~1locations~1{iotDefenderLocation}~1deviceGroups~1{deviceGroupName}~1devices~1{deviceId}~1?api-version=2021-02-01-preview/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.value
      sqlVerbs:
        select:
          - $ref: '#/components/x-stackQL-resources/devices/methods/Devices_List'
        insert: []
        update: []
        delete: []
    device_groups:
      id: azure.iot_security.device_groups
      name: device_groups
      title: Device_groups
      methods:
        DeviceGroups_List:
          operation:
            $ref: '#/paths/~1subscriptions~1{subscriptionId}~1providers~1Microsoft.IoTSecurity~1locations~1{iotDefenderLocation}~1deviceGroups~1?api-version=2021-02-01-preview/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.value
        DeviceGroups_Get:
          operation:
            $ref: '#/paths/~1subscriptions~1{subscriptionId}~1providers~1Microsoft.IoTSecurity~1locations~1{iotDefenderLocation}~1deviceGroups~1{deviceGroupName}~1?api-version=2021-02-01-preview/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.value
        DeviceGroups_CreateOrUpdate:
          operation:
            $ref: '#/paths/~1subscriptions~1{subscriptionId}~1providers~1Microsoft.IoTSecurity~1locations~1{iotDefenderLocation}~1deviceGroups~1{deviceGroupName}~1?api-version=2021-02-01-preview/put'
          response:
            mediaType: application/json
            openAPIDocKey: '201'
        DeviceGroups_Delete:
          operation:
            $ref: '#/paths/~1subscriptions~1{subscriptionId}~1providers~1Microsoft.IoTSecurity~1locations~1{iotDefenderLocation}~1deviceGroups~1{deviceGroupName}~1?api-version=2021-02-01-preview/delete'
          response:
            mediaType: application/json
            openAPIDocKey: '204'
      sqlVerbs:
        select:
          - $ref: '#/components/x-stackQL-resources/device_groups/methods/DeviceGroups_List'
        insert:
          - $ref: '#/components/x-stackQL-resources/device_groups/methods/DeviceGroups_CreateOrUpdate'
        update: []
        delete:
          - $ref: '#/components/x-stackQL-resources/device_groups/methods/DeviceGroups_Delete'
paths:
  /subscriptions/{subscriptionId}/providers/Microsoft.IoTSecurity/onPremiseSensors/?api-version=2021-02-01-preview:
    get:
      tags:
        - On-Premise Sensors
      description: List on-premise IoT sensors
      operationId: OnPremiseSensors_List
      parameters:
        - $ref: '#/components/parameters/SubscriptionIdParameter'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OnPremiseSensorsList'
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-stackQL-resource: on_premise_sensors
      x-stackQL-verb: select
  /subscriptions/{subscriptionId}/providers/Microsoft.IoTSecurity/onPremiseSensors/{onPremiseSensorName}/?api-version=2021-02-01-preview:
    get:
      tags:
        - On-Premise Sensors
      operationId: OnPremiseSensors_Get
      description: Get on-premise IoT sensor
      parameters:
        - $ref: '#/components/parameters/SubscriptionIdParameter'
        - $ref: '#/components/parameters/OnPremiseSensorName'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OnPremiseSensor'
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-stackQL-resource: on_premise_sensors
      x-stackQL-verb: exec
    put:
      tags:
        - On-Premise Sensors
      operationId: OnPremiseSensors_CreateOrUpdate
      description: Create or update on-premise IoT sensor
      parameters:
        - $ref: '#/components/parameters/SubscriptionIdParameter'
        - $ref: '#/components/parameters/OnPremiseSensorName'
      responses:
        '200':
          description: Updated on-premise IoT sensor
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OnPremiseSensor'
        '201':
          description: Created on-premise IoT sensor
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OnPremiseSensor'
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-stackQL-resource: on_premise_sensors
      x-stackQL-verb: insert
    delete:
      tags:
        - On-Premise Sensors
      operationId: OnPremiseSensors_Delete
      description: Delete on-premise IoT sensor
      parameters:
        - $ref: '#/components/parameters/SubscriptionIdParameter'
        - $ref: '#/components/parameters/OnPremiseSensorName'
      responses:
        '200':
          description: Deleted on-premise IoT sensor
        '204':
          description: On-premise IoT sensor does not exist
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-stackQL-resource: on_premise_sensors
      x-stackQL-verb: delete
  /subscriptions/{subscriptionId}/providers/Microsoft.IoTSecurity/onPremiseSensors/{onPremiseSensorName}/downloadActivation/?api-version=2021-02-01-preview:
    post:
      tags:
        - On-Premise Sensors
      operationId: OnPremiseSensors_DownloadActivation
      description: Download sensor activation file
      parameters:
        - $ref: '#/components/parameters/SubscriptionIdParameter'
        - $ref: '#/components/parameters/OnPremiseSensorName'
      responses:
        '200':
          description: Downloaded activation file
          content:
            application/zip:
              schema:
                type: object
                format: file
        default:
          description: Error response describing why the operation failed.
          content:
            application/zip:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-stackQL-resource: on_premise_sensors
      x-stackQL-verb: exec
  /subscriptions/{subscriptionId}/providers/Microsoft.IoTSecurity/onPremiseSensors/{onPremiseSensorName}/downloadResetPassword/?api-version=2021-02-01-preview:
    post:
      tags:
        - Sensors
      operationId: OnPremiseSensors_DownloadResetPassword
      description: Download file for reset password of the sensor
      parameters:
        - $ref: '#/components/parameters/SubscriptionIdParameter'
        - $ref: '#/components/parameters/OnPremiseSensorName'
      requestBody:
        description: Input for reset password.
        required: true
        x-ms-requestBody-name: body
        x-ms-parameter-location: method
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ResetPasswordInput'
      responses:
        '200':
          description: Downloaded reset password file
          content:
            application/zip:
              schema:
                type: object
                format: file
        default:
          description: Error response describing why the operation failed.
          content:
            application/zip:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-stackQL-resource: on_premise_sensors
      x-stackQL-verb: exec
  /{scope}/providers/Microsoft.IoTSecurity/sensors/?api-version=2021-02-01-preview:
    get:
      tags:
        - Sensors
      description: List IoT sensors
      operationId: Sensors_List
      parameters:
        - $ref: '#/components/parameters/SensorScope'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SensorsList'
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-stackQL-resource: sensors
      x-stackQL-verb: select
  /{scope}/providers/Microsoft.IoTSecurity/sensors/{sensorName}/?api-version=2021-02-01-preview:
    get:
      tags:
        - Sensors
      operationId: Sensors_Get
      description: Get IoT sensor
      parameters:
        - $ref: '#/components/parameters/SensorScope'
        - $ref: '#/components/parameters/SensorName'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SensorModel'
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-stackQL-resource: sensors
      x-stackQL-verb: exec
    put:
      tags:
        - Sensors
      operationId: Sensors_CreateOrUpdate
      description: Create or update IoT sensor
      parameters:
        - $ref: '#/components/parameters/SensorScope'
        - $ref: '#/components/parameters/SensorName'
      requestBody:
        description: The IoT sensor model
        required: true
        x-ms-requestBody-name: sensorModel
        x-ms-parameter-location: method
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SensorModel'
      responses:
        '200':
          description: Updated IoT sensor
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SensorModel'
        '201':
          description: Created IoT sensor
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SensorModel'
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-stackQL-resource: sensors
      x-stackQL-verb: insert
    delete:
      tags:
        - Sensors
      operationId: Sensors_Delete
      description: Delete IoT sensor
      parameters:
        - $ref: '#/components/parameters/SensorScope'
        - $ref: '#/components/parameters/SensorName'
      responses:
        '200':
          description: Deleted IoT sensor
        '204':
          description: IoT sensor does not exist
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-stackQL-resource: sensors
      x-stackQL-verb: delete
  /{scope}/providers/Microsoft.IoTSecurity/sensors/{sensorName}/downloadActivation/?api-version=2021-02-01-preview:
    post:
      tags:
        - Sensors
      operationId: Sensors_DownloadActivation
      description: Download sensor activation file
      parameters:
        - $ref: '#/components/parameters/SensorScope'
        - $ref: '#/components/parameters/SensorName'
      responses:
        '200':
          description: Downloaded activation file
          content:
            application/zip:
              schema:
                type: object
                format: file
        default:
          description: Error response describing why the operation failed.
          content:
            application/zip:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-stackQL-resource: sensors
      x-stackQL-verb: exec
  /{scope}/providers/Microsoft.IoTSecurity/sensors/{sensorName}/downloadResetPassword/?api-version=2021-02-01-preview:
    post:
      tags:
        - Sensors
      operationId: Sensors_DownloadResetPassword
      description: Download file for reset password of the sensor
      parameters:
        - $ref: '#/components/parameters/SensorScope'
        - $ref: '#/components/parameters/SensorName'
      requestBody:
        description: The reset password input.
        required: true
        x-ms-requestBody-name: body
        x-ms-parameter-location: method
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ResetPasswordInput'
      responses:
        '200':
          description: Downloaded reset password file
          content:
            application/zip:
              schema:
                type: object
                format: file
        default:
          description: Error response describing why the operation failed.
          content:
            application/zip:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-stackQL-resource: sensors
      x-stackQL-verb: exec
  /{scope}/providers/Microsoft.IoTSecurity/sensors/{sensorName}/triggerTiPackageUpdate/?api-version=2021-02-01-preview:
    post:
      tags:
        - Sensors
      operationId: Sensors_TriggerTiPackageUpdate
      description: Trigger threat intelligence package update
      parameters:
        - $ref: '#/components/parameters/SensorScope'
        - $ref: '#/components/parameters/SensorName'
      responses:
        '200':
          description: Triggered threat intelligence package update
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-stackQL-resource: sensors
      x-stackQL-verb: exec
  /{scope}/providers/Microsoft.IoTSecurity/sites/?api-version=2021-02-01-preview:
    get:
      tags:
        - Sites
      description: List IoT sites
      operationId: Sites_List
      parameters:
        - $ref: '#/components/parameters/SiteScope'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SitesList'
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-stackQL-resource: sites
      x-stackQL-verb: select
  /{scope}/providers/Microsoft.IoTSecurity/sites/default/?api-version=2021-02-01-preview:
    get:
      tags:
        - Sites
      operationId: Sites_Get
      description: Get IoT site
      parameters:
        - $ref: '#/components/parameters/SiteScope'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SiteModel'
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-stackQL-resource: sites
      x-stackQL-verb: exec
    put:
      tags:
        - Sites
      operationId: Sites_CreateOrUpdate
      description: Create or update IoT site
      parameters:
        - $ref: '#/components/parameters/SiteScope'
      requestBody:
        description: The IoT sites model
        required: true
        x-ms-requestBody-name: siteModel
        x-ms-parameter-location: method
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SiteModel'
      responses:
        '200':
          description: Updated IoT site
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SiteModel'
        '201':
          description: Created IoT site
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SiteModel'
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-stackQL-resource: sites
      x-stackQL-verb: insert
    delete:
      tags:
        - Sites
      operationId: Sites_Delete
      description: Delete IoT site
      parameters:
        - $ref: '#/components/parameters/SiteScope'
      responses:
        '200':
          description: Deleted IoT site
        '204':
          description: IoT site does not exist
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-stackQL-resource: sites
      x-stackQL-verb: delete
  /subscriptions/{subscriptionId}/providers/Microsoft.IoTSecurity/defenderSettings/?api-version=2021-02-01-preview:
    get:
      tags:
        - IoT Defender Settings
      description: List IoT Defender Settings
      operationId: DefenderSettings_List
      parameters:
        - $ref: '#/components/parameters/SubscriptionIdParameter'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DefenderSettingsList'
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-stackQL-resource: defender_settings
      x-stackQL-verb: select
  /subscriptions/{subscriptionId}/providers/Microsoft.IoTSecurity/defenderSettings/default/?api-version=2021-02-01-preview:
    get:
      tags:
        - IoT Defender Settings
      operationId: DefenderSettings_Get
      description: Get IoT Defender Settings
      parameters:
        - $ref: '#/components/parameters/SubscriptionIdParameter'
      responses:
        '200':
          description: IoT Defender Settings
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DefenderSettingsModel'
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-stackQL-resource: defender_settings
      x-stackQL-verb: exec
    put:
      tags:
        - IoT Defender Settings
      operationId: DefenderSettings_CreateOrUpdate
      description: Create or update IoT Defender settings
      parameters:
        - $ref: '#/components/parameters/SubscriptionIdParameter'
      requestBody:
        description: The IoT defender settings model
        required: true
        x-ms-requestBody-name: DefenderSettingsModel
        x-ms-parameter-location: method
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DefenderSettingsModel'
      responses:
        '200':
          description: Updated IoT Defender settings
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DefenderSettingsModel'
        '201':
          description: Created IoT Defender settings
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DefenderSettingsModel'
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-stackQL-resource: defender_settings
      x-stackQL-verb: insert
    delete:
      tags:
        - IoT Defender Settings
      operationId: DefenderSettings_Delete
      description: Delete IoT Defender settings
      parameters:
        - $ref: '#/components/parameters/SubscriptionIdParameter'
      responses:
        '200':
          description: IoT Defender settings deleted
        '204':
          description: IoT Defender settings does not exist
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-stackQL-resource: defender_settings
      x-stackQL-verb: delete
  /subscriptions/{subscriptionId}/providers/Microsoft.IoTSecurity/defenderSettings/default/packageDownloads/?api-version=2021-02-01-preview:
    post:
      tags:
        - IoT Defender Settings
      operationId: DefenderSettings_PackageDownloads
      description: Information about downloadable packages
      parameters:
        - $ref: '#/components/parameters/SubscriptionIdParameter'
      responses:
        '200':
          description: Package downloads
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PackageDownloads'
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-stackQL-resource: defender_settings
      x-stackQL-verb: exec
  /subscriptions/{subscriptionId}/providers/Microsoft.IoTSecurity/defenderSettings/default/downloadManagerActivation/?api-version=2021-02-01-preview:
    post:
      tags:
        - IoT Defender Settings
      operationId: DefenderSettings_DownloadManagerActivation
      description: Download manager activation data defined for this subscription
      parameters:
        - $ref: '#/components/parameters/SubscriptionIdParameter'
      responses:
        '200':
          description: Downloaded file
          content:
            application/zip:
              schema:
                type: object
                format: file
        default:
          description: Error response describing why the operation failed.
          content:
            application/zip:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-stackQL-resource: defender_settings
      x-stackQL-verb: exec
  /subscriptions/{subscriptionId}/providers/Microsoft.IoTSecurity/locations/?api-version=2021-02-01-preview:
    get:
      tags:
        - Locations
      description: Lists Defender for IoT locations associated with the given subscription.
      operationId: Locations_List
      parameters:
        - $ref: '#/components/parameters/SubscriptionIdParameter'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LocationList'
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-ms-pageable:
        nextLinkName: nextLink
      x-stackQL-resource: locations
      x-stackQL-verb: select
  /subscriptions/{subscriptionId}/providers/Microsoft.IoTSecurity/locations/{iotDefenderLocation}/?api-version=2021-02-01-preview:
    get:
      tags:
        - Locations
      operationId: Locations_Get
      description: Get a Defender for IoT location associated with the given subscription.
      parameters:
        - $ref: '#/components/parameters/SubscriptionIdParameter'
        - $ref: '#/components/parameters/IotDefenderLocation'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LocationModel'
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-stackQL-resource: locations
      x-stackQL-verb: exec
  /providers/Microsoft.IoTSecurity/operations/?api-version=2021-02-01-preview:
    get:
      tags:
        - Operation
      summary: Lists the available operations
      description: List of available operations
      operationId: Operations_List
      parameters:
        - $ref: '#/components/parameters/api-version'
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OperationList'
        default:
          description: An error response received from the provider.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseModel'
      x-ms-pageable:
        nextLinkName: nextLink
      x-stackQL-resource: operations
      x-stackQL-verb: select
  /subscriptions/{subscriptionId}/providers/Microsoft.IoTSecurity/locations/{iotDefenderLocation}/deviceGroups/{deviceGroupName}/devices/?api-version=2021-02-01-preview:
    get:
      tags:
        - Devices
      description: List devices
      operationId: Devices_List
      parameters:
        - $ref: '#/components/parameters/SubscriptionIdParameter'
        - $ref: '#/components/parameters/IotDefenderLocation'
        - $ref: '#/components/parameters/DeviceGroupName'
        - name: $skipToken
          in: query
          description: Skip token used for pagination
          required: false
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeviceList'
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-ms-pageable:
        nextLinkName: nextLink
      x-stackQL-resource: devices
      x-stackQL-verb: select
  /subscriptions/{subscriptionId}/providers/Microsoft.IoTSecurity/locations/{iotDefenderLocation}/deviceGroups/{deviceGroupName}/devices/{deviceId}/?api-version=2021-02-01-preview:
    get:
      tags:
        - Devices
      operationId: Devices_Get
      description: Get device
      parameters:
        - $ref: '#/components/parameters/SubscriptionIdParameter'
        - $ref: '#/components/parameters/IotDefenderLocation'
        - $ref: '#/components/parameters/DeviceGroupName'
        - $ref: '#/components/parameters/DeviceId'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeviceModel'
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-stackQL-resource: devices
      x-stackQL-verb: exec
  /subscriptions/{subscriptionId}/providers/Microsoft.IoTSecurity/locations/{iotDefenderLocation}/deviceGroups/?api-version=2021-02-01-preview:
    get:
      tags:
        - Device Groups
      description: List device groups
      operationId: DeviceGroups_List
      parameters:
        - $ref: '#/components/parameters/SubscriptionIdParameter'
        - $ref: '#/components/parameters/IotDefenderLocation'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeviceGroupList'
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-ms-pageable:
        nextLinkName: nextLink
      x-stackQL-resource: device_groups
      x-stackQL-verb: select
  /subscriptions/{subscriptionId}/providers/Microsoft.IoTSecurity/locations/{iotDefenderLocation}/deviceGroups/{deviceGroupName}/?api-version=2021-02-01-preview:
    get:
      tags:
        - Device Groups
      operationId: DeviceGroups_Get
      description: Get device group
      parameters:
        - $ref: '#/components/parameters/SubscriptionIdParameter'
        - $ref: '#/components/parameters/IotDefenderLocation'
        - $ref: '#/components/parameters/DeviceGroupName'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeviceGroupModel'
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-stackQL-resource: device_groups
      x-stackQL-verb: exec
    put:
      tags:
        - Device Groups
      operationId: DeviceGroups_CreateOrUpdate
      description: Create or update device group
      parameters:
        - $ref: '#/components/parameters/SubscriptionIdParameter'
        - $ref: '#/components/parameters/IotDefenderLocation'
        - $ref: '#/components/parameters/DeviceGroupName'
      requestBody:
        description: Device group model
        required: true
        x-ms-requestBody-name: deviceGroupModel
        x-ms-parameter-location: method
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeviceGroupModel'
      responses:
        '200':
          description: Updated device group
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeviceGroupModel'
        '201':
          description: Created device group
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeviceGroupModel'
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-stackQL-resource: device_groups
      x-stackQL-verb: insert
    delete:
      tags:
        - Device Groups
      operationId: DeviceGroups_Delete
      description: Delete device group
      parameters:
        - $ref: '#/components/parameters/SubscriptionIdParameter'
        - $ref: '#/components/parameters/IotDefenderLocation'
        - $ref: '#/components/parameters/DeviceGroupName'
      responses:
        '200':
          description: Device group deleted
        '204':
          description: Device group does not exist
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      x-stackQL-resource: device_groups
      x-stackQL-verb: delete
x-stackQL-config:
  variations:
    isObjectSchemaImplicitlyUnioned: true

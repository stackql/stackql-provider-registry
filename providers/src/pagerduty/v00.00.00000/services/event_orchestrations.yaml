openapi: 3.0.2
servers:
  - url: 'https://api.pagerduty.com'
    description: PagerDuty V2 API.
info:
  contact:
    name: PagerDuty Support
    url: 'http://www.pagerduty.com/support'
    email: support@pagerduty.com
  version: 2.0.0
  title: PagerDuty API - event_orchestrations
  description: Event_Orchestrations
security:
  - api_key: []
tags:
  - name: Abilities
    description: |
      This describes your account's abilities by feature name. For example `"teams"`.
      An ability may be available to your account based on things like your pricing plan or account state.
  - name: Add-ons
    description: |
      Developers can write their own functionality to insert into PagerDuty's UI.
  - name: Analytics
    description: |
      Provides enriched incident data.
  - name: Apps
    description: ''
  - name: Audit
    description: |
      Provides audit record data.
  - name: Automation Actions
    description: |
      Automation Actions invoke jobs that are staged in Runbook Automation or Process Automation.
  - name: Paused Incident Reports
    description: |
      Provides paused Incident reporting data on services and accounts that have paused Alerts.
  - name: Business Services
    description: |
      Business services model capabilities that span multiple technical services and that may be owned by several different teams.
  - name: Custom Fields
    description: |
      Custom fields allow you to enrich PagerDuty incidents with critical and helpful metadata throughout the incident lifecycle.
  - name: Change Events
    description: |
      Change Events enable you to send informational events about recent changes such as code deploys and system config changes from any system that can make an outbound HTTP connection. These events do not create incidents and do not send notifications; they are shown in context with incidents on the same PagerDuty service.
  - name: Escalation Policies
    description: |
      Escalation policies define which user should be alerted at which time.
  - name: Event Orchestrations
    description: |
      Event Orchestrations allow you to route events to an endpoint and create collections of Event Orchestrations, which define sets of actions to take based on event content.
  - name: Extension Schemas
    description: |
      A PagerDuty extension vendor represents a specific type of outbound extension such as Generic Webhook, Slack, ServiceNow.
  - name: Extensions
    description: |
      Extensions are representations of Extension Schema objects that are attached to Services.
  - name: Incidents
    description: |
      An incident represents a problem or an issue that needs to be addressed and resolved. Incidents trigger on a service, which prompts notifications to go out to on-call responders per the service's escalation policy.
  - name: Incident Workflows
    description: |
      An Incident Workflow is a sequence of configurable Steps and associated Triggers that can execute automated Actions for a given Incident.
  - name: Licenses
    description: |
      Licenses are allocated to Users to allow for per-User access to PagerDuty functionality within an Account.
  - name: Log Entries
    description: |
      A log of all the events that happen to an Incident, and these are exposed as Log Entries.
  - name: Maintenance Windows
    description: |
      A Maintenance Window is used to temporarily disable one or more Services for a set period of time.
  - name: Notifications
    description: |
      A Notification is created when an Incident is triggered or escalated.
  - name: On-Calls
    description: |
      An on-call represents a contiguous unit of time for which a User will be on call for a given Escalation Policy and Escalation Rules
  - name: Priorities
    description: |
      A priority is a label representing the importance and impact of an incident. This feature is only available on Standard and Enterprise plans.
  - name: Response Plays
    description: |
      Response Plays are a package of Incident Actions that can be applied during an Incident's life cycle.
  - name: Rulesets
    description: |
      Rulesets allow you to route events to an endpoint and create collections of Event Rules, which define sets of actions to take based on event content.
  - name: Schedules
    description: |
      A Schedule determines the time periods that users are On-Call.
  - name: Service Dependencies
    description: |
      Services are categorized into technical and business services. Dependencies can be created via any combination of these services.
  - name: Services
    description: |
      A Service may represent an application, component, or team you wish to open incidents against.
  - name: Webhooks
    description: |
      A webhook is a way to receive events that occur on the PagerDuty platform via an HTTP POST request.
      V3 webhooks are set up by creating a webhook subscription.
  - name: Status Dashboards
    description: |
      Status Dashboards represent user-defined views for the Status Dashboard product that are limited to specific Business Services rather than the whole set of top-level Business Services (those with no dependent Services).
  - name: Tags
    description: |
      A Tag is applied to Escalation Policies, Teams or Users and can be used to filter them.
  - name: Teams
    description: |
      A team is a collection of Users and Escalation Policies that represent a group of people within an organization.
  - name: Templates
    description: |
      Templates is a new feature which will allow customers to create message templates to be leveraged by (but not limited to) status updates. The API will be secured to customers with the status updates entitlements.
  - name: Users
    description: |
      Users are members of a PagerDuty account that have the ability to interact with Incidents and other data on the account.
  - name: Vendors
    description: |
      A PagerDuty Vendor represents a specific type of integration. AWS Cloudwatch, Splunk, Datadog are all examples of vendors
components:
  schemas:
    Pagination:
      type: object
      properties:
        offset:
          type: integer
          description: Echoes offset pagination property.
          readOnly: true
        limit:
          type: integer
          description: Echoes limit pagination property.
          readOnly: true
        more:
          type: boolean
          description: Indicates if there are additional records to return
          readOnly: true
        total:
          type: integer
          description: The total number of records matching the given query.
          nullable: true
          readOnly: true
    AutomationActionsActionClassificationEnum:
      type: string
      enum:
        - diagnostic
        - remediation
      nullable: true
    Orchestration:
      type: object
      properties:
        id:
          type: string
          description: ID of the Orchestration.
          readOnly: true
        self:
          type: string
          format: url
          description: The API show URL at which the object is accessible
          readOnly: true
        name:
          type: string
          description: Name of the Orchestration.
        description:
          type: string
          description: A description of this Orchestration's purpose.
        team:
          type: object
          description: 'Reference to the team that owns the Orchestration. If none is specified, only admins have access.'
          properties:
            id:
              type: string
            type:
              type: string
              description: A string that determines the schema of the object
              readOnly: true
            self:
              type: string
              format: url
              description: The API show URL at which the object is accessible
              readOnly: true
        integrations:
          type: array
          items:
            $ref: '#/components/schemas/OrchestrationIntegration'
          readOnly: true
        routes:
          type: integer
          description: Number of different Service Orchestration being routed to
          readOnly: true
        created_at:
          type: string
          format: date-time
          description: The date the Orchestration was created at.
          readOnly: true
        created_by:
          type: object
          description: Reference to the user that has created the Orchestration.
          properties:
            id:
              type: string
              readOnly: true
            type:
              type: string
              description: A string that determines the schema of the object
              readOnly: true
            self:
              type: string
              format: url
              description: The API show URL at which the object is accessible
              readOnly: true
          readOnly: true
        updated_at:
          type: string
          format: date-time
          description: The date the Orchestration was last updated.
          readOnly: true
        updated_by:
          type: object
          description: Reference to the user that has updated the Orchestration last.
          properties:
            id:
              type: string
              readOnly: true
            type:
              type: string
              description: A string that determines the schema of the object
              readOnly: true
            self:
              type: string
              format: url
              description: The API show URL at which the object is accessible
              readOnly: true
          readOnly: true
        version:
          type: string
          description: Version of the Orchestration.
          readOnly: true
    OrchestrationIntegration:
      type: object
      properties:
        id:
          type: string
          description: ID of the Integration.
          readOnly: true
        label:
          type: string
          description: Name of the Integration.
        parameters:
          type: object
          readOnly: true
          properties:
            routing_key:
              type: string
              description: Routing Key used to send Events to this Orchestration
              readOnly: true
            type:
              type: string
              default: global
              readOnly: true
    OrchestrationGlobal:
      allOf:
        - type: object
          properties:
            orchestration_path:
              type: object
              properties:
                type:
                  type: string
                  default: service
                  readOnly: true
                parent:
                  type: object
                  properties:
                    id:
                      type: string
                      description: ID of the object these Orchestration Rules belongs to.
                      readOnly: true
                    type:
                      type: string
                      description: A string that determines the schema of the parent object
                      readOnly: true
                    self:
                      type: string
                      format: url
                      description: The API show URL at which the parent object is accessible
                      readOnly: true
                  readOnly: true
                sets:
                  type: array
                  description: 'Must contain at least a "start" set, but can contain any number of additional sets that are routed to by other rules to form a directional graph of rules.'
                  items:
                    type: object
                    description: A set of rules
                    properties:
                      id:
                        type: string
                        description: The ID of this set of rules. Rules in other sets can route events into this set using the "route_to" properties.
                        default: start
                      rules:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: ID of the rule
                              readOnly: true
                            label:
                              type: string
                              description: A description of this rule's purpose.
                            conditions:
                              type: array
                              description: Each of these conditions is evaluated to check if an event matches this rule. The rule is considered a match if **any** of these conditions match.
                              items:
                                type: object
                                properties:
                                  expression:
                                    type: string
                                    description: A PCL condition string
                                    example: event.summary matches part 'my service error'
                            actions:
                              type: object
                              description: 'When an event matches this rule, these are the actions that will be taken to change the resulting alert and incident.'
                            disabled:
                              type: boolean
                              description: Indicates whether the rule is disabled and would therefore not be evaluated.
                catch_all:
                  type: object
                  description: 'When none of the Rules in a set match an event, we apply the catch_all actions to the event.'
                  properties:
                    actions:
                      type: object
                      description: These are the actions that will be taken to change the resulting alert and incident.
                created_at:
                  type: string
                  format: date-time
                  description: The date/time the object was created.
                  readOnly: true
                created_by:
                  type: object
                  description: Reference to the user that created the object.
                  properties:
                    id:
                      type: string
                      readOnly: true
                    type:
                      type: string
                      description: 'A string that determines the schema of the object. This must be the standard name for the entity, suffixed by `_reference` if the object is a reference.'
                      readOnly: true
                    self:
                      type: string
                      format: url
                      description: The API show URL at which the object is accessible
                      readOnly: true
                  readOnly: true
                updated_at:
                  type: string
                  format: date-time
                  description: The date/time the object was last updated.
                  readOnly: true
                updated_by:
                  type: object
                  description: Reference to the user that last updated the object.
                  properties:
                    id:
                      type: string
                      readOnly: true
                    type:
                      type: string
                      description: 'A string that determines the schema of the object. This must be the standard name for the entity, suffixed by `_reference` if the object is a reference.'
                      readOnly: true
                    self:
                      type: string
                      format: url
                      description: The API show URL at which the object is accessible
                      readOnly: true
                  readOnly: true
                version:
                  type: string
                  description: Version of these Orchestration Rules
                  readOnly: true
          required:
            - orchestration_path
        - type: object
          properties:
            orchestration_path:
              properties:
                type:
                  description: Indicates that these are a set of "global" rules.
                  default: global
                parent:
                  properties:
                    id:
                      description: ID of the Global Event Orchestration these Global Rules belongs to.
                    type:
                      enum:
                        - event_orchestration_reference
                sets:
                  description: 'You must define at least a "start" set, but you can also define any number of additional sets that are routed to by other rules to form a directional graph.'
                  items:
                    properties:
                      rules:
                        items:
                          properties:
                            actions:
                              allOf:
                                - properties:
                                    route_to:
                                      type: string
                                      description: The ID of a Set from this Global Orchestration whose rules you also want to use with event that match this rule.
                                - $ref: '#/components/schemas/OrchestrationGlobal/allOf/1/properties/orchestration_path/properties/catch_all/properties/actions/allOf/0'
                                - $ref: '#/components/schemas/OrchestrationGlobal/allOf/1/properties/orchestration_path/properties/catch_all/properties/actions/allOf/1'
                                - $ref: '#/components/schemas/OrchestrationUnrouted/allOf/1/properties/orchestration_path/properties/catch_all/properties/actions'
                                - $ref: '#/components/schemas/OrchestrationGlobal/allOf/1/properties/orchestration_path/properties/catch_all/properties/actions/allOf/3'
                catch_all:
                  description: 'When none of the rules match an event, the event will be routed according to the catch_all settings.'
                  properties:
                    actions:
                      allOf:
                        - type: object
                          properties:
                            suppress:
                              type: boolean
                              description: 'If true, the resulting alert is suppressed. Suppressed alerts will not trigger an incident.'
                            suspend:
                              type: integer
                              description: The number of seconds to suspend the resulting alert before triggering. This effectively pauses incident notifications. If a resolve event arrives before the alert triggers then PagerDuty won't create an incident for this the resulting alert.
                            drop_event:
                              type: boolean
                              description: 'If true, this event will be dropped. Dropped events will not trigger or resolve an alert or an incident. Dropped events will not be evaluated against router rules.'
                        - type: object
                          properties:
                            priority:
                              type: string
                              description: The ID of the priority you want to set on resulting incident. You can find the list of priority IDs for your account by calling the priorities endpoint.
                              example: P53ZZH5
                            annotate:
                              type: string
                              description: Add this text as a note on the resulting incident.
                        - $ref: '#/components/schemas/OrchestrationUnrouted/allOf/1/properties/orchestration_path/properties/catch_all/properties/actions'
                        - type: object
                          properties:
                            automation_actions:
                              type: array
                              description: Create a Webhoook associated with the resulting incident.
                              items:
                                type: object
                                properties:
                                  name:
                                    type: string
                                    description: The name of the Webhook.
                                  url:
                                    type: string
                                    description: The API endpoint where PagerDuty's servers will send the webhook request.
                                  auto_send:
                                    type: boolean
                                    description: 'When true, PagerDuty''s servers will automatically send this webhook request as soon as the resulting incident is created. When false, your incident responder will be able to manually trigger the Webhook via the PagerDuty website & mobile app.'
                                    default: false
                                  headers:
                                    type: array
                                    description: Specify custom key/value pairs that'll be sent with the webhook request as request headers.
                                    items:
                                      type: object
                                      properties:
                                        key:
                                          type: string
                                        value:
                                          type: string
                                  parameters:
                                    type: array
                                    description: Specify custom key/value pairs that'll be included in the webhook request's JSON payload.
                                    items:
                                      type: object
                                      properties:
                                        key:
                                          type: string
                                        value:
                                          type: string
          example:
            $ref: '#/components/examples/OrchestrationPathGlobalTypeResponse/value'
    OrchestrationUnrouted:
      allOf:
        - $ref: '#/components/schemas/OrchestrationGlobal/allOf/0'
        - type: object
          properties:
            orchestration_path:
              properties:
                type:
                  description: Indicates that these are a "unrouted" type set of rules.
                  default: unrouted
                parent:
                  properties:
                    id:
                      description: ID of the Global Event Orchestration this Unrouted Orchestration belongs to.
                    type:
                      enum:
                        - event_orchestration_reference
                sets:
                  description: 'An Unrouted Orchestration must contain at least a "start" set, but can contain any number of additional sets that are routed to by other rules to form a directional graph.'
                  items:
                    properties:
                      rules:
                        items:
                          properties:
                            actions:
                              allOf:
                                - properties:
                                    route_to:
                                      type: string
                                      description: The ID of a Set from this Unrouted Orchestration whose rules you also want to use with event that match this rule.
                                - $ref: '#/components/schemas/OrchestrationUnrouted/allOf/1/properties/orchestration_path/properties/catch_all/properties/actions'
                catch_all:
                  properties:
                    actions:
                      type: object
                      properties:
                        severity:
                          type: string
                          description: Set the severity of the resulting alert.
                          enum:
                            - info
                            - error
                            - warning
                            - critical
                        event_action:
                          type: string
                          description: Set whether the resulting alert status is trigger or resolve.
                          enum:
                            - trigger
                            - resolve
                        variables:
                          type: array
                          description: Populate variables from event payloads and use those variables in other event actions.
                          items:
                            type: object
                            properties:
                              name:
                                type: string
                                description: The name of the variable
                                example: server_name
                              path:
                                type: string
                                description: 'Path to a field in an event, in dot-notation.'
                                example: event.summary
                              type:
                                type: string
                                description: The type of operation to populate the variable. Currently only Regex-based variable extraction is supported.
                                enum:
                                  - regex
                              value:
                                type: string
                                description: 'A RE2 regular expression. If it contains one or more capture groups, their values will be extracted and appended together. If it contains no capture groups, the whole match is used.'
                                example: High CPU on (.*) server
                        extractions:
                          type: array
                          description: Dynamically extract values to set and modify new and existing PD-CEF fields.
                          items:
                            anyOf:
                              - type: object
                                description: Use a template string & variables
                                properties:
                                  target:
                                    type: string
                                    description: The PD-CEF field that will be set with the value from the template.
                                    example: event.summary
                                  template:
                                    type: string
                                    description: A value that will be used to populate the target PD-CEF field. You can include variables extracted from the payload by using string interpolation.
                                    example: 'High CPU on {{hostname}} server'
                              - type: object
                                description: Use a regex to extract a value
                                properties:
                                  target:
                                    type: string
                                    description: The PD-CEF field that will be set with the value from the regex.
                                    example: event.custom_details.server
                                  regex:
                                    type: string
                                    description: 'A RE2 regular expression. If it contains one or more capture groups, their values will be extracted and appended together. If it contains no capture groups, the whole match is used.'
                                    example: High CPU on (.*) server
                                  source:
                                    type: string
                                    description: The path to the event field where the regex will be applied to extract a value.
                                    example: event.summary
          example:
            orchestration_path:
              type: unrouted
              parent:
                id: b02e973d-9620-4e0a-9edc-00fedf7d4694
                self: 'https://api.pagerduty.com/event_orchestrations/b02e973d-9620-4e0a-9edc-00fedf7d4694'
                type: event_orchestration_reference
              self: 'https://api.pagerduty.com/event_orchestrations/b02e973d-9620-4e0a-9edc-00fedf7d4694/router'
              sets:
                - id: start
                  rules:
                    - label: Update the summary of un-matched Critical alerts so they're easier to spot
                      id: 38880ffb
                      conditions:
                        - expression: event.severity matches 'critical'
                      actions:
                        extractions:
                          - target: event.summary
                            template: '[Critical Unrouted] {{event.summary}}'
                    - label: Reduce the severity of all other unrouted events
                      id: 3896801e
                      conditions: []
                      actions:
                        severity: info
              catch_all:
                actions:
                  suppress: true
              created_at: '2021-11-18T16:42:01Z'
              created_by:
                id: P8B9WR8
                self: 'https://api.pagerduty.com/users/P8B9WR8'
                type: user_reference
              updated_at: '2021-11-18T16:42:01Z'
              updated_by:
                id: P8B9WR8
                self: 'https://api.pagerduty.com/users/P8B9WR8'
                type: user_reference
              version: aZO.EEf9zWb9Vg0NYq.Uqad1hOC2Maod
    OrchestrationWarningIneligible:
      type: object
      description: This rule is using a feature that is currently unavailable on the current account plan.
      properties:
        message:
          type: string
          description: A description of the warning and any potential side effects.
        rule_id:
          type: string
          description: The ID of the rule using the feature.
        feature:
          type: string
          description: The feature that the current account plan does not have access to.
          enum:
            - threshold_condition
            - recurring_condition
            - scheduled_condition
            - nested_rules
            - suspend
            - automation_actions
            - pagerduty_automation_actions
            - extractions
            - variables
            - suppress
        feature_type:
          type: string
          description: 'Specifies whether the feature is a part of the rule''s conditions, or its actions.'
          enum:
            - conditions
            - actions
            - nested_rules
        warning_type:
          type: string
          description: The type of warning that is being returned for the rule.
          enum:
            - forbidden_feature
    OrchestrationRouter:
      allOf:
        - $ref: '#/components/schemas/OrchestrationGlobal/allOf/0'
        - type: object
          properties:
            orchestration_path:
              properties:
                type:
                  description: Indicates that these are a "router" type set of rules.
                  default: router
                parent:
                  properties:
                    id:
                      description: ID of the Global Event Orchestration this Router belongs to.
                    type:
                      enum:
                        - event_orchestration_reference
                sets:
                  description: 'The Router contains a single set of rules (the "start" set). The Router evaluates Events against these Rules, one at a time, and routes each Event to a specific Service based on the first rule that matches.'
                  maxItems: 1
                  minItems: 1
                  items:
                    properties:
                      rules:
                        items:
                          properties:
                            actions:
                              properties:
                                route_to:
                                  type: string
                                  description: The ID of the target Service for the resulting alert. You can find the service you want to route to by calling the services endpoint.
                                  example: PSI2I2O
                catch_all:
                  description: 'When none of the rules match an event, the event will be routed according to the catch_all settings.'
                  properties:
                    actions:
                      properties:
                        route_to:
                          description: 'With a value of ''unrouted'', all events are sent to the Unrouted Orchestration.'
                          type: string
                          default: unrouted
          example:
            orchestration_path:
              type: router
              parent:
                id: b02e973d-9620-4e0a-9edc-00fedf7d4694
                self: 'https://api.pagerduty.com/event_orchestrations/b02e973d-9620-4e0a-9edc-00fedf7d4694'
                type: event_orchestration_reference
              self: 'https://api.pagerduty.com/event_orchestrations/b02e973d-9620-4e0a-9edc-00fedf7d4694/router'
              sets:
                - id: start
                  rules:
                    - label: Events relating to our relational database
                      id: 1c26698b
                      conditions:
                        - expression: event.summary matches part 'database'
                        - expression: 'event.source matches regex ''db[0-9]+-server'''
                      actions:
                        route_to: PB31XBA
                    - label: Events relating to our www app server
                      id: d9801904
                      conditions:
                        - expression: event.summary matches part 'www'
                      actions:
                        route_to: PC2D9ML
              catch_all:
                actions:
                  route_to: unrouted
              created_at: '2021-11-18T16:42:01Z'
              created_by:
                id: P8B9WR8
                self: 'https://api.pagerduty.com/users/P8B9WR8'
                type: user_reference
              updated_at: '2021-11-18T16:42:01Z'
              updated_by:
                id: P8B9WR8
                self: 'https://api.pagerduty.com/users/P8B9WR8'
                type: user_reference
              version: 9co0z4b152oICsoV91_PW2.ww8ip_xap
    ServiceOrchestration:
      allOf:
        - $ref: '#/components/schemas/OrchestrationGlobal/allOf/0'
        - type: object
          properties:
            orchestration_path:
              properties:
                type:
                  description: Indicates that these are sets of rules belonging to a service.
                  default: service
                parent:
                  properties:
                    id:
                      description: The ID of the Service this Orchestration belongs to.
                    type:
                      enum:
                        - service_reference
                sets:
                  description: 'A Service Orchestration must contain at least a "start" set, but can contain any number of additional sets that are routed to by other rules to form a directional graph.'
                  items:
                    properties:
                      rules:
                        items:
                          properties:
                            actions:
                              allOf:
                                - properties:
                                    route_to:
                                      type: string
                                      description: The ID of a Set from this Service Orchestration whose rules you also want to use with event that match this rule.
                                - $ref: '#/components/schemas/ServiceOrchestration/allOf/1/properties/orchestration_path/properties/catch_all/properties/actions/allOf/0'
                                - $ref: '#/components/schemas/OrchestrationGlobal/allOf/1/properties/orchestration_path/properties/catch_all/properties/actions/allOf/1'
                                - $ref: '#/components/schemas/OrchestrationUnrouted/allOf/1/properties/orchestration_path/properties/catch_all/properties/actions'
                                - $ref: '#/components/schemas/ServiceOrchestration/allOf/1/properties/orchestration_path/properties/catch_all/properties/actions/allOf/3'
                                - $ref: '#/components/schemas/OrchestrationGlobal/allOf/1/properties/orchestration_path/properties/catch_all/properties/actions/allOf/3'
                catch_all:
                  properties:
                    actions:
                      allOf:
                        - type: object
                          properties:
                            suppress:
                              type: boolean
                              description: 'If true, the resulting alert is suppressed. Suppressed alerts will not trigger an incident.'
                            suspend:
                              type: integer
                              description: The number of seconds to suspend the resulting alert before triggering. This effectively pauses incident notifications. If a resolve event arrives before the alert triggers then PagerDuty won't create an incident for this the resulting alert.
                        - $ref: '#/components/schemas/OrchestrationGlobal/allOf/1/properties/orchestration_path/properties/catch_all/properties/actions/allOf/1'
                        - $ref: '#/components/schemas/OrchestrationUnrouted/allOf/1/properties/orchestration_path/properties/catch_all/properties/actions'
                        - type: object
                          properties:
                            pagerduty_automation_actions:
                              type: array
                              description: Configure an Automation Action associated with the resulting incident.
                              items:
                                type: object
                                properties:
                                  action_id:
                                    type: string
                                    description: Automation Action ID
                        - $ref: '#/components/schemas/OrchestrationGlobal/allOf/1/properties/orchestration_path/properties/catch_all/properties/actions/allOf/3'
          example:
            orchestration_path:
              type: service
              parent:
                id: PC2D9ML
                self: 'https://api.pagerduty.com/service/PC2D9ML'
                type: service_reference
              self: 'https://api.pagerduty.com/event_orchestrations/service/PC2D9ML'
              sets:
                - id: start
                  rules:
                    - label: Always apply some consistent event transformations to all events
                      id: c91f72f3
                      conditions: []
                      actions:
                        variables:
                          - name: hostname
                            path: event.component
                            value: 'hostname: (.*)'
                            type: regex
                        extractions:
                          - template: '{{variables.hostname}}'
                            target: event.custom_details.hostname
                          - source: event.source
                            regex: www (.*) service
                            target: event.source
                        route_to: step-two
                - id: step-two
                  rules:
                    - label: All critical alerts should be treated as P1 incidents
                      id: 7c54529d
                      conditions:
                        - event.severity matches 'critical'
                      actions:
                        annotate: 'Please use our P1 runbook: https://docs.test/p1-runbook'
                        priority: P0IN2KQ
                        suppress: false
                    - label: If the API endpoints return HTTP 502 run an Automation Action that restarts the service
                      id: 8a874630
                      conditions:
                        - event.custom_details.http_status_code equals '502'
                      actions:
                        pagerduty_automation_actions:
                          - action_id: 01CSB5SMOKCKVRI5GN0LJG7SMB
                    - label: If there's something wrong on the canary let the team know about it in our deployments Slack channel
                      id: 1f6d9a33
                      conditions:
                        - event.custom_details.hostname matches part 'canary'
                      actions:
                        automation_actions:
                          - name: Canary Slack Notification
                            url: 'https://our-slack-listerner.test/send-notification'
                            auto_send: true
                            headers:
                              - key: X-Notification-Source
                                value: PagerDuty Incident Webhook
                            parameters:
                              - key: channel
                                value: '#my-team-channel'
                              - key: message
                                value: Something is wrong with the canary deployment
                    - label: Never bother the on-call for info-level events outside of work hours
                      id: cd770384
                      conditions:
                        - 'event.severity matches ''info'' and not (now in Mon,Tue,Wed,Thu,Fri 09:00:00 to 17:00:00 America/Los_Angeles)'
                      actions:
                        suppress: true
              catch_all:
                actions:
                  suppress: true
              created_at: '2021-11-18T16:42:01Z'
              created_by:
                id: P8B9WR8
                self: 'https://api.pagerduty.com/users/P8B9WR8'
                type: user_reference
              updated_at: '2021-11-18T16:42:01Z'
              updated_by:
                id: P8B9WR8
                self: 'https://api.pagerduty.com/users/P8B9WR8'
                type: user_reference
              version: rn1Mja13T1HBdmPChqFilSQXUW2fWXM_
  parameters:
    header_Accept:
      name: Accept
      description: The `Accept` header is used as a versioning header.
      in: header
      required: false
      schema:
        type: string
        default: application/vnd.pagerduty+json;version=2
    header_Content-Type:
      name: Content-Type
      in: header
      required: false
      schema:
        type: string
        default: application/json
        enum:
          - application/json
    audit_since:
      name: since
      in: query
      description: 'The start of the date range over which you want to search. If not specified, defaults to `now() - 24 hours` (past 24 hours)'
      schema:
        type: string
        format: date-time
    audit_until:
      name: until
      in: query
      description: 'The end of the date range over which you want to search. If not specified, defaults to `now()`. May not be more than 31 days after `since`.'
      schema:
        type: string
        format: date-time
    audit_root_resource_types:
      name: 'root_resource_types[]'
      in: query
      description: Resource type filter for the root_resource.
      schema:
        type: string
        enum:
          - users
          - teams
          - schedules
          - escalation_policies
          - services
        example: users
    audit_actor_type:
      name: actor_type
      in: query
      description: Actor type filter.
      schema:
        type: string
        example: user_reference
    audit_actor_id:
      name: actor_id
      in: query
      description: Actor Id filter. Must be qualified by providing the `actor_type` param.
      schema:
        type: string
        example: P123456
    audit_method_type:
      name: method_type
      in: query
      description: Method type filter.
      schema:
        type: string
        description: |
          Describes the method used to perform the action:

          `browser` -- authenticated user session. Session value is not returned in the `truncated_token` field.

          `oauth` -- access token obtained via the OAuth flow. Truncated token value is returned in the `truncated_token` field.

          `api_token` -- Pagerduty API token. Truncated token value is returned in the `truncated_token` field.

          `identity_provider` -- action performed by an Identity provider on behalf of a user. No value is returned in the `truncated_token` field.

          `other` -- Method that does not fall in the predefined categories. Truncated token value MAY be returned in the `truncated_token` field.
        enum:
          - browser
          - oauth
          - api_token
          - identity_provider
          - other
    audit_method_truncated_token:
      name: method_truncated_token
      in: query
      description: Method truncated_token filter. Must be qualified by providing the `method_type` param.
      schema:
        type: string
        example: 3xyz
    audit_actions:
      name: 'actions[]'
      in: query
      description: Action filter
      schema:
        type: string
        description: |
          The action executed on the aggregate
        enum:
          - create
          - update
          - delete
    offset_limit:
      name: limit
      in: query
      required: false
      description: The number of results per page.
      schema:
        type: integer
    offset_offset:
      name: offset
      in: query
      required: false
      description: Offset to start pagination search results.
      schema:
        type: integer
    offset_total:
      name: total
      in: query
      required: false
      description: |
        By default the `total` field in pagination responses is set to `null` to provide the fastest possible response times. Set `total` to `true` for this field to be populated.

        See our [Pagination Docs](https://developer.pagerduty.com/docs/rest-api-v2/pagination/) for more information.
      schema:
        default: false
        type: boolean
    automation_actions_name:
      name: name
      description: Filters results to include the ones matching the name (case insensitive substring matching)
      in: query
      required: false
      schema:
        type: string
        nullable: false
    automation_actions_runners_include:
      name: 'include[]'
      in: query
      required: false
      description: Includes additional data elements into the response
      explode: true
      schema:
        type: array
        items:
          type: string
          enum:
            - associated_actions
          example: associated_actions
        uniqueItems: true
    automation_actions_runner_id:
      name: runner_id
      description: |
        Filters results to include the ones linked to the specified runner.
        Specifying the value `any` filters results to include the ones linked to runners only,
        thus omitting the results not linked to runners.
      in: query
      required: false
      schema:
        type: string
        nullable: false
    automation_actions_classification:
      name: classification
      description: Filters results to include the ones matching the specified classification (aka category)
      in: query
      required: false
      schema:
        $ref: '#/components/schemas/AutomationActionsActionClassificationEnum'
    automation_actions_action_type:
      name: action_type
      description: Filters results to include the ones matching the specified action type
      in: query
      required: false
      schema:
        type: string
        enum:
          - script
          - process_automation
        example: process_automation
    automation_actions_team_id:
      name: team_id
      description: Filters results to include the ones associated with the specified team.
      in: query
      required: false
      schema:
        type: string
        nullable: false
    automation_actions_service_id:
      name: service_id
      description: Filters results to include the ones associated with the specified service
      in: query
      required: false
      schema:
        type: string
        nullable: false
    automation_actions_invocation_state:
      name: invocation_state
      description: Invocation state
      in: query
      schema:
        type: string
        description: 'prepared -- the invocation exists and can be referenced, but is NOT available to a Runner <br> created -- the invocation exists and is waiting for a Runner <br> sent -- invocation sent to a Runner <br> queued -- invocation queued by a Runner <br> running -- invocation is being ran by a Runner <br> aborted -- invocation was aborted on a Runner <br> completed -- invocation completed on a Runner <br> error -- invocation encountered an error on a Runner'
        enum:
          - prepared
          - created
          - sent
          - queued
          - running
          - aborted
          - completed
          - error
        example: sent
    automation_actions_incident_id:
      name: incident_id
      description: Incident ID
      in: query
      required: true
      schema:
        type: string
        example: Q2LAR4ADCXC8IB
    past_incidents_limit:
      name: limit
      in: query
      required: false
      description: The number of results to be returned in the response.
      schema:
        type: integer
        default: 5
        minimum: 1
        maximum: 999
    past_incidents_total:
      name: total
      in: query
      required: false
      description: |
        By default the `total` field in the response body is set to `null` to provide the fastest possible response times. Set `total` to `true` for this field to be populated with the total number of Past Incidents.
      schema:
        type: boolean
        default: false
    cursor_limit:
      name: limit
      in: query
      required: false
      description: The minimum of the `limit` parameter used in the request or the maximum request size of the API.
      schema:
        type: integer
    cursor_cursor:
      name: cursor
      in: query
      required: false
      description: |
        Optional parameter used to request the "next" set of results from an API.  The value provided here is most commonly obtained from the `next_cursor` field of the previous request.  When no value is provided, the request starts at the beginning of the result set.
      schema:
        type: string
    early_access_analytics:
      schema:
        type: string
        default: analytics-v2
        enum:
          - analytics-v2
      in: header
      description: |
        This header indicates that this API endpoint is __UNDER CONSTRUCTION__ and may change at any time.  You __MUST__ pass in this header and the above value.  Do not use this endpoint in production, as it may change!
      name: X-EARLY-ACCESS
      required: true
    early_access_status-update-notification-rules:
      name: X-EARLY-ACCESS
      in: header
      description: |
        This header indicates that this API endpoint is __UNDER CONSTRUCTION__ and may change at any time. You __MUST__ pass in this header and the above value. Do not use this endpoint in production, as it may change!
      required: true
      schema:
        type: string
        default: status-update-notification-rules
        enum:
          - status-update-notification-rules
    early_access_bis:
      schema:
        type: string
        default: business-impact-early-access
      in: header
      name: X-EARLY-ACCESS
      description: 'This header indicates that this API endpoint is __UNDER CONSTRUCTION__ and may change at any time. You __MUST__ pass in this header with the value `business-impact-early-access`. Do not use this endpoint in production, as it may change!'
      required: true
    early_access_status_dashboards:
      schema:
        type: string
        default: status-dashboards
      in: header
      name: X-EARLY-ACCESS
      description: 'This header indicates that this API endpoint is __UNDER CONSTRUCTION__ and may change at any time. You __MUST__ pass in this header with the value `status-dashboards`. Do not use this endpoint in production, as it may change!'
      required: true
    webhooks_filter_type:
      name: filter_type
      in: query
      required: false
      description: The type of resource to filter upon.
      schema:
        enum:
          - service
          - team
        type: string
    webhooks_filter_id:
      name: filter_id
      in: query
      required: false
      description: The id of the resource to filter upon.
      schema:
        type: string
    id:
      name: id
      description: The ID of the resource.
      in: path
      required: true
      schema:
        type: string
    ids:
      name: 'ids[]'
      description: The IDs of the resources.
      in: query
      explode: true
      schema:
        type: string
    entity_type:
      name: entity_type
      in: path
      description: Type of entity related with the tag
      required: true
      schema:
        type: string
        enum:
          - users
          - teams
          - escalation_policies
    business_service_id:
      name: business_service_id
      in: path
      description: The business service ID.
      required: true
      schema:
        type: string
    team_id:
      name: team_id
      in: path
      description: The team ID
      required: true
      schema:
        type: string
    team_user_id:
      name: user_id
      in: path
      description: The user ID on the team.
      required: true
      schema:
        type: string
    team_escalation_policy_id:
      name: escalation_policy_id
      in: path
      description: The escalation policy ID on the team.
      required: true
      schema:
        type: string
    escalation_policy_escalation_rule_id:
      name: escalation_rule_id
      in: path
      description: The escalation rule ID on the escalation policy.
      required: true
      schema:
        type: string
    impacts_additional_fields:
      name: 'additional_fields[]'
      in: query
      description: Provides access to additional fields such as highest priority per business service and total impacted count
      explode: true
      schema:
        type: string
        enum:
          - services.highest_impacting_priority
          - total_impacted_count
    include_addon:
      name: 'include[]'
      in: query
      description: Array of additional Models to include in response.
      explode: true
      schema:
        type: string
        enum:
          - services
        uniqueItems: true
    include_escalation_policy:
      name: 'include[]'
      in: query
      description: Array of additional Models to include in response.
      explode: true
      schema:
        type: string
        enum:
          - services
          - teams
          - targets
        uniqueItems: true
    include_log_entry:
      name: 'include[]'
      in: query
      description: Array of additional Models to include in response.
      explode: true
      schema:
        type: string
        enum:
          - incidents
          - services
          - channels
          - teams
        uniqueItems: true
    include_user:
      name: 'include[]'
      in: query
      description: Array of additional Models to include in response.
      explode: true
      schema:
        type: string
        enum:
          - contact_methods
          - notification_rules
          - teams
          - subdomains
        uniqueItems: true
    include_maintenance_window:
      name: 'include[]'
      in: query
      description: Array of additional Models to include in response.
      explode: true
      schema:
        type: string
        enum:
          - teams
          - services
          - users
        uniqueItems: true
    include_teams:
      name: 'include[]'
      in: query
      description: Array of additional Models to include in response.
      explode: true
      schema:
        type: string
        enum:
          - privileges
        uniqueItems: true
    include_teams_members:
      name: 'include[]'
      in: query
      description: Array of additional Models to include in response.
      explode: true
      schema:
        type: string
        enum:
          - users
        uniqueItems: true
    include_triggers:
      name: 'include[]'
      in: query
      description: Array of additional Models to include in response.
      explode: true
      schema:
        type: string
        enum:
          - triggers
        uniqueItems: true
    sort_by_escalation_policy:
      name: sort_by
      in: query
      description: Used to specify the field you wish to sort the results on.
      schema:
        type: string
        enum:
          - name
          - 'name:asc'
          - 'name:desc'
        default: name
    sort_by_service:
      name: sort_by
      in: query
      description: Used to specify the field you wish to sort the results on.
      schema:
        type: string
        enum:
          - name
          - 'name:asc'
          - 'name:desc'
        default: name
    schedule_overflow:
      name: overflow
      in: query
      description: |
        Any on-call schedule entries that pass the date range bounds will be truncated at the bounds, unless the parameter `overflow=true` is passed. This parameter defaults to false.
        For instance, if your schedule is a rotation that changes daily at midnight UTC, and your date range is from `2011-06-01T10:00:00Z` to `2011-06-01T14:00:00Z`:


        - If you don't pass the `overflow=true` parameter, you will get one schedule entry returned with a start of `2011-06-01T10:00:00Z` and end of `2011-06-01T14:00:00Z`.
        - If you do pass the `overflow=true` parameter, you will get one schedule entry returned with a start of `2011-06-01T00:00:00Z` and end of `2011-06-02T00:00:00Z`.
      schema:
        type: boolean
        default: false
    schedule_override_id:
      name: override_id
      in: path
      description: The override ID on the schedule.
      required: true
      schema:
        type: string
    team_ids:
      name: 'team_ids[]'
      in: query
      description: An array of team IDs. Only results related to these teams will be returned. Account must have the `teams` ability to use this parameter.
      explode: true
      schema:
        type: array
        items:
          type: string
        uniqueItems: true
    time_zone:
      name: time_zone
      in: query
      description: Time zone in which dates in the result will be rendered.
      schema:
        type: string
        format: tzinfo
        default: UTC
    service_id:
      name: service_id
      in: path
      description: The service ID
      required: true
      schema:
        type: string
    services:
      name: 'service_ids[]'
      in: query
      description: An array of service IDs. Only results related to these services will be returned.
      explode: true
      schema:
        type: array
        items:
          type: string
    integration_id:
      name: integration_id
      in: path
      description: The integration ID on the service.
      required: true
      schema:
        type: string
    integration_ids:
      name: 'integration_ids[]'
      in: query
      description: An array of integration IDs. Only results related to these integrations will be returned.
      explode: true
      schema:
        type: array
        items:
          type: string
        uniqueItems: true
    log_entry_is_overview:
      name: is_overview
      in: query
      description: 'If `true`, will return a subset of log entries that show only the most important changes to the incident.'
      required: false
      schema:
        type: boolean
        default: false
    since:
      name: since
      in: query
      description: The start of the date range over which you want to search.
      schema:
        type: string
        format: date-time
    until:
      name: until
      in: query
      description: The end of the date range over which you want to search.
      schema:
        type: string
        format: date-time
    url_slug:
      name: url_slug
      in: path
      description: The `url_slug` for a status dashboard
      required: true
      schema:
        type: string
    date_range:
      name: date_range
      in: query
      description: 'When set to all, the since and until parameters and defaults are ignored.'
      schema:
        type: string
        enum:
          - all
    incident_key:
      name: incident_key
      in: query
      description: Incident de-duplication key. Incidents with child alerts do not have an incident key; querying by incident key will return incidents whose alerts have alert_key matching the given incident key.
      schema:
        type: string
    incident_services:
      name: 'service_ids[]'
      in: query
      description: Returns only the incidents associated with the passed service(s). This expects one or more service IDs.
      explode: true
      schema:
        type: array
        items:
          type: string
        uniqueItems: true
    incident_assigned_to_user:
      name: 'user_ids[]'
      in: query
      description: 'Returns only the incidents currently assigned to the passed user(s). This expects one or more user IDs. Note: When using the assigned_to_user filter, you will only receive incidents with statuses of triggered or acknowledged. This is because resolved incidents are not assigned to any user.'
      explode: true
      schema:
        type: array
        items:
          type: string
        uniqueItems: true
    incident_urgencies:
      name: 'urgencies[]'
      in: query
      description: Array of the urgencies of the incidents to be returned. Defaults to all urgencies. Account must have the `urgencies` ability to do this.
      explode: true
      schema:
        type: string
        enum:
          - high
          - low
        uniqueItems: true
    from_header:
      name: From
      in: header
      description: The email address of a valid user associated with the account making the request.
      required: true
      schema:
        type: string
        format: email
    optional_from_header:
      name: From
      in: header
      description: 'The email address of a valid user associated with the account making the request. This is optional, and is only used for change tracking.'
      required: false
      schema:
        type: string
        format: email
    user_contact_method_id:
      name: contact_method_id
      in: path
      description: The contact method ID on the user.
      required: true
      schema:
        type: string
    user_notification_rule_id:
      name: notification_rule_id
      in: path
      description: The notification rule ID on the user.
      required: true
      schema:
        type: string
    user_status_update_notification_rule_id:
      name: status_update_notification_rule_id
      in: path
      description: The status update notification rule ID on the user.
      required: true
      schema:
        type: string
    oncall_handoff_notification_rule_id:
      name: oncall_handoff_notification_rule_id
      in: path
      description: The oncall handoff notification rule ID on the user.
      required: true
      schema:
        type: string
    session_id:
      name: session_id
      in: path
      description: The session ID for the user.
      required: true
      schema:
        type: string
    type:
      name: type
      in: path
      description: The session type for the user session ID.
      required: true
      schema:
        type: string
    alert_key:
      name: alert_key
      in: query
      description: Alert de-duplication key.
      schema:
        type: string
    response_play_id:
      name: response_play_id
      in: path
      description: The response play ID of the response play associated with the request.
      required: true
      schema:
        type: string
    query:
      name: query
      in: query
      description: 'Filters the result, showing only the records whose name matches the query.'
      required: false
      schema:
        type: string
    tag_query:
      name: query
      in: query
      description: 'Filters the result, showing only the tags whose label matches the query.'
      required: false
      schema:
        type: string
    addon_services:
      name: 'service_ids[]'
      in: query
      description: 'Filters the results, showing only Add-ons for the given services'
      explode: true
      schema:
        type: array
        items:
          type: string
        uniqueItems: true
    addon_filter:
      name: filter
      in: query
      description: 'Filters the results, showing only Add-ons of the given type'
      schema:
        type: string
        enum:
          - full_page_addon
          - incident_show_addon
    change_since:
      name: since
      in: query
      description: 'The start of the date range over which you want to search, as a UTC ISO 8601 datetime string. Will return an HTTP 400 for non-UTC datetimes.'
      schema:
        type: string
        format: date-time
        pattern: 'YYYY-MM-DDThh:mm:ssZ'
    change_until:
      name: until
      in: query
      description: 'The end of the date range over which you want to search, as a UTC ISO 8601 datetime string. Will return an HTTP 400 for non-UTC datetimes.'
      schema:
        type: string
        format: date-time
        pattern: 'YYYY-MM-DDThh:mm:ssZ'
    user_ids_escalation_policies:
      name: 'user_ids[]'
      in: query
      description: 'Filters the results, showing only escalation policies on which any of the users is a target.'
      explode: true
      schema:
        type: array
        items:
          type: string
        uniqueItems: true
    extension_object_id:
      name: extension_object_id
      description: The id of the extension object you want to filter by.
      in: query
      schema:
        type: string
    extension_schema_id:
      name: extension_schema_id
      in: query
      description: Filter the extensions by extension vendor id.
      schema:
        type: string
    include_extensions:
      name: 'include[]'
      in: query
      description: Array of additional details to include.
      explode: true
      schema:
        type: string
        enum:
          - extension_objects
          - extension_schemas
        uniqueItems: true
    include_extensions_id:
      name: 'include[]'
      in: query
      description: Array of additional details to include.
      explode: true
      schema:
        type: string
        enum:
          - extension_schemas
          - extension_objects
          - temporarily_disabled
        uniqueItems: true
    include_incident_workflow_children:
      name: 'include[]'
      in: query
      description: Array of additional details to include.
      explode: true
      schema:
        type: string
        enum:
          - steps
          - team
        uniqueItems: true
    statuses_incidents:
      name: 'statuses[]'
      in: query
      description: 'Return only incidents with the given statuses. To query multiple statuses, pass `statuses[]` more than once, for example: `https://api.pagerduty.com/incidents?statuses[]=triggered&statuses[]=acknowledged`. (More status codes may be introduced in the future.)'
      explode: true
      schema:
        type: string
        enum:
          - triggered
          - acknowledged
          - resolved
        uniqueItems: true
    sort_by_incidents:
      name: sort_by
      in: query
      description: 'Used to specify both the field you wish to sort the results on (incident_number/created_at/resolved_at/urgency), as well as the direction (asc/desc) of the results. The sort_by field and direction should be separated by a colon. A maximum of two fields can be included, separated by a comma. Sort direction defaults to ascending. The account must have the `urgencies` ability to sort by the urgency.'
      style: form
      explode: false
      schema:
        type: array
        items:
          type: string
        maxItems: 2
        uniqueItems: true
    include_incidents:
      name: 'include[]'
      in: query
      description: Array of additional details to include.
      explode: true
      schema:
        type: string
        enum:
          - users
          - services
          - first_trigger_log_entries
          - escalation_policies
          - teams
          - assignees
          - acknowledgers
          - priorities
          - conference_bridge
        uniqueItems: true
    include_incident:
      name: 'include[]'
      in: query
      description: Array of additional details to include.
      explode: true
      schema:
        type: string
        enum:
          - field_values
        uniqueItems: true
    since_incidents:
      schema:
        type: string
      in: query
      name: since
      description: The start of the date range over which you want to search. Maximum range is 6 months and default is 1 month.
    until_incidents:
      schema:
        type: string
      in: query
      name: until
      description: The end of the date range over which you want to search. Maximum range is 6 months and default is 1 month.
    statuses_incident_alerts:
      name: 'statuses[]'
      in: query
      description: Return only alerts with the given statuses. (More status codes may be introduced in the future.)
      explode: true
      schema:
        type: string
        enum:
          - triggered
          - resolved
        uniqueItems: true
    sort_by_incident_alerts:
      name: sort_by
      in: query
      description: 'Used to specify both the field you wish to sort the results on (created_at/resolved_at), as well as the direction (asc/desc) of the results. The sort_by field and direction should be separated by a colon. A maximum of two fields can be included, separated by a comma. Sort direction defaults to ascending.'
      style: form
      explode: false
      schema:
        type: string
        enum:
          - created_at
          - resolved_at
          - 'created_at:asc'
          - 'created_at:desc'
          - 'resolved_at:asc'
          - 'resolved_at:desc'
        maxItems: 2
        uniqueItems: true
    include_incident_alerts:
      name: 'include[]'
      in: query
      description: Array of additional details to include.
      explode: true
      schema:
        type: string
        enum:
          - services
          - first_trigger_log_entries
          - incidents
        uniqueItems: true
    alert_id:
      name: alert_id
      in: path
      description: The id of the alert to retrieve.
      required: true
      schema:
        type: string
    statuses_incident_count:
      name: 'statuses[]'
      in: query
      description: 'Count only incidents with the requested statuses. `all` returns all statuses. If `any` is specified, there will be an additional `any` boolean field in the response that is true if there are any incidents matching the criteria in the request. If no statuses are provided, then only the total count of incidents is returned regardless of status. More status codes may be introduced in the future.'
      explode: true
      schema:
        type: string
        enum:
          - triggered
          - acknowledged
          - resolved
          - any
          - all
        uniqueItems: true
    filter_maintenance_windows:
      name: filter
      in: query
      description: Only return maintenance windows in a given state.
      schema:
        type: string
        enum:
          - past
          - future
          - ongoing
          - open
          - all
    since_notifications:
      name: since
      in: query
      description: The start of the date range over which you want to search. The time element is optional.
      required: true
      schema:
        type: string
        format: date-time
    until_notifications:
      name: until
      in: query
      description: The end of the date range over which you want to search. This should be in the same format as since. The size of the date range must be less than 3 months.
      required: true
      schema:
        type: string
        format: date-time
    filter_notifications:
      name: filter
      in: query
      description: Return notification of this type only.
      schema:
        type: string
        enum:
          - sms_notification
          - email_notification
          - phone_notification
          - push_notification
    include_notifications:
      name: 'include[]'
      in: query
      description: Array of additional details to include.
      explode: true
      schema:
        type: string
        enum:
          - users
        uniqueItems: true
    include_oncalls:
      name: 'include[]'
      in: query
      description: Array of additional details to include.
      explode: true
      schema:
        type: string
        enum:
          - escalation_policies
          - users
          - schedules
        uniqueItems: true
    user_ids_oncalls:
      name: 'user_ids[]'
      in: query
      description: 'Filters the results, showing only on-calls for the specified user IDs.'
      explode: true
      schema:
        type: array
        items:
          type: string
        uniqueItems: true
    escalation_policy_ids_oncalls:
      name: 'escalation_policy_ids[]'
      in: query
      description: 'Filters the results, showing only on-calls for the specified escalation policy IDs.'
      explode: true
      schema:
        type: array
        items:
          type: string
        uniqueItems: true
    schedule_ids_oncalls:
      name: 'schedule_ids[]'
      in: query
      description: 'Filters the results, showing only on-calls for the specified schedule IDs. If `null` is provided in the array, it includes permanent on-calls due to direct user escalation targets.'
      explode: true
      schema:
        type: array
        items:
          type: string
        uniqueItems: true
    since_oncalls:
      name: since
      in: query
      description: 'The start of the time range over which you want to search. If an on-call period overlaps with the range, it will be included in the result. Defaults to current time. On-call shifts are limited to 90 days in the future.'
      schema:
        type: string
        format: date-time
    until_oncalls:
      name: until
      in: query
      description: 'The end of the time range over which you want to search. If an on-call period overlaps with the range, it will be included in the result. Defaults to current time. On-call shifts are limited to 90 days in the future, and the `until` time cannot be before the `since` time.'
      schema:
        type: string
        format: date-time
    earliest_oncalls:
      name: earliest
      in: query
      description: 'This will filter on-calls such that only the earliest on-call for each combination of escalation policy, escalation level, and user is returned. This is useful for determining when the "next" on-calls are for a given set of filters.'
      schema:
        type: boolean
    filter_for_manual_run:
      name: filter_for_manual_run
      in: query
      description: 'When this parameter is present, only those Response Plays that can be run manually will be returned.'
      schema:
        type: boolean
    rule_id:
      name: rule_id
      in: path
      description: The id of the Event Rule to retrieve.
      required: true
      schema:
        type: string
    since_schedules:
      name: since
      in: query
      description: The start of the date range over which you want to search.
      required: true
      schema:
        type: string
        format: date-time
    until_schedules:
      name: until
      in: query
      description: The end of the date range over which you want to search.
      required: true
      schema:
        type: string
        format: date-time
    editable_schedules:
      name: editable
      in: query
      description: 'When this parameter is present, only editable overrides will be returned. The result will only include the id of the override if this parameter is present. Only future overrides are editable.'
      schema:
        type: boolean
    overflow_schedules:
      name: overflow
      in: query
      description: 'Any on-call schedule entries that pass the date range bounds will be truncated at the bounds, unless the parameter overflow=true is passed. This parameter defaults to false.'
      schema:
        type: boolean
    include_services:
      name: 'include[]'
      in: query
      description: Array of additional details to include.
      explode: true
      schema:
        type: string
        enum:
          - escalation_policies
          - teams
          - integrations
          - auto_pause_notifications_parameters
        uniqueItems: true
    include_services_id:
      name: 'include[]'
      in: query
      description: Array of additional details to include.
      explode: true
      schema:
        type: string
        enum:
          - escalation_policies
          - teams
          - auto_pause_notifications_parameters
          - integrations
        uniqueItems: true
    include_services_integrations:
      name: 'include[]'
      in: query
      description: Array of additional details to include.
      explode: true
      schema:
        type: string
        enum:
          - services
          - vendors
        uniqueItems: true
    reassignment_team:
      name: reassignment_team
      in: query
      description: |
        Team to reassign unresolved incident to.
        If an unresolved incident exists on both the reassignment team and
        the team being deleted, a duplicate will not be made. If not supplied,
        unresolved incidents will be made account-level.
      required: false
      schema:
        type: string
    include_notification_rules:
      name: 'include[]'
      in: query
      description: Array of additional details to include.
      explode: true
      schema:
        type: string
        enum:
          - contact_methods
        uniqueItems: true
    additional_details:
      name: 'additional_details[]'
      in: query
      description: Array of additional attributes to any of the returned incidents for related incidents.
      explode: true
      schema:
        type: string
        enum:
          - incident
        uniqueItems: true
    include_schedules:
      name: 'include[]'
      in: query
      description: Array of additional details to include.
      explode: true
      schema:
        type: string
        enum:
          - schedule_layers
        uniqueItems: true
    sort_by_event_orchestration:
      name: sort_by
      in: query
      description: Used to specify the field you wish to sort the results on.
      schema:
        type: string
        enum:
          - 'name:asc'
          - 'name:desc'
          - 'routes:asc'
          - 'routes:desc'
          - 'created_at:asc'
          - 'created_at:desc'
        default: 'name:asc'
    event_orchestration_id:
      name: id
      description: The ID of an Event Orchestration.
      in: path
      required: true
      schema:
        type: string
    event_orchestration_integration_id:
      name: integration_id
      description: The ID of an Integration.
      in: path
      required: true
      schema:
        type: string
    urgency:
      name: urgency
      in: query
      description: 'The incident urgency for which the notification rules are applied. If not specified, defaults to `high`.'
      explode: true
      schema:
        type: string
        enum:
          - high
          - low
          - all
        uniqueItems: true
    template_query:
      name: query
      description: Template name or description to search
      in: query
      schema:
        type: string
    template_type:
      name: template_type
      description: Filters templates by type.
      in: query
      schema:
        type: string
        default: status_update
    sort_by_template:
      name: sort_by
      in: query
      description: 'Used to specify both the field you wish to sort the results on (name/created_at), as well as the direction (asc/desc) of the results. The sort_by field and direction should be separated by a colon. Sort direction defaults to ascending.'
      style: form
      explode: false
      schema:
        type: string
        enum:
          - name
          - 'name:asc'
          - 'name:desc'
          - created_at
          - 'created_at:asc'
          - 'created_at:desc'
        default: 'created_at:asc'
    schedule_since:
      name: since
      in: query
      description: The start of the date range over which you want to show schedule entries. Defaults to 2 weeks before until if an until is given.
      schema:
        type: string
        format: date-time
    schedule_until:
      name: until
      in: query
      description: The end of the date range over which you want to show schedule entries. Defaults to 2 weeks after since if a since is given.
      schema:
        type: string
        format: date-time
    paused_incident_reports_service_id:
      name: service_id
      in: query
      description: Specifies a filter to limit the scope of reporting to a particular service
      schema:
        type: string
        example: P123456
    paused_incident_reports_suspended_by:
      name: suspended_by
      in: query
      description: Specifies a filter to scope the response to either alerts suspended by Auto Pause or Event Rules.
      schema:
        enum:
          - auto_pause
          - rules
    triggers_filter_workflow_id:
      name: workflow_id
      description: 'If provided, only show triggers configured to start the given workflow. Useful for listing all services associated with the given workflow'
      in: query
      schema:
        type: string
        example: P4RG7YW
    triggers_filter_incident_id:
      name: incident_id
      description: 'If provided, only show triggers configured on the service of the given incident. Useful for finding manual triggers that are configured on the service for a specific incident. Cannot be specified if `service_id` is provided.'
      in: query
      schema:
        type: string
        example: Q2LAR4ADCXC8IB
    triggers_filter_service_id:
      name: service_id
      description: 'If provided, only show triggers configured for incidents in the given service. Useful for listing all workflows associated with the given service. Cannot be specified if `incident_id` is provided.'
      in: query
      schema:
        type: string
        example: P4RG7YW
    triggers_filter_trigger_type:
      name: trigger_type
      description: 'If provided, only show triggers of the given type. For example manual to search for manual triggers'
      in: query
      schema:
        type: string
        enum:
          - manual
          - conditional
    triggers_path_trigger_id:
      name: trigger_id
      description: Identifier for the Trigger
      required: true
      in: path
      schema:
        type: string
    triggers_path_service_id:
      name: service_id
      description: Identifier for the Service
      required: true
      in: path
      schema:
        type: string
    triggers_sort_by:
      name: sort_by
      description: 'If provided, returns triggers sorted by the specified property.'
      in: query
      schema:
        type: string
        enum:
          - workflow_id
          - workflow_id asc
          - workflow_id desc
          - workflow_name
          - workflow_name asc
          - workflow_name desc
    actions_filter_keyword:
      name: keyword
      description: 'If provided, only show actions tagged with the specified keyword'
      in: query
      schema:
        type: string
        example: slack
    include_customfields_field:
      name: 'include[]'
      description: Array of additional details to include.
      in: query
      explode: true
      schema:
        type: string
        enum:
          - field_options
        uniqueItems: true
    include_customfields_schema:
      name: 'include[]'
      description: Array of additional details to include. Including `field_configurations` will also include full field details.
      in: query
      explode: true
      schema:
        type: string
        enum:
          - field_configurations
        uniqueItems: true
    include_customfields_field_configuration:
      name: 'include[]'
      description: Array of additional details to include.
      in: query
      explode: true
      schema:
        type: string
        enum:
          - fields
        uniqueItems: true
    include_customfields_incident_schema:
      name: 'include[]'
      description: Array of additional details to include. Including `field_options` will also include field options.
      in: query
      explode: true
      schema:
        type: string
        enum:
          - field_options
        uniqueItems: true
    field_id:
      name: field_id
      description: The ID of the field.
      in: path
      required: true
      schema:
        type: string
    field_option_id:
      name: field_option_id
      description: The ID of the field option.
      in: path
      required: true
      schema:
        type: string
    schema_id:
      name: schema_id
      description: The ID of the schema.
      in: path
      required: true
      schema:
        type: string
    field_configuration_id:
      name: field_configuration_id
      description: The ID of the field configuration.
      in: path
      required: true
      schema:
        type: string
    customfields_query_schema_assignments_filter:
      name: filter
      description: One of service_id or schema_id is required.
      in: query
      required: true
      explode: true
      schema:
        type: object
        properties:
          service_id:
            type: string
          schema_id:
            type: string
        minProperties: 1
        maxProperties: 1
    early_access_customfields:
      name: X-EARLY-ACCESS
      in: header
      description: |
        This header indicates that this API endpoint is __UNDER CONSTRUCTION__ and may change at any time. You __MUST__ pass in this header and the above value. Do not use this endpoint in production, as it may change!
      required: true
      schema:
        type: string
        default: flex-service-early-access
        enum:
          - flex-service-early-access
  responses:
    Unauthorized:
      description: |
        Caller did not supply credentials or did not provide the correct credentials.
        If you are using an API key, it may be invalid or your Authorization header may be malformed.
      content:
        application/json:
          schema:
            $ref: '#/components/responses/Conflict/content/application~1json/schema'
    Forbidden:
      description: |
        Caller is not authorized to view the requested resource.
        While your authentication is valid, the authenticated user or token does not have permission to perform this action.
      content:
        application/json:
          schema:
            $ref: '#/components/responses/Conflict/content/application~1json/schema'
    NotFound:
      description: The requested resource was not found.
      content:
        application/json:
          schema:
            $ref: '#/components/responses/Conflict/content/application~1json/schema'
    Conflict:
      description: The request conflicts with the current state of the server.
      content:
        application/json:
          schema:
            type: object
            properties:
              error:
                type: object
                properties:
                  code:
                    type: integer
                    readOnly: true
                  message:
                    type: string
                    readOnly: true
                    description: Error message string
                  errors:
                    type: array
                    readOnly: true
                    items:
                      type: string
                      readOnly: true
                      description: Human-readable error details
                example:
                  message: Not Found
                  code: 2100
    ArgumentError:
      description: Caller provided invalid arguments. Please review the response for error details. Retrying with the same arguments will *not* work.
      content:
        application/json:
          schema:
            $ref: '#/components/responses/Conflict/content/application~1json/schema'
    NotAllowed:
      description: 'The request was received and recognized by the server, but its HTTP method was rejected for the requested resource.'
      content:
        application/json:
          schema:
            $ref: '#/components/responses/Conflict/content/application~1json/schema'
    OrchestrationPathRouterTypeResponse:
      description: The Orchestration Router object.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/OrchestrationRouter'
          examples:
            response:
              summary: Example Response
              value:
                orchestration_path:
                  type: router
                  parent:
                    id: b02e973d-9620-4e0a-9edc-00fedf7d4694
                    self: 'https://api.pagerduty.com/event_orchestrations/b02e973d-9620-4e0a-9edc-00fedf7d4694'
                    type: event_orchestration_reference
                  self: 'https://api.pagerduty.com/event_orchestrations/b02e973d-9620-4e0a-9edc-00fedf7d4694/router'
                  sets:
                    - id: start
                      rules:
                        - label: Events relating to our relational database
                          id: 1c26698b
                          conditions:
                            - expression: event.summary matches part 'database'
                            - expression: 'event.source matches regex ''db[0-9]+-server'''
                          actions:
                            route_to: PB31XBA
                        - label: Events relating to our www app server
                          id: d9801904
                          conditions:
                            - expression: event.summary matches part 'www'
                          actions:
                            route_to: PC2D9ML
                  catch_all:
                    actions:
                      route_to: unrouted
                  created_at: '2021-11-18T16:42:01Z'
                  created_by:
                    id: P8B9WR8
                    self: 'https://api.pagerduty.com/users/P8B9WR8'
                    type: user_reference
                  updated_at: '2021-11-18T16:42:01Z'
                  updated_by:
                    id: P8B9WR8
                    self: 'https://api.pagerduty.com/users/P8B9WR8'
                    type: user_reference
                  version: 9co0z4b152oICsoV91_PW2.ww8ip_xap
    OrchestrationPathUnroutedTypeResponse:
      description: The Unrouted Orchestration object.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/OrchestrationUnrouted'
          examples:
            response:
              summary: Example Response
              value:
                orchestration_path:
                  type: unrouted
                  parent:
                    id: b02e973d-9620-4e0a-9edc-00fedf7d4694
                    self: 'https://api.pagerduty.com/event_orchestrations/b02e973d-9620-4e0a-9edc-00fedf7d4694'
                    type: event_orchestration_reference
                  self: 'https://api.pagerduty.com/event_orchestrations/b02e973d-9620-4e0a-9edc-00fedf7d4694/router'
                  sets:
                    - id: start
                      rules:
                        - label: Update the summary of un-matched Critical alerts so they're easier to spot
                          id: 38880ffb
                          conditions:
                            - expression: event.severity matches 'critical'
                          actions:
                            extractions:
                              - target: event.summary
                                template: '[Critical Unrouted] {{event.summary}}'
                        - label: Reduce the severity of all other unrouted events
                          id: 3896801e
                          conditions: []
                          actions:
                            severity: info
                  catch_all:
                    actions:
                      suppress: true
                  created_at: '2021-11-18T16:42:01Z'
                  created_by:
                    id: P8B9WR8
                    self: 'https://api.pagerduty.com/users/P8B9WR8'
                    type: user_reference
                  updated_at: '2021-11-18T16:42:01Z'
                  updated_by:
                    id: P8B9WR8
                    self: 'https://api.pagerduty.com/users/P8B9WR8'
                    type: user_reference
                  version: aZO.EEf9zWb9Vg0NYq.Uqad1hOC2Maod
    OrchestrationPathServiceTypeResponse:
      description: The Service Orchestration object.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ServiceOrchestration'
          examples:
            response:
              summary: Example Response
              value:
                orchestration_path:
                  type: service
                  parent:
                    id: PC2D9ML
                    self: 'https://api.pagerduty.com/service/PC2D9ML'
                    type: service_reference
                  self: 'https://api.pagerduty.com/event_orchestrations/service/PC2D9ML'
                  sets:
                    - id: start
                      rules:
                        - label: Always apply some consistent event transformations to every event sent to this Service
                          id: c91f72f3
                          conditions: []
                          actions:
                            variables:
                              - name: hostname
                                path: event.component
                                value: 'hostname: (.*)'
                                type: regex
                            extractions:
                              - template: '{{variables.hostname}}'
                                target: event.custom_details.hostname
                              - source: event.source
                                regex: www (.*) service
                                target: event.source
                            pagerduty_automation_actions:
                              - action_id: 01CSB5SMOKCKVRI5GN0LJG7SMB
                            route_to: step-two
                    - id: step-two
                      rules:
                        - label: All critical alerts should be treated as P1 incidents
                          id: 7c54529d
                          conditions:
                            - expression: event.severity matches 'critical'
                          actions:
                            annotate: 'Please use our P1 runbook: https://docs.test/p1-runbook'
                            priority: P0IN2KQ
                            suppress: false
                        - label: If there's something wrong on the canary let the team know about it in our deployments Slack channel
                          id: 1f6d9a33
                          conditions:
                            - expression: event.custom_details.hostname matches part 'canary'
                          actions:
                            automation_actions:
                              - name: Canary Slack Notification
                                url: 'https://our-slack-listerner.test/send-notification'
                                auto_send: true
                                headers:
                                  - key: X-Notification-Source
                                    value: PagerDuty Incident Webhook
                                parameters:
                                  - key: channel
                                    value: '#my-team-channel'
                                  - key: message
                                    value: Something is wrong with the canary deployment
                        - label: Never bother the on-call for info-level events outside of work hours
                          id: cd770384
                          conditions:
                            - expression: 'event.severity matches ''info'' and not (now in Mon,Tue,Wed,Thu,Fri 09:00:00 to 17:00:00 America/Los_Angeles)'
                          actions:
                            suppress: true
                  catch_all:
                    actions:
                      suppress: true
                  created_at: '2021-11-18T16:42:01Z'
                  created_by:
                    id: P8B9WR8
                    self: 'https://api.pagerduty.com/users/P8B9WR8'
                    type: user_reference
                  updated_at: '2021-11-18T16:42:01Z'
                  updated_by:
                    id: P8B9WR8
                    self: 'https://api.pagerduty.com/users/P8B9WR8'
                    type: user_reference
                  version: rn1Mja13T1HBdmPChqFilSQXUW2fWXM_
    OrchestrationPathServiceActiveResponse:
      description: An object with the active status.
      content:
        application/json:
          schema:
            type: object
            properties:
              active:
                type: boolean
                description: The status of the service orchestration.
          examples:
            response:
              summary: Example Response
              value:
                active: false
  securitySchemes:
    api_key:
      type: apiKey
      name: Authorization
      in: header
      description: The API Key with format `Token token=<API_KEY>`
  examples:
    AuditRecordResponse:
      summary: Response Example
      value:
        records:
          - id: PDRECORDID1_TEAM_CREATED
            execution_time: '2020-06-04T15:30:16.272Z'
            execution_context:
              request_id: 111lDEOIH-534-4ljhLHJjh111
              remote_address: 201.19.20.19
            actors:
              - id: PDUSER
                summary: John Snow
                type: user_reference
            method:
              type: api_token
              truncated_token: 3usr
            root_resource:
              id: PXASDFE
              type: team_reference
              summary: my DevOps team
            action: create
            details:
              resource:
                id: PXASDFE
                type: team_reference
                summary: my DevOps team
              fields:
                - name: teamName
                  value: DevOps team
          - id: PDRECORDID2_USER_REMOVED_FROM_TEAM
            execution_time: '2020-06-04T15:30:16.272Z'
            execution_context:
              request_id: 222lDEOIH-534-4ljhLHJjh222
              remote_address: 201.19.20.19
            method:
              type: api_token
              truncated_token: 2adm
            root_resource:
              id: PRY9M8B
              type: team_reference
              summary: DevOps
            action: update
            details:
              resource:
                id: PRY9M8B
                type: team_reference
                summary: DevOps
              references:
                - name: members
                  removed:
                    - id: PRY9M8B
                      type: user_reference
                      summary: John Doe
          - id: PDRECORDID5_USERS_TEAM_ROLE_UPDATED
            execution_time: '2020-06-04T15:30:16.272Z'
            execution_context:
              request_id: 222lDEOIH-534-4ljhLHJjh222
              remote_address: 201.19.20.19
            method:
              type: api_token
              truncated_token: 2adm
            root_resource:
              id: PRY9M8B
              type: team_reference
              summary: DevOps
            action: update
            details:
              resource:
                id: PDUSER
                type: user_reference
                summary: John Snow
              fields:
                - name: team_role
                  before_value: observer
                  value: manager
          - id: PDRECORDID3_USERS_NAME_AND_EMAIL_UPDATED
            execution_time: '2020-06-04T15:30:16.272Z'
            execution_context:
              request_id: 222lDEOIH-534-4ljhLHJjh222
              remote_address: 201.19.20.19
            actors:
              - id: PDUSER
                summary: John Snow
                type: user_reference
            method:
              type: identity_provider
            root_resource:
              id: PDUSER
              type: user_reference
              summary: John Snow
            action: update
            details:
              resource:
                id: PDUSER
                type: user_reference
                summary: John Snow
              fields:
                - name: name
                  before_value: Bob Doe
                  value: Jon Snow
                - name: email
                  before_value: bob.doe@domain.com
                  value: john.snow@domain.com
          - id: PDRECORDID4_UPDATED_USERS_NOTIFICATION_RULE
            execution_time: '2020-06-04T15:30:16.272Z'
            execution_context:
              request_id: 222lDEOIH-534-4ljhLHJjh222
              remote_address: 201.19.20.19
            actors:
              - id: PDUSER
                summary: John Snow
                type: user_reference
            method:
              type: api_token
              truncated_token: 2adm
            root_resource:
              id: PDUSER
              type: user_reference
              summary: John Snow
            action: update
            details:
              resource:
                id: PXOGWUS
                type: assignment_notification_rule_reference
                summary: '0 minutes: channel P1IAAPZ'
              fields:
                - name: start_delay_in_minutes
                  before_value: '0'
                  value: '2'
              references:
                - name: contact_method
                  removed:
                    - id: POE6L88
                      type: push_notification_contact_method_reference
                      summary: Pixel 3
                  added:
                    - id: P4GTUMK
                      type: sms_contact_method_reference
                      summary: Mobile
        next_cursor: null
        limit: 10
    AuditRecordEscalationPolicyResponse:
      summary: Response Example
      value:
        records:
          - id: PD_ASSIGN_TEAM_TO_ESCALATION_POLICY
            action: update
            actors:
              - id: PDUSER
                summary: John Snow
                type: user_reference
                self: 'https://api.pagerduty.com/users/PD_USER123'
                html_url: 'https://mydomain.pagerduty.com/users/PD_USER123'
            details:
              references:
                - added:
                    - id: PD_TEAM123
                      summary: Devops
                      type: team_reference
                      self: 'https://api.pagerduty.com/teams/PD_TEAM123'
                      html_url: 'https://mydomain.pagerduty.com/teams/PD_TEAM123'
                  name: teams
              resource:
                id: PD_ESCALATION_ID
                summary: DevOps Escalation
                type: escalation_policy_reference
                self: 'https://api.pagerduty.com/escalation_policies/PD_ESCALATION_ID'
                html_url: 'https://mydomain.pagerduty.com/escalation_policies/PD_ESCALATION_ID'
            execution_context:
              request_id: 0cc413fb-8e7d-4414-b4bc-b7578bf3ba77
            execution_time: '2021-01-05T16:33:52.026Z'
            method:
              type: browser
            root_resource:
              id: PD_ESCALATION_ID
              summary: DevOps Escalation
              type: escalation_policy_reference
              self: 'https://api.pagerduty.com/escalation_policies/PD_ESCALATION_ID'
              html_url: 'https://mydomain.pagerduty.com/escalation_policies/PD_ESCALATION_ID'
          - id: PD_CREATE_ESCALATION_POLICY
            action: create
            actors:
              - id: PDUSER
                summary: John Snow
                type: user_reference
                self: 'https://api.pagerduty.com/users/PD_USER123'
                html_url: 'https://mydomain.pagerduty.com/users/PD_USER123'
            details:
              fields:
                - name: name
                  value: DevOps Escalation
                - name: description
                  value: Escalation Policy for devops
                - name: num_loops
                  value: '1'
              resource:
                id: PD_ESCALATION_ID
                summary: DevOps Escalation
                type: escalation_policy_reference
                self: 'https://api.pagerduty.com/escalation_policies/PD_ESCALATION_ID'
                html_url: 'https://mydomain.pagerduty.com/escalation_policies/PD_ESCALATION_ID'
            execution_context:
              request_id: 0cc413fb-8e7d-4414-b4bc-b7578bf3ba77
            execution_time: '2021-01-05T16:33:51.951Z'
            method:
              type: browser
            root_resource:
              id: PD_ESCALATION_ID
              summary: DevOps Escalation
              type: escalation_policy_reference
              self: 'https://api.pagerduty.com/escalation_policies/PD_ESCALATION_ID'
              html_url: 'https://mydomain.pagerduty.com/escalation_policies/PD_ESCALATION_ID'
        limit: 10
        next_cursor: null
    AuditRecordScheduleResponse:
      summary: Response Example
      value:
        records:
          - id: PD_ASSIGN_TEAM_TO_SCHEDULE
            action: update
            actors:
              - id: PDUSER
                summary: John Snow
                type: user_reference
                self: 'https://api.pagerduty.com/users/PD_USER123'
                html_url: 'https://mydomain.pagerduty.com/users/PD_USER123'
            details:
              references:
                - added:
                    - id: PD_TEAM123
                      summary: Devops
                      type: team_reference
                      self: 'https://api.pagerduty.com/teams/PD_TEAM123'
                      html_url: 'https://mydomain.pagerduty.com/teams/PD_TEAM123'
                  name: teams
              resource:
                id: PD_SCHEDULE_ID
                summary: DevOps Schedule
                type: schedule_reference
                self: 'https://api.pagerduty.com/schedules/PD_SCHEDULE_ID'
                html_url: 'https://mydomain.pagerduty.com/schedules/PD_SCHEDULE_ID'
            execution_context:
              request_id: 13a1c0c3-545c-4ebb-4115-662fff9d8ad
            execution_time: '2021-01-05T16:25:41.324Z'
            method:
              type: browser
            root_resource:
              id: PD_SCHEDULE_ID
              summary: DevOps Schedule
              type: schedule_reference
              self: 'https://api.pagerduty.com/schedules/PD_SCHEDULE_ID'
              html_url: 'https://mydomain.pagerduty.com/schedules/PD_SCHEDULE_ID'
          - id: PD_CREATE_SCHEDULE
            action: create
            actors:
              - id: PDUSER
                summary: John Snow
                type: user_reference
                self: 'https://api.pagerduty.com/users/PD_USER123'
                html_url: 'https://mydomain.pagerduty.com/users/PD_USER123'
            details:
              fields:
                - name: name
                  value: DevOps Schedule
                - name: description
                  value: Our DevOps Team Schedule
                - name: time_zone
                  value: America/New_York
              resource:
                id: PD_SCHEDULE_ID
                summary: DevOps Schedule
                type: schedule_reference
                self: 'https://api.pagerduty.com/schedules/PD_SCHEDULE_ID'
                html_url: 'https://mydomain.pagerduty.com/schedules/PD_SCHEDULE_ID'
            execution_context:
              request_id: 13a1c0c3-545c-4ebb-4115-662fff9d8ad
            execution_time: '2021-01-05T16:25:41.315Z'
            method:
              type: browser
            root_resource:
              id: PD_SCHEDULE_ID
              summary: DevOps Schedule
              type: schedule_reference
              self: 'https://api.pagerduty.com/schedules/PD_SCHEDULE_ID'
              html_url: 'https://mydomain.pagerduty.com/schedules/PD_SCHEDULE_ID'
        limit: 10
        next_cursor: null
    AuditRecordServiceResponse:
      summary: Response Example
      value:
        records:
          - id: PDRECORDID1_SERVICE_CREATED
            execution_time: '2020-06-04T15:30:16.272Z'
            execution_context:
              request_id: 111lDEOIH-534-4ljhLHJjh111
              remote_address: 201.19.20.19
            actors:
              - id: PDUSER
                summary: John Snow
                type: user_reference
            method:
              type: api_token
              truncated_token: 3usr
            root_resource:
              id: PN2YA40
              type: service_reference
              summary: Documentation Hub
            action: create
            details:
              resource:
                id: PD_SERVICE_ID
                type: service_reference
                summary: Documentation Hub
              fields:
                - name: name
                  value: Documentation Hub
                - name: description
                  value: Centralized documentation
                - name: incident_severity
                  value: always_high
                - name: alert_creation
                  value: create_alerts_and_incidents
                - name: auto_resolve_timeout
                  value: ''
                - name: acknowledgement_timeout
                  value: ''
                - name: alert_grouping
                  value: null
                - name: alert_grouping_timeout
                  value: ''
              references:
                - name: escalation_policy
                  added:
                    - id: PD_SERVICE_ID
                      summary: Default
                      type: escalation_policy_reference
        next_cursor: null
        limit: 10
    AuditRecordTeamResponse:
      summary: Response Example
      value:
        records:
          - id: PDRECORD_USER_ROLE_ON_TEAM
            execution_time: '2020-06-04T15:30:16.272Z'
            execution_context:
              request_id: 111lDEOIH-534-4ljhLHJjh111
              remote_address: 201.19.20.19
            actors:
              - id: PDUSER
                summary: John Snow
                type: user_reference
                self: 'https://api.pagerduty.com/users/PD_USER123'
                html_url: 'https://mydomain.pagerduty.com/users/PD_USER123'
            method:
              type: browser
            root_resource:
              id: PD_TEAM123
              type: team_reference
              summary: my DevOps team
              self: 'https://api.pagerduty.com/teams/PD_TEAM123'
              html_url: 'https://mydomain.pagerduty.com/teams/PD_TEAM123'
            action: update
            details:
              resource:
                id: PD_ADMIN_USER123
                type: user_reference
                summary: AA Admin User
                self: 'https://api.pagerduty.com/users/PD_ADMIN_USER123'
                html_url: 'https://mydomain.pagerduty.com/users/PD_ADMIN_USER123'
              fields:
                - name: members.role
                  value: manager
          - id: PDRECORD_USER_ADDED_TO_TEAM
            execution_time: '2020-06-04T15:30:16.272Z'
            execution_context:
              request_id: 111lDEOIH-534-4ljhLHJjh111
              remote_address: 201.19.20.19
            actors:
              - id: PDUSER
                summary: John Snow
                type: user_reference
                self: 'https://api.pagerduty.com/users/PD_USER123'
                html_url: 'https://mydomain.pagerduty.com/users/PD_USER123'
            method:
              type: browser
            root_resource:
              id: PD_TEAM123
              type: team_reference
              summary: DevOps
            action: update
            details:
              resource:
                id: PD_TEAM123
                type: team_reference
                summary: DevOps
              references:
                - name: members
                  added:
                    - id: PD_ADMIN_USER123
                      type: user_reference
                      summary: AA Admin User
                      self: 'https://api.pagerduty.com/users/PD_ADMIN_USER123'
                      html_url: 'https://mydomain.pagerduty.com/users/PD_ADMIN_USER123'
          - id: PDRECORD_TEAM_CREATED
            execution_time: '2020-06-04T15:25:04.113Z'
            execution_context:
              request_id: 222lDEOIH-534-4ljhLHJjh222
              remote_address: 201.19.20.19
            actors:
              - id: PDUSER
                summary: John Snow
                type: user_reference
                self: 'https://api.pagerduty.com/users/PD_USER123'
                html_url: 'https://mydomain.pagerduty.com/users/PD_USER123'
            method:
              type: browser
            root_resource:
              id: PD_TEAM123
              type: team_reference
              summary: DevOps
              self: 'https://api.pagerduty.com/teams/PD_TEAM123'
              html_url: 'https://mydomain.pagerduty.com/teams/PD_TEAM123'
            action: create
            details:
              resource:
                id: PD_TEAM123
                type: team_reference
                summary: DevOps
                self: 'https://api.pagerduty.com/teams/PD_TEAM123'
                html_url: 'https://mydomain.pagerduty.com/teams/PD_TEAM123'
              fields:
                - name: name
                  value: DevOps
                - name: description
                  value: MyDevOps Team
                - name: default_role
                  value: manager
        next_cursor: null
        limit: 10
    AuditRecordUserResponse:
      summary: Response Example
      value:
        records:
          - id: PD_ADD_HIGH_URGENCY_NOTIFICATION
            action: update
            actors:
              - id: PDUSER
                summary: John Snow
                type: user_reference
                self: 'https://api.pagerduty.com/users/PD_USER123'
                html_url: 'https://mydomain.pagerduty.com/users/PD_USER123'
            details:
              references:
                - added:
                    - id: PD_NOTIFICATION_RULE_HIGH
                      summary: 'High Urgency (Email: Default)'
                      type: assignment_notification_rule_reference
                  name: notification_rules
              resource:
                id: PD_USER_999
                summary: Test User
                type: user_reference
                self: 'https://api.pagerduty.com/users/PD_USER_999'
                html_url: 'https://mydomain.pagerduty.com/users/PD_USER_999'
            execution_context:
              request_id: a68929b2-d0f4-4def-b1d2-6bb744c44e3d
            execution_time: '2021-01-05T15:17:32.343Z'
            method:
              type: browser
            root_resource:
              id: PD_USER_999
              summary: Test User
              type: user_reference
              self: 'https://api.pagerduty.com/users/PD_USER_999'
              html_url: 'https://mydomain.pagerduty.com/users/PD_USER_999'
          - id: PD_ADD_HIGH_URGENCY_EMAIL_CONTACT
            action: update
            actors:
              - id: PDUSER
                summary: John Snow
                type: user_reference
                self: 'https://api.pagerduty.com/users/PD_USER123'
                html_url: 'https://mydomain.pagerduty.com/users/PD_USER123'
            details:
              fields:
                - name: start_delay_in_minutes
                  value: '0'
                - name: urgency
                  value: high
              references:
                - added:
                    - id: PD_CONTACT_METHOD
                      summary: Default
                      type: email_contact_method_reference
                  name: contact_method
              resource:
                id: PD_NOTIFICATION_RULE_HIGH
                summary: 'High Urgency (Email: Default)'
                type: assignment_notification_rule_reference
            execution_context:
              request_id: a68929b2-d0f4-4def-b1d2-6bb744c44e3d
            execution_time: '2021-01-05T15:17:32.343Z'
            method:
              type: browser
            root_resource:
              id: PD_USER_999
              summary: Test User
              type: user_reference
              self: 'https://api.pagerduty.com/users/PD_USER_999'
              html_url: 'https://mydomain.pagerduty.com/users/PD_USER_999'
          - id: PD_ADD_LOW_URGENCY_EMAIL_RULE
            action: update
            actors:
              - id: PDUSER
                summary: John Snow
                type: user_reference
                self: 'https://api.pagerduty.com/users/PD_USER123'
                html_url: 'https://mydomain.pagerduty.com/users/PD_USER123'
            details:
              fields:
                - name: start_delay_in_minutes
                  value: '0'
                - name: urgency
                  value: low
              references:
                - added:
                    - id: PD_CONTACT_METHOD
                      summary: Default
                      type: email_contact_method_reference
                  name: contact_method
              resource:
                id: PD_NOTIFICATION_RULE_LOW
                summary: 'Low Urgency (Email: Default)'
                type: assignment_notification_rule_reference
            execution_context:
              request_id: a68929b2-d0f4-4def-b1d2-6bb744c44e3d
            execution_time: '2021-01-05T15:17:32.335Z'
            method:
              type: browser
            root_resource:
              id: PD_USER_999
              summary: Test User
              type: user_reference
              self: 'https://api.pagerduty.com/users/PD_USER_999'
              html_url: 'https://mydomain.pagerduty.com/users/PD_USER_999'
          - id: PD_ADD_LOW_URGENCY_EMAIL_CONTACT
            action: update
            actors:
              - id: PDUSER
                summary: John Snow
                type: user_reference
                self: 'https://api.pagerduty.com/users/PD_USER123'
                html_url: 'https://mydomain.pagerduty.com/users/PD_USER123'
            details:
              references:
                - added:
                    - id: PD_NOTIFICATION_RULE_LOW
                      summary: 'Low Urgency (Email: Default)'
                      type: assignment_notification_rule_reference
                  name: notification_rules
              resource:
                id: PD_USER_999
                summary: Test User
                type: user_reference
                self: 'https://api.pagerduty.com/users/PD_USER_999'
                html_url: 'https://mydomain.pagerduty.com/users/PD_USER_999'
            execution_context:
              request_id: a68929b2-d0f4-4def-b1d2-6bb744c44e3d
            execution_time: '2021-01-05T15:17:32.335Z'
            method:
              type: browser
            root_resource:
              id: PD_USER_999
              summary: Test User
              type: user_reference
              self: 'https://api.pagerduty.com/users/PD_USER_999'
              html_url: 'https://mydomain.pagerduty.com/users/PD_USER_999'
          - id: PD_EMAIL_CONTACT_FOR_USER
            action: update
            actors:
              - id: PDUSER
                summary: John Snow
                type: user_reference
                self: 'https://api.pagerduty.com/users/PD_USER123'
                html_url: 'https://mydomain.pagerduty.com/users/PD_USER123'
            details:
              fields:
                - name: label
                  value: Default
                - name: type
                  value: email_contact_method
                - name: address
                  value: testuser@testabc123.com
              resource:
                id: PD_CONTACT_METHOD
                summary: Default
                type: email_contact_method_reference
            execution_context:
              request_id: a68929b2-d0f4-4def-b1d2-6bb744c44e3d
            execution_time: '2021-01-05T15:17:32.327Z'
            method:
              type: browser
            root_resource:
              id: PD_USER_999
              summary: Test User
              type: user_reference
              self: 'https://api.pagerduty.com/users/PD_USER_999'
              html_url: 'https://mydomain.pagerduty.com/users/PD_USER_999'
          - id: PD_ADD_EMAIL_CONTACT_TO_USER
            action: update
            actors:
              - id: PDUSER
                summary: John Snow
                type: user_reference
                self: 'https://api.pagerduty.com/users/PD_USER123'
                html_url: 'https://mydomain.pagerduty.com/users/PD_USER123'
            details:
              references:
                - added:
                    - id: PD_CONTACT_METHOD
                      summary: Default
                      type: email_contact_method_reference
                  name: contact_methods
              resource:
                id: PD_USER_999
                summary: Test User
                type: user_reference
                self: 'https://api.pagerduty.com/users/PD_USER_999'
                html_url: 'https://mydomain.pagerduty.com/users/PD_USER_999'
            execution_context:
              request_id: a68929b2-d0f4-4def-b1d2-6bb744c44e3d
            execution_time: '2021-01-05T15:17:32.327Z'
            method:
              type: browser
            root_resource:
              id: PD_USER_999
              summary: Test User
              type: user_reference
              self: 'https://api.pagerduty.com/users/PD_USER_999'
              html_url: 'https://mydomain.pagerduty.com/users/PD_USER_999'
          - id: PD_CREATE_USER
            action: create
            actors:
              - id: PDUSER
                summary: John Snow
                type: user_reference
                self: 'https://api.pagerduty.com/users/PD_USER123'
                html_url: 'https://mydomain.pagerduty.com/users/PD_USER123'
            details:
              fields:
                - name: name
                  value: Test User
                - name: role
                  value: user
                - name: email
                  value: testuser@testabc123.com
                - name: time_zone
                  value: America/New_York
                - name: description
                  value: null
                - name: job_title
                  value: null
                - name: color
                  value: brown
              resource:
                id: PD_USER_999
                summary: Test User
                type: user_reference
                self: 'https://api.pagerduty.com/users/PD_USER_999'
                html_url: 'https://mydomain.pagerduty.com/users/PD_USER_999'
            execution_context:
              request_id: a68929b2-d0f4-4def-b1d2-6bb744c44e3d
            execution_time: '2021-01-05T15:17:31.708Z'
            method:
              type: browser
            root_resource:
              id: PD_USER_999
              summary: Test User
              type: user_reference
              self: 'https://api.pagerduty.com/users/PD_USER_999'
              html_url: 'https://mydomain.pagerduty.com/users/PD_USER_999'
        limit: 10
        next_cursor: null
    OrchestrationPathGlobalTypeResponse:
      summary: Example Response
      value:
        orchestration_path:
          type: global
          parent:
            id: b02e973d-9620-4e0a-9edc-00fedf7d4694
            self: 'https://api.pagerduty.com/event_orchestrations/b02e973d-9620-4e0a-9edc-00fedf7d4694'
            type: event_orchestration_reference
          self: 'https://api.pagerduty.com/event_orchestrations/b02e973d-9620-4e0a-9edc-00fedf7d4694/global'
          sets:
            - id: start
              rules:
                - label: Always apply some consistent event transformations to all events
                  id: c91f72f3
                  conditions: []
                  actions:
                    variables:
                      - name: hostname
                        path: event.component
                        value: 'hostname: (.*)'
                        type: regex
                    extractions:
                      - template: '{{variables.hostname}}'
                        target: event.custom_details.hostname
                      - source: event.source
                        regex: www (.*) service
                        target: event.source
                    route_to: step-two
            - id: step-two
              rules:
                - label: All critical alerts should be treated as P1 incidents
                  id: 7c54529d
                  conditions:
                    - expression: event.severity matches 'critical'
                  actions:
                    priority: P0IN2KQ
                    suppress: false
                - label: Drop all events from the very-noisy monitoring tool
                  id: 1f6d9a33
                  conditions:
                    - expression: event.source matches part 'very-noisy'
                  actions:
                    drop_event: true
                - label: Never bother the on-call for info-level events outside of work hours
                  id: cd770384
                  conditions:
                    - expression: 'event.severity matches ''info'' and not (now in Mon,Tue,Wed,Thu,Fri 09:00:00 to 17:00:00 America/Los_Angeles)'
                  actions:
                    suppress: true
          catch_all:
            actions:
              suppress: true
          created_at: '2021-11-18T16:42:01Z'
          created_by:
            id: P8B9WR8
            self: 'https://api.pagerduty.com/users/P8B9WR8'
            type: user_reference
          updated_at: '2021-11-18T16:42:01Z'
          updated_by:
            id: P8B9WR8
            self: 'https://api.pagerduty.com/users/P8B9WR8'
            type: user_reference
          version: rn1Mja13T1HBdmPChqFilSQXUW2fWXM_
    CreateSubscriptionExample:
      summary: Example
      value:
        webhook_subscription:
          delivery_method:
            type: http_delivery_method
            url: 'https://example.com/receive_a_pagerduty_webhook'
            custom_headers:
              - name: header-name
                value: header-value
          description: Sends PagerDuty v3 webhook events somewhere interesting.
          events:
            - incident.acknowledged
            - incident.annotated
            - incident.delegated
            - incident.escalated
            - incident.priority_updated
            - incident.reassigned
            - incident.reopened
            - incident.resolved
            - incident.responder.added
            - incident.responder.replied
            - incident.triggered
            - incident.unacknowledged
          filter:
            id: P393ZNQ
            type: service_reference
          type: webhook_subscription
    GetSubscriptionExample:
      summary: Example
      value:
        webhook_subscription:
          delivery_method:
            id: PF9KMXH
            secret: null
            temporarily_disabled: false
            type: http_delivery_method
            url: 'https://example.com/receive_a_pagerduty_webhook'
            custom_headers:
              - name: your-header-name
                value: '-- redacted --'
          description: Sends PagerDuty v3 webhook events somewhere interesting.
          events:
            - incident.acknowledged
            - incident.annotated
            - incident.delegated
            - incident.escalated
            - incident.priority_updated
            - incident.reassigned
            - incident.reopened
            - incident.resolved
            - incident.responder.added
            - incident.responder.replied
            - incident.triggered
            - incident.unacknowledged
          filter:
            id: P393ZNQ
            type: service_reference
          id: PY1OL64
          type: webhook_subscription
          active: true
    ListSubscriptionExample:
      summary: Example
      value:
        webhook_subscriptions:
          - delivery_method:
              id: PF9KMXH
              secret: null
              type: http_delivery_method
              url: 'https://example.com/receive_a_pagerduty_webhook'
              custom_headers:
                - name: your-header-name
                  value: '-- redacted --'
            description: Sends PagerDuty v3 webhook events somewhere interesting.
            events:
              - incident.acknowledged
              - incident.annotated
              - incident.delegated
              - incident.escalated
              - incident.priority_updated
              - incident.reassigned
              - incident.resolved
              - incident.responder.added
              - incident.responder.replied
              - incident.triggered
              - incident.unacknowledged
            filter:
              id: P393ZNQ
              type: service_reference
            id: PY1OL64
            type: webhook_subscription
            active: true
        limit: 25
        offset: 0
        total: null
        more: false
    PutSubscriptionExample:
      summary: Update Subscribed Events
      value:
        webhook_subscription:
          events:
            - incident.acknowledged
            - incident.annotated
            - incident.delegated
            - incident.escalated
            - incident.priority_updated
            - incident.reassigned
            - incident.reopened
            - incident.resolved
            - incident.responder.added
            - incident.responder.replied
            - incident.triggered
            - incident.unacknowledged
  x-stackQL-resources:
    event_orchestrations:
      id: pagerduty.event_orchestrations.event_orchestrations
      name: event_orchestrations
      title: Event Orchestrations
      methods:
        list_event_orchestrations:
          operation:
            $ref: '#/paths/~1event_orchestrations/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.orchestrations
        _list_event_orchestrations:
          operation:
            $ref: '#/paths/~1event_orchestrations/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        post_orchestration:
          operation:
            $ref: '#/paths/~1event_orchestrations/post'
          response:
            mediaType: application/json
            openAPIDocKey: '201'
        get_orchestration:
          operation:
            $ref: '#/paths/~1event_orchestrations~1{id}/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.orchestration
        _get_orchestration:
          operation:
            $ref: '#/paths/~1event_orchestrations~1{id}/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        update_orchestration:
          operation:
            $ref: '#/paths/~1event_orchestrations~1{id}/put'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        delete_orchestration:
          operation:
            $ref: '#/paths/~1event_orchestrations~1{id}/delete'
          response:
            mediaType: application/json
            openAPIDocKey: '204'
      sqlVerbs:
        select:
          - $ref: '#/components/x-stackQL-resources/event_orchestrations/methods/get_orchestration'
          - $ref: '#/components/x-stackQL-resources/event_orchestrations/methods/list_event_orchestrations'
        insert: []
        update: []
        delete:
          - $ref: '#/components/x-stackQL-resources/event_orchestrations/methods/delete_orchestration'
    integrations:
      id: pagerduty.event_orchestrations.integrations
      name: integrations
      title: Integrations
      methods:
        list_orchestration_integrations:
          operation:
            $ref: '#/paths/~1event_orchestrations~1{id}~1integrations/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.integrations
        _list_orchestration_integrations:
          operation:
            $ref: '#/paths/~1event_orchestrations~1{id}~1integrations/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        post_orchestration_integration:
          operation:
            $ref: '#/paths/~1event_orchestrations~1{id}~1integrations/post'
          response:
            mediaType: application/json
            openAPIDocKey: '201'
        get_orchestration_integration:
          operation:
            $ref: '#/paths/~1event_orchestrations~1{id}~1integrations~1{integration_id}/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.integration
        _get_orchestration_integration:
          operation:
            $ref: '#/paths/~1event_orchestrations~1{id}~1integrations~1{integration_id}/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        update_orchestration_integration:
          operation:
            $ref: '#/paths/~1event_orchestrations~1{id}~1integrations~1{integration_id}/put'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        delete_orchestration_integration:
          operation:
            $ref: '#/paths/~1event_orchestrations~1{id}~1integrations~1{integration_id}/delete'
          response:
            mediaType: application/json
            openAPIDocKey: '204'
        migrate_orchestration_integration:
          operation:
            $ref: '#/paths/~1event_orchestrations~1{id}~1integrations~1migration/post'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
          - $ref: '#/components/x-stackQL-resources/integrations/methods/get_orchestration_integration'
          - $ref: '#/components/x-stackQL-resources/integrations/methods/list_orchestration_integrations'
        insert: []
        update: []
        delete:
          - $ref: '#/components/x-stackQL-resources/integrations/methods/delete_orchestration_integration'
    global:
      id: pagerduty.event_orchestrations.global
      name: global
      title: Global
      methods:
        get_orch_path_global:
          operation:
            $ref: '#/paths/~1event_orchestrations~1{id}~1global/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.orchestration_path
        _get_orch_path_global:
          operation:
            $ref: '#/paths/~1event_orchestrations~1{id}~1global/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        update_orch_path_global:
          operation:
            $ref: '#/paths/~1event_orchestrations~1{id}~1global/put'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
          - $ref: '#/components/x-stackQL-resources/global/methods/get_orch_path_global'
        insert: []
        update: []
        delete: []
    router:
      id: pagerduty.event_orchestrations.router
      name: router
      title: Router
      methods:
        get_orch_path_router:
          operation:
            $ref: '#/paths/~1event_orchestrations~1{id}~1router/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.orchestration_path
        _get_orch_path_router:
          operation:
            $ref: '#/paths/~1event_orchestrations~1{id}~1router/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        update_orch_path_router:
          operation:
            $ref: '#/paths/~1event_orchestrations~1{id}~1router/put'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
          - $ref: '#/components/x-stackQL-resources/router/methods/get_orch_path_router'
        insert: []
        update: []
        delete: []
    unrouted:
      id: pagerduty.event_orchestrations.unrouted
      name: unrouted
      title: Unrouted
      methods:
        get_orch_path_unrouted:
          operation:
            $ref: '#/paths/~1event_orchestrations~1{id}~1unrouted/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.orchestration_path
        _get_orch_path_unrouted:
          operation:
            $ref: '#/paths/~1event_orchestrations~1{id}~1unrouted/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        update_orch_path_unrouted:
          operation:
            $ref: '#/paths/~1event_orchestrations~1{id}~1unrouted/put'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
          - $ref: '#/components/x-stackQL-resources/unrouted/methods/get_orch_path_unrouted'
        insert: []
        update: []
        delete: []
    services:
      id: pagerduty.event_orchestrations.services
      name: services
      title: Services
      methods:
        get_orch_path_service:
          operation:
            $ref: '#/paths/~1event_orchestrations~1services~1{service_id}/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            objectKey: $.orchestration_path
        _get_orch_path_service:
          operation:
            $ref: '#/paths/~1event_orchestrations~1services~1{service_id}/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        update_orch_path_service:
          operation:
            $ref: '#/paths/~1event_orchestrations~1services~1{service_id}/put'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
          - $ref: '#/components/x-stackQL-resources/services/methods/get_orch_path_service'
        insert: []
        update: []
        delete: []
    services_active:
      id: pagerduty.event_orchestrations.services_active
      name: services_active
      title: Services Active
      methods:
        get_orch_active_status:
          operation:
            $ref: '#/paths/~1event_orchestrations~1services~1{service_id}~1active/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
            objectKey: $
        _get_orch_active_status:
          operation:
            $ref: '#/paths/~1event_orchestrations~1services~1{service_id}~1active/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        update_orch_active_status:
          operation:
            $ref: '#/paths/~1event_orchestrations~1services~1{service_id}~1active/put'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
          - $ref: '#/components/x-stackQL-resources/services_active/methods/get_orch_active_status'
        insert: []
        update: []
        delete: []
paths:
  /event_orchestrations:
    get:
      x-pd-requires-scope: event_orchestrations.read
      tags:
        - Event Orchestrations
      operationId: listEventOrchestrations
      description: |
        List all Global Event Orchestrations on an Account.

        Global Event Orchestrations allow you define a set of Global Rules and Router Rules, so that when you ingest events using the Orchestration's Routing Key your events will have actions applied via the Global Rules & then routed to the correct Service by the Router Rules, based on the event's content.

        For more information see the [API Concepts Document](../../api-reference/ZG9jOjI3NDc5Nzc-api-concepts#event-orchestrations)

        Scoped OAuth requires: `event_orchestrations.read`
      summary: List Event Orchestrations
      parameters:
        - $ref: '#/components/parameters/header_Accept'
        - $ref: '#/components/parameters/header_Content-Type'
        - $ref: '#/components/parameters/offset_limit'
        - $ref: '#/components/parameters/offset_offset'
        - $ref: '#/components/parameters/sort_by_event_orchestration'
      responses:
        '200':
          description: A paginated array of Event Orchestration objects.
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/Pagination'
                  - type: object
                    properties:
                      orchestrations:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: ID of the Orchestration.
                              readOnly: true
                            self:
                              type: string
                              format: url
                              description: The API show URL at which the object is accessible
                              readOnly: true
                            name:
                              type: string
                              description: Name of the Orchestration.
                            description:
                              type: string
                              description: A description of this Orchestration's purpose.
                            team:
                              type: object
                              description: 'Reference to the team that owns the Orchestration. If none is specified, only admins have access.'
                              properties:
                                id:
                                  type: string
                                type:
                                  type: string
                                  description: A string that determines the schema of the object
                                  readOnly: true
                                self:
                                  type: string
                                  format: url
                                  description: The API show URL at which the object is accessible
                                  readOnly: true
                            routes:
                              type: integer
                              description: Number of different Service Orchestration being routed to
                              readOnly: true
                            created_at:
                              type: string
                              format: date-time
                              description: The date the Orchestration was created at.
                              readOnly: true
                            created_by:
                              type: object
                              description: Reference to the user that has created the Orchestration.
                              properties:
                                id:
                                  type: string
                                  readOnly: true
                                type:
                                  type: string
                                  description: A string that determines the schema of the object
                                  readOnly: true
                                self:
                                  type: string
                                  format: url
                                  description: The API show URL at which the object is accessible
                                  readOnly: true
                              readOnly: true
                            updated_at:
                              type: string
                              format: date-time
                              description: The date the Orchestration was last updated.
                              readOnly: true
                            updated_by:
                              type: object
                              description: Reference to the user that has updated the Orchestration last.
                              properties:
                                id:
                                  type: string
                                  readOnly: true
                                type:
                                  type: string
                                  description: A string that determines the schema of the object
                                  readOnly: true
                                self:
                                  type: string
                                  format: url
                                  description: The API show URL at which the object is accessible
                                  readOnly: true
                              readOnly: true
                            version:
                              type: string
                              description: Version of the Orchestration.
                              readOnly: true
              examples:
                response:
                  summary: Response Example
                  value:
                    orchestrations:
                      - id: b02e973d-9620-4e0a-9edc-00fedf7d4694
                        self: 'https://api.pagerduty.com/event_orchestrations/b02e973d-9620-4e0a-9edc-00fedf7d4694'
                        name: Shopping Cart Orchestration
                        description: Send shopping cart alerts to the right services
                        team:
                          id: PQYP5MN
                          type: team_reference
                          self: 'https://api.pagerduty.com/teams/PQYP5MN'
                        routes: 0
                        created_at: '2021-11-18T16:42:01Z'
                        created_by:
                          id: P8B9WR8
                          self: 'https://api.pagerduty.com/users/P8B9WR8'
                          type: user_reference
                        updated_at: '2021-11-18T16:42:01Z'
                        updated_by:
                          id: P8B9WR8
                          self: 'https://api.pagerduty.com/users/P8B9WR8'
                          type: user_reference
                        version: 9co0z4b152oICsoV91_PW2.ww8ip_xap
                    limit: 25
                    offset: 0
                    more: false
                    total: 1
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    post:
      x-pd-requires-scope: event_orchestrations.write
      tags:
        - Event Orchestrations
      description: |
        Create a Global Event Orchestration.

        Global Event Orchestrations allow you define a set of Global Rules and Router Rules, so that when you ingest events using the Orchestration's Routing Key your events will have actions applied via the Global Rules & then routed to the correct Service by the Router Rules, based on the event's content.

        For more information see the [API Concepts Document](../../api-reference/ZG9jOjI3NDc5Nzc-api-concepts#event-orchestrations)

        Scoped OAuth requires: `event_orchestrations.write`
      summary: Create an Orchestration
      operationId: postOrchestration
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                orchestration:
                  $ref: '#/components/schemas/Orchestration'
              required:
                - orchestration
            examples:
              create_orchestration:
                summary: 'Example: Create Orchestration'
                value:
                  orchestration:
                    name: New Orchestration
                    description: This is a newly created orchestration
                    team:
                      id: PXD0WR8
      parameters:
        - $ref: '#/components/parameters/header_Accept'
        - $ref: '#/components/parameters/header_Content-Type'
      responses:
        '201':
          description: The Orchestration that was created.
          content:
            application/json:
              schema:
                type: object
                properties:
                  orchestration:
                    $ref: '#/components/schemas/Orchestration'
              examples:
                response:
                  summary: Response Example
                  value:
                    orchestration:
                      id: 3aae9a17-8585-4d8c-93d3-99742801cd95
                      self: 'https://api.pagerduty.com/event_orchestrations/3aae9a17-8585-4d8c-93d3-99742801cd95'
                      name: New Orchestration
                      description: This is a newly created orchestration
                      team:
                        id: PXD0WR8
                        self: 'https://api.pagerduty.com/teams/PXD0WR8'
                        type: team_reference
                      integrations:
                        - id: 461cd942-d7cc-43ef-ac7d-86ba2d58fc45
                          label: New Orchestration Default Integration
                          parameters:
                            routing_key: R022XIJR9M266DX570EVE6EXP1AFBN6D
                            type: global
                      routes: 0
                      created_at: '2021-12-02T14:21:42Z'
                      created_by:
                        id: P8B9WR8
                        self: 'https://api.pagerduty.com/users/P8B9WR8'
                        type: user_reference
                      updated_at: '2021-12-02T14:21:42Z'
                      updated_by:
                        id: P8B9WR8
                        self: 'https://api.pagerduty.com/users/P8B9WR8'
                        type: user_reference
                      version: oBgzJsGDOz99G.FKZ0c1C6hw35twk_Ib
        '400':
          $ref: '#/components/responses/ArgumentError'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/NotAllowed'
        '409':
          $ref: '#/components/responses/Conflict'
  '/event_orchestrations/{id}':
    get:
      x-pd-requires-scope: event_orchestrations.read
      tags:
        - Event Orchestrations
      operationId: getOrchestration
      description: |
        Get a Global Event Orchestration.

        Global Event Orchestrations allow you define a set of Global Rules and Router Rules, so that when you ingest events using the Orchestration's Routing Key your events will have actions applied via the Global Rules & then routed to the correct Service by the Router Rules, based on the event's content.

        For more information see the [API Concepts Document](../../api-reference/ZG9jOjI3NDc5Nzc-api-concepts#event-orchestrations)

        Scoped OAuth requires: `event_orchestrations.read`
      summary: Get an Orchestration
      parameters:
        - $ref: '#/components/parameters/header_Accept'
        - $ref: '#/components/parameters/header_Content-Type'
        - $ref: '#/components/parameters/event_orchestration_id'
      responses:
        '200':
          description: The Orchestration object.
          content:
            application/json:
              schema:
                type: object
                properties:
                  orchestration:
                    $ref: '#/components/schemas/Orchestration'
              examples:
                response:
                  summary: Response Example
                  value:
                    orchestration:
                      id: b02e973d-9620-4e0a-9edc-00fedf7d4694
                      self: 'https://api.pagerduty.com/event_orchestrations/b02e973d-9620-4e0a-9edc-00fedf7d4694'
                      name: Shopping Cart Orchestration
                      description: Send shopping cart alerts to the right services
                      team:
                        id: PQYP5MN
                        type: team_reference
                        self: 'https://api.pagerduty.com/teams/PQYP5MN'
                      integrations:
                        - id: 9c5ff030-12da-4204-a067-25ee61a8df6c
                          label: Shopping Cart Orchestration Default Integration
                          parameters:
                            routing_key: R028DIE06SNKNO6V5ACSLRV7Y0TUVG7T
                            type: global
                      routes: 0
                      created_at: '2021-11-18T16:42:01Z'
                      created_by:
                        id: P8B9WR8
                        self: 'https://api.pagerduty.com/users/P8B9WR8'
                        type: user_reference
                      updated_at: '2021-11-18T16:42:01Z'
                      updated_by:
                        id: P8B9WR8
                        self: 'https://api.pagerduty.com/users/P8B9WR8'
                        type: user_reference
                      version: 9co0z4b152oICsoV91_PW2.ww8ip_xap
        '400':
          $ref: '#/components/responses/ArgumentError'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      x-pd-requires-scope: event_orchestrations.write
      tags:
        - Event Orchestrations
      operationId: updateOrchestration
      description: |
        Update a Global Event Orchestration.

        Global Event Orchestrations allow you define a set of Global Rules and Router Rules, so that when you ingest events using the Orchestration's Routing Key your events will have actions applied via the Global Rules & then routed to the correct Service by the Router Rules, based on the event's content.

        For more information see the [API Concepts Document](../../api-reference/ZG9jOjI3NDc5Nzc-api-concepts#event-orchestrations)

        Scoped OAuth requires: `event_orchestrations.write`
      summary: Update an Orchestration
      parameters:
        - $ref: '#/components/parameters/header_Accept'
        - $ref: '#/components/parameters/header_Content-Type'
        - $ref: '#/components/parameters/event_orchestration_id'
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                orchestration:
                  $ref: '#/components/schemas/Orchestration'
              required:
                - orchestration
            examples:
              change_name:
                summary: 'Example: Change name'
                value:
                  orchestration:
                    name: Go-Kart Orchestration
              change_team:
                summary: 'Example: Change team'
                value:
                  orchestration:
                    team:
                      id: PWL7QXS
              change_description:
                summary: 'Example: Change description'
                value:
                  orchestration:
                    description: Orchestration that does some stuff
        description: ''
      responses:
        '200':
          description: The Orchestration that was updated.
          content:
            application/json:
              schema:
                type: object
                properties:
                  orchestration:
                    $ref: '#/components/schemas/Orchestration'
              examples:
                response:
                  summary: Response Example
                  value:
                    orchestration:
                      id: b02e973d-9620-4e0a-9edc-00fedf7d4694
                      self: 'https://api.pagerduty.com/event_orchestrations/b02e973d-9620-4e0a-9edc-00fedf7d4694'
                      name: Go-Kart Orchestration
                      description: Orchestration that does some stuff
                      team:
                        id: PWL7QXS
                        type: team_reference
                        self: 'https://api.pagerduty.com/teams/PWL7QXS'
                      integrations:
                        - id: 9c5ff030-12da-4204-a067-25ee61a8df6c
                          label: Go-Kart Orchestration Default Integration
                          parameters:
                            routing_key: R028DIE06SNKNO6V5ACSLRV7Y0TUVG7T
                            type: global
                      routes: 0
                      created_at: '2021-11-18T16:42:01Z'
                      created_by:
                        id: P8B9WR8
                        self: 'https://api.pagerduty.com/users/P8B9WR8'
                        type: user_reference
                      updated_at: '2021-11-19T11:42:32Z'
                      updated_by:
                        id: P8B9WR8
                        self: 'https://api.pagerduty.com/users/P8B9WR8'
                        type: user_reference
                      version: BrWLKQBLm8QO2ZYQ0GosHLxdbgWZ0ZR3
        '400':
          $ref: '#/components/responses/ArgumentError'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/NotAllowed'
        '409':
          $ref: '#/components/responses/Conflict'
    delete:
      x-pd-requires-scope: event_orchestrations.write
      tags:
        - Event Orchestrations
      operationId: deleteOrchestration
      description: |
        Delete a Global Event Orchestration.

        Once deleted, you will no longer be able to ingest events into PagerDuty using this Orchestration's Routing Key.

        For more information see the [API Concepts Document](../../api-reference/ZG9jOjI3NDc5Nzc-api-concepts#event-orchestrations)

        Scoped OAuth requires: `event_orchestrations.write`
      summary: Delete an Orchestration
      parameters:
        - $ref: '#/components/parameters/header_Accept'
        - $ref: '#/components/parameters/header_Content-Type'
        - $ref: '#/components/parameters/event_orchestration_id'
      responses:
        '204':
          description: The Orchestration was deleted successfully.
        '400':
          $ref: '#/components/responses/ArgumentError'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/NotAllowed'
        '409':
          $ref: '#/components/responses/Conflict'
  '/event_orchestrations/{id}/integrations':
    get:
      x-pd-requires-scope: event_orchestrations.read
      tags:
        - Event Orchestrations
      description: |
        List the Integrations associated with this Event Orchestrations.

        You can use a Routing Key from these Integrations to send events to PagerDuty!

        For more information see the [API Concepts Document](../../api-reference/ZG9jOjI3NDc5Nzc-api-concepts#event-orchestrations)

        Scoped OAuth requires: `event_orchestrations.read`
      summary: List Integrations for an Event Orchestration
      operationId: listOrchestrationIntegrations
      parameters:
        - $ref: '#/components/parameters/header_Accept'
        - $ref: '#/components/parameters/header_Content-Type'
        - $ref: '#/components/parameters/event_orchestration_id'
      responses:
        '200':
          description: The Integrations for this Event Orchestration.
          content:
            application/json:
              schema:
                type: object
                properties:
                  integrations:
                    type: array
                    items:
                      $ref: '#/components/schemas/OrchestrationIntegration'
                  total:
                    $ref: '#/components/schemas/Pagination/properties/total'
              examples:
                response:
                  summary: Response Example
                  value:
                    integrations:
                      - id: 9c5ff030-12da-4204-a067-25ee61a8df6c
                        label: Go-Kart Orchestration Default Integration
                        parameters:
                          routing_key: R022XIJR9M266DX570EVE6EXP1AFBN6D
                          type: global
                      - id: 11832872-88b6-4661-8972-db5712b69496
                        label: Integration for Monitoring Tool X
                        parameters:
                          routing_key: R028DIE06SNKNO6V5ACSLRV7Y0TUVG7T
                          type: global
                    total: 2
        '400':
          $ref: '#/components/responses/ArgumentError'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '405':
          $ref: '#/components/responses/NotAllowed'
    post:
      x-pd-requires-scope: event_orchestrations.write
      tags:
        - Event Orchestrations
      description: |
        Create an Integration associated with this Event Orchestration.

        You can then use the Routing Key from this new Integration to send events to PagerDuty!

        For more information see the [API Concepts Document](../../api-reference/ZG9jOjI3NDc5Nzc-api-concepts#event-orchestrations)

        Scoped OAuth requires: `event_orchestrations.write`
      summary: Create an Integration for an Event Orchestration
      operationId: postOrchestrationIntegration
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                integration:
                  type: object
                  properties:
                    label:
                      type: string
                      description: Name of the Integration.
                  required:
                    - label
              required:
                - integration
            examples:
              create_orchestration:
                summary: 'Example: Create an Integration'
                value:
                  integration:
                    label: Integration for Monitoring Tool X
      parameters:
        - $ref: '#/components/parameters/header_Accept'
        - $ref: '#/components/parameters/header_Content-Type'
        - $ref: '#/components/parameters/event_orchestration_id'
      responses:
        '201':
          description: The Integration that was created.
          content:
            application/json:
              schema:
                type: object
                properties:
                  integration:
                    $ref: '#/components/schemas/OrchestrationIntegration'
              examples:
                response:
                  summary: Response Example
                  value:
                    integration:
                      id: 11832872-88b6-4661-8972-db5712b69496
                      label: Integration for Monitoring Tool X
                      parameters:
                        routing_key: R028DIE06SNKNO6V5ACSLRV7Y0TUVG7T
                        type: global
        '400':
          $ref: '#/components/responses/ArgumentError'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/NotAllowed'
        '409':
          $ref: '#/components/responses/Conflict'
  '/event_orchestrations/{id}/integrations/{integration_id}':
    get:
      x-pd-requires-scope: event_orchestrations.read
      tags:
        - Event Orchestrations
      description: |
        Get an Integration associated with this Event Orchestrations.

        You can use the Routing Key from this Integration to send events to PagerDuty!

        For more information see the [API Concepts Document](../../api-reference/ZG9jOjI3NDc5Nzc-api-concepts#event-orchestrations)

        Scoped OAuth requires: `event_orchestrations.read`
      summary: Get an Integration for an Event Orchestration
      operationId: getOrchestrationIntegration
      parameters:
        - $ref: '#/components/parameters/header_Accept'
        - $ref: '#/components/parameters/header_Content-Type'
        - $ref: '#/components/parameters/event_orchestration_id'
        - $ref: '#/components/parameters/event_orchestration_integration_id'
      responses:
        '200':
          description: An Integration for this Event Orchestration.
          content:
            application/json:
              schema:
                properties:
                  integration:
                    $ref: '#/components/schemas/OrchestrationIntegration'
                type: object
              examples:
                response:
                  summary: Response Example
                  value:
                    integration:
                      id: 9c5ff030-12da-4204-a067-25ee61a8df6c
                      label: Go-Kart Orchestration Default Integration
                      parameters:
                        routing_key: R022XIJR9M266DX570EVE6EXP1AFBN6D
                        type: global
        '400':
          $ref: '#/components/responses/ArgumentError'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '405':
          $ref: '#/components/responses/NotAllowed'
    put:
      x-pd-requires-scope: event_orchestrations.write
      tags:
        - Event Orchestrations
      description: |
        Update an Integration associated with this Event Orchestrations.

        You can use the Routing Key from this Integration to send events to PagerDuty!

        For more information see the [API Concepts Document](../../api-reference/ZG9jOjI3NDc5Nzc-api-concepts#event-orchestrations)

        Scoped OAuth requires: `event_orchestrations.write`
      summary: Update an Integration for an Event Orchestration
      operationId: updateOrchestrationIntegration
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                integration:
                  type: object
                  properties:
                    label:
                      type: string
                      description: Name of the Integration.
                  required:
                    - label
              required:
                - integration
            examples:
              create_orchestration:
                summary: 'Example: Update an Integration'
                value:
                  integration:
                    label: New Name for my Integration
      parameters:
        - $ref: '#/components/parameters/header_Accept'
        - $ref: '#/components/parameters/header_Content-Type'
        - $ref: '#/components/parameters/event_orchestration_id'
        - $ref: '#/components/parameters/event_orchestration_integration_id'
      responses:
        '200':
          description: The Integration that was updated.
          content:
            application/json:
              schema:
                type: object
                properties:
                  integration:
                    $ref: '#/components/schemas/OrchestrationIntegration'
              examples:
                response:
                  summary: Response Example
                  value:
                    integration:
                      id: 11832872-88b6-4661-8972-db5712b69496
                      label: New Name for my Integration
                      parameters:
                        routing_key: R028DIE06SNKNO6V5ACSLRV7Y0TUVG7T
                        type: global
        '400':
          $ref: '#/components/responses/ArgumentError'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/NotAllowed'
        '409':
          $ref: '#/components/responses/Conflict'
    delete:
      x-pd-requires-scope: event_orchestrations.write
      tags:
        - Event Orchestrations
      description: |
        Delete an Integration and its associated Routing Key.

        Once deleted, PagerDuty will drop all future events sent to PagerDuty using the Routing Key.

        For more information see the [API Concepts Document](../../api-reference/ZG9jOjI3NDc5Nzc-api-concepts#event-orchestrations)

        Scoped OAuth requires: `event_orchestrations.write`
      summary: Delete an Integration for an Event Orchestration
      operationId: deleteOrchestrationIntegration
      parameters:
        - $ref: '#/components/parameters/header_Accept'
        - $ref: '#/components/parameters/header_Content-Type'
        - $ref: '#/components/parameters/event_orchestration_id'
        - $ref: '#/components/parameters/event_orchestration_integration_id'
      responses:
        '204':
          description: The Integration was deleted successfully.
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/NotAllowed'
        '409':
          $ref: '#/components/responses/Conflict'
  '/event_orchestrations/{id}/integrations/migration':
    post:
      x-pd-requires-scope: event_orchestrations.write
      tags:
        - Event Orchestrations
      description: |
        Move an Integration and its Routing Key from the Event Orchestration specified in the request payload, to the Event Orchestration specified in the request URL.

        Any future events sent to this Integration's Routing Key will be processed by this Event Orchestration's Rules.

        For more information see the [API Concepts Document](../../api-reference/ZG9jOjI3NDc5Nzc-api-concepts#event-orchestrations)

        Scoped OAuth requires: `event_orchestrations.write`
      summary: Migrate an Integration from one Event Orchestration to another
      operationId: migrateOrchestrationIntegration
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                source_id:
                  type: string
                  description: The ID of the Event Orchestration you'll be moving the Integration away from
                source_type:
                  type: string
                  description: The type of of the `source_id` object
                  enum:
                    - orchestration
                integration_id:
                  type: string
                  description: The ID of the Integration you'll be moving
              required:
                - source_id
                - source_type
                - integration_id
            examples:
              migrate_integration:
                summary: 'Example: Migrate an Integration'
                value:
                  source_type: orchestration
                  source_id: b02e973d-9620-4e0a-9edc-00fedf7d4694
                  integration_id: 11832872-88b6-4661-8972-db5712b69496
      parameters:
        - $ref: '#/components/parameters/header_Accept'
        - $ref: '#/components/parameters/header_Content-Type'
        - $ref: '#/components/parameters/event_orchestration_id'
      responses:
        '200':
          description: The Integration that was migrated
          content:
            application/json:
              schema:
                type: object
                properties:
                  integrations:
                    type: array
                    items:
                      $ref: '#/components/schemas/OrchestrationIntegration'
                  total:
                    $ref: '#/components/schemas/Pagination/properties/total'
              examples:
                response:
                  summary: Response Example
                  value:
                    integrations:
                      - id: 9c5ff030-12da-4204-a067-25ee61a8df6c
                        label: Go-Kart Orchestration Default Integration
                        parameters:
                          routing_key: R022XIJR9M266DX570EVE6EXP1AFBN6D
                          type: global
                      - id: 11832872-88b6-4661-8972-db5712b69496
                        label: Integration for Monitoring Tool X
                        parameters:
                          routing_key: R028DIE06SNKNO6V5ACSLRV7Y0TUVG7T
                          type: global
                    total: 2
        '400':
          $ref: '#/components/responses/ArgumentError'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/NotAllowed'
        '409':
          $ref: '#/components/responses/Conflict'
  '/event_orchestrations/{id}/global':
    get:
      x-pd-requires-scope: event_orchestrations.read
      tags:
        - Event Orchestrations
      operationId: getOrchPathGlobal
      summary: Get the Global Orchestration for an Event Orchestration
      description: |
        Get the Global Orchestration for an Event Orchestration.

        Global Orchestration Rules allows you to create a set of Event Rules. These rules evaluate against all Events sent to an Event Orchestration. When a matching rule is found, it can modify and enhance the event and can route the event to another set of Global Rules within this Orchestration for further processing.

        For more information see the [API Concepts Document](../../api-reference/ZG9jOjI3NDc5Nzc-api-concepts#event-orchestrations)

        Scoped OAuth requires: `event_orchestrations.read`
      parameters:
        - $ref: '#/components/parameters/header_Accept'
        - $ref: '#/components/parameters/header_Content-Type'
        - $ref: '#/components/parameters/event_orchestration_id'
      responses:
        '200':
          description: The Global Orchestration Rules object.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrchestrationGlobal'
              examples:
                response:
                  $ref: '#/components/examples/OrchestrationPathGlobalTypeResponse'
        '400':
          $ref: '#/components/responses/ArgumentError'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      x-pd-requires-scope: event_orchestrations.write
      tags:
        - Event Orchestrations
      operationId: updateOrchPathGlobal
      summary: Update the Global Orchestration for an Event Orchestration
      description: |
        Update the Global Orchestration for an Event Orchestration.

        Global Orchestration Rules allows you to create a set of Event Rules. These rules evaluate against all Events sent to an Event Orchestration. When a matching rule is found, it can modify and enhance the event and can route the event to another set of Global Rules within this Orchestration for further processing.

        For more information see the [API Concepts Document](../../api-reference/ZG9jOjI3NDc5Nzc-api-concepts#event-orchestrations)

        Scoped OAuth requires: `event_orchestrations.write`
      parameters:
        - $ref: '#/components/parameters/header_Accept'
        - $ref: '#/components/parameters/header_Content-Type'
        - $ref: '#/components/parameters/event_orchestration_id'
      requestBody:
        description: Update Global Orchestration rules. Omitted rules and rule details are deleted.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrchestrationGlobal'
            examples:
              request:
                summary: Example Request
                value:
                  orchestration_path:
                    sets:
                      - id: start
                        rules:
                          - label: Always apply some consistent event transformations to all events
                            id: c91f72f3
                            conditions: []
                            actions:
                              variables:
                                - name: hostname
                                  path: event.component
                                  value: 'hostname: (.*)'
                                  type: regex
                              extractions:
                                - template: '{{variables.hostname}}'
                                  target: event.custom_details.hostname
                                - source: event.source
                                  regex: www (.*) service
                                  target: event.source
                              route_to: step-two
                      - id: step-two
                        rules:
                          - label: All critical alerts should be treated as P1 incidents
                            id: 7c54529d
                            conditions:
                              - expression: event.severity matches 'critical'
                            actions:
                              priority: P0IN2KQ
                              suppress: false
                          - label: Drop all events from the very-noisy monitoring tool
                            id: 1f6d9a33
                            conditions:
                              - expression: event.source matches part 'very-noisy'
                            actions:
                              drop_event: true
                          - label: Never bother the on-call for info-level events outside of work hours
                            id: cd770384
                            conditions:
                              - expression: 'event.severity matches ''info'' and not (now in Mon,Tue,Wed,Thu,Fri 09:00:00 to 17:00:00 America/Los_Angeles)'
                            actions:
                              suppress: true
                  catch_all:
                    actions:
                      suppress: true
      responses:
        '200':
          description: The Global Orchestration Rules object.
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/OrchestrationGlobal'
                  - type: object
                    properties:
                      warnings:
                        type: array
                        description: List of applicable warnings messages for each rule using a feature not available on your account plan.
                        items:
                          anyOf:
                            - $ref: '#/components/schemas/OrchestrationWarningIneligible'
              examples:
                response:
                  summary: Example Response
                  value:
                    orchestration_path:
                      type: global
                      parent:
                        id: b02e973d-9620-4e0a-9edc-00fedf7d4694
                        self: 'https://api.pagerduty.com/event_orchestrations/b02e973d-9620-4e0a-9edc-00fedf7d4694'
                        type: event_orchestration_reference
                      self: 'https://api.pagerduty.com/event_orchestrations/b02e973d-9620-4e0a-9edc-00fedf7d4694/global'
                      sets:
                        - id: start
                          rules:
                            - label: Always apply some consistent event transformations to all events
                              id: c91f72f3
                              conditions: []
                              actions:
                                variables:
                                  - name: hostname
                                    path: event.component
                                    value: 'hostname: (.*)'
                                    type: regex
                                extractions:
                                  - template: '{{variables.hostname}}'
                                    target: event.custom_details.hostname
                                  - source: event.source
                                    regex: www (.*) service
                                    target: event.source
                                route_to: step-two
                        - id: step-two
                          rules:
                            - label: All critical alerts should be treated as P1 incidents
                              id: 7c54529d
                              conditions:
                                - expression: event.severity matches 'critical'
                              actions:
                                priority: P0IN2KQ
                                suppress: false
                            - label: Drop all events from the very-noisy monitoring tool
                              id: 1f6d9a33
                              conditions:
                                - expression: event.source matches part 'very-noisy'
                              actions:
                                drop_event: true
                            - label: Never bother the on-call for info-level events outside of work hours
                              id: cd770384
                              conditions:
                                - expression: 'event.severity matches ''info'' and not (now in Mon,Tue,Wed,Thu,Fri 09:00:00 to 17:00:00 America/Los_Angeles)'
                              actions:
                                suppress: true
                      catch_all:
                        actions:
                          suppress: true
                      created_at: '2021-11-18T16:42:01Z'
                      created_by:
                        id: P8B9WR8
                        self: 'https://api.pagerduty.com/users/P8B9WR8'
                        type: user_reference
                      updated_at: '2021-11-18T16:42:01Z'
                      updated_by:
                        id: P8B9WR8
                        self: 'https://api.pagerduty.com/users/P8B9WR8'
                        type: user_reference
                      version: rn1Mja13T1HBdmPChqFilSQXUW2fWXM_
                    warnings:
                      - feature: nested_rules
                        feature_type: nested_rules
                        message: 'This orchestration contains Nested Rules, which is not available on your account plan. The orchestration will be updated, however, only rules in the ''start'' set will be evaluated'
                        rule_id: null
                        warning_type: forbidden_feature
                      - feature: variables
                        feature_type: actions
                        message: 'This rule uses Dynamic Field Enrichment & Extraction, which is an action not available on your account plan. The rule will be updated, but the action will not be fired when the rule is evaluated'
                        rule_id: c91f72f3
                        warning_type: forbidden_feature
                      - feature: extractions
                        feature_type: actions
                        message: 'This rule uses Dynamic Field Enrichment & Extraction, which is an action not available on your account plan. The rule will be updated, but the action will not be fired when the rule is evaluated'
                        rule_id: c91f72f3
                        warning_type: forbidden_feature
                      - feature: recurring_condition
                        feature_type: conditions
                        message: 'This rule uses Recurring Condition, which is a condition not available on your account plan. The rule will be updated, but it will not be evaluated by events'
                        rule_id: cd770384
                        warning_type: forbidden_feature
        '400':
          $ref: '#/components/responses/ArgumentError'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/NotAllowed'
        '409':
          $ref: '#/components/responses/Conflict'
  '/event_orchestrations/{id}/router':
    get:
      x-pd-requires-scope: event_orchestrations.read
      tags:
        - Event Orchestrations
      operationId: getOrchPathRouter
      summary: Get the Router for an Event Orchestration
      description: |
        Get a Global Orchestration's Routing Rules.

        An Orchestration Router allows you to create a set of Event Rules. The Router evaluates Events you send to this Global Orchestration against each of its rules, one at a time, and routes the event to a specific Service based on the first rule that matches. If an event doesn't match any rules, it'll be sent to service specified in as the `catch_all` or the "Unrouted" Orchestration if no service is specified.

        For more information see the [API Concepts Document](../../api-reference/ZG9jOjI3NDc5Nzc-api-concepts#event-orchestrations)

        Scoped OAuth requires: `event_orchestrations.read`
      parameters:
        - $ref: '#/components/parameters/header_Accept'
        - $ref: '#/components/parameters/header_Content-Type'
        - $ref: '#/components/parameters/event_orchestration_id'
      responses:
        '200':
          $ref: '#/components/responses/OrchestrationPathRouterTypeResponse'
        '400':
          $ref: '#/components/responses/ArgumentError'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      x-pd-requires-scope: event_orchestrations.write
      tags:
        - Event Orchestrations
      operationId: updateOrchPathRouter
      summary: Update the Router for an Event Orchestration
      description: |
        Update a Global Orchestration's Routing Rules.

        An Orchestration Router allows you to create a set of Event Rules. The Router evaluates Events you send to this Global Orchestration against each of its rules, one at a time, and routes the event to a specific Service based on the first rule that matches. If an event doesn't match any rules, it'll be sent to service specified in as the `catch_all` or the "Unrouted" Orchestration if no service is specified.

        For more information see the [API Concepts Document](../../api-reference/ZG9jOjI3NDc5Nzc-api-concepts#event-orchestrations)

        Scoped OAuth requires: `event_orchestrations.write`
      parameters:
        - $ref: '#/components/parameters/header_Accept'
        - $ref: '#/components/parameters/header_Content-Type'
        - $ref: '#/components/parameters/event_orchestration_id'
      requestBody:
        description: Updates to Orchestration Router details. Omitted rules and rule details are deleted.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrchestrationRouter'
            examples:
              request:
                summary: Example Request
                value:
                  orchestration_path:
                    sets:
                      - id: start
                        rules:
                          - label: Events relating to our relational database
                            id: 1c26698b
                            conditions:
                              - expression: event.summary matches part 'database'
                              - expression: 'event.source matches regex ''db[0-9]+-server'''
                            actions:
                              route_to: PB31XBA
                          - label: Events relating to our www app server
                            id: d9801904
                            conditions:
                              - expression: event.summary matches part 'www'
                            actions:
                              route_to: PC2D9ML
                          - label: Events relating to our delivery pipeline
                            id: ed624931
                            conditions:
                              - expression: trigger_count over 1 minute > 3
                            actions:
                              route_to: PQSJBMA
      responses:
        '200':
          description: The Orchestration Router object.
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/OrchestrationRouter'
                  - type: object
                    properties:
                      warnings:
                        type: array
                        description: List of applicable warnings messages for each rule using a feature not available on your account plan.
                        items:
                          anyOf:
                            - $ref: '#/components/schemas/OrchestrationWarningIneligible'
              examples:
                response:
                  summary: Example Response
                  value:
                    orchestration_path:
                      type: router
                      parent:
                        id: b02e973d-9620-4e0a-9edc-00fedf7d4694
                        self: 'https://api.pagerduty.com/event_orchestrations/b02e973d-9620-4e0a-9edc-00fedf7d4694'
                        type: event_orchestration_reference
                      self: 'https://api.pagerduty.com/event_orchestrations/b02e973d-9620-4e0a-9edc-00fedf7d4694/router'
                      sets:
                        - id: start
                          rules:
                            - label: Events relating to our relational database
                              id: 1c26698b
                              conditions:
                                - expression: event.summary matches part 'database'
                                - expression: 'event.source matches regex ''db[0-9]+-server'''
                              actions:
                                route_to: PB31XBA
                            - label: Events relating to our www app server
                              id: d9801904
                              conditions:
                                - expression: event.summary matches part 'www'
                              actions:
                                route_to: PC2D9ML
                            - label: Events relating to our delivery pipeline
                              id: ed624931
                              conditions:
                                - expression: trigger_count over 1 minute > 3
                              actions:
                                route_to: PQSJBMA
                      catch_all:
                        actions:
                          route_to: unrouted
                      created_at: '2021-11-18T16:42:01Z'
                      created_by:
                        id: P8B9WR8
                        self: 'https://api.pagerduty.com/users/P8B9WR8'
                        type: user_reference
                      updated_at: '2021-11-18T16:42:01Z'
                      updated_by:
                        id: P8B9WR8
                        self: 'https://api.pagerduty.com/users/P8B9WR8'
                        type: user_reference
                      version: 9co0z4b152oICsoV91_PW2.ww8ip_xap
                    warnings:
                      - feature: threshold_condition
                        feature_type: conditions
                        message: 'This rule uses Threshold Condition, which is a condition not available on your account plan. The rule will be updated, but it will not be evaluated by events'
                        rule_id: ed624931
                        warning_type: forbidden_feature
        '400':
          $ref: '#/components/responses/ArgumentError'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/NotAllowed'
        '409':
          $ref: '#/components/responses/Conflict'
  '/event_orchestrations/{id}/unrouted':
    get:
      x-pd-requires-scope: event_orchestrations.read
      tags:
        - Event Orchestrations
      operationId: getOrchPathUnrouted
      summary: Get the Unrouted Orchestration for an Event Orchestration
      description: |
        Get a Global Event Orchestration's Rules for Unrouted events.

        An Unrouted Orchestration allows you to create a set of Event Rules that will be evaluated against all events that don't match any rules in the Global Orchestration's Router. Events that reach the Unrouted Orchestration will never be routed to a specific Service.

        The Unrouted Orchestration evaluates Events sent to it against each of its rules, beginning with the rules in the "start" set. When a matching rule is found, it can modify and enhance the event and can route the event to another set of rules within this Unrouted Orchestration for further processing.

        For more information see the [API Concepts Document](../../api-reference/ZG9jOjI3NDc5Nzc-api-concepts#event-orchestrations)

        Scoped OAuth requires: `event_orchestrations.read`
      parameters:
        - $ref: '#/components/parameters/header_Accept'
        - $ref: '#/components/parameters/header_Content-Type'
        - $ref: '#/components/parameters/event_orchestration_id'
      responses:
        '200':
          $ref: '#/components/responses/OrchestrationPathUnroutedTypeResponse'
        '400':
          $ref: '#/components/responses/ArgumentError'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      x-pd-requires-scope: event_orchestrations.write
      tags:
        - Event Orchestrations
      operationId: updateOrchPathUnrouted
      summary: Update the Unrouted Orchestration for an Event Orchestration
      description: |
        Update a Global Event Orchestration's Rules for Unrouted events.

        An Unrouted Orchestration allows you to create a set of Event Rules that will be evaluated against all events that don't match any rules in the Global Orchestration's Router. Events that reach the Unrouted Orchestration will never be routed to a specific Service.

        The Unrouted Orchestration evaluates Events sent to it against each of its rules, beginning with the rules in the "start" set. When a matching rule is found, it can modify and enhance the event and can route the event to another set of rules within this Unrouted Orchestration for further processing.

        For more information see the [API Concepts Document](../../api-reference/ZG9jOjI3NDc5Nzc-api-concepts#event-orchestrations)

        Scoped OAuth requires: `event_orchestrations.write`
      parameters:
        - $ref: '#/components/parameters/header_Accept'
        - $ref: '#/components/parameters/header_Content-Type'
        - $ref: '#/components/parameters/event_orchestration_id'
      requestBody:
        description: Updates to Unrouted Orchestration rules. Omitted rules and rule details are deleted.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrchestrationUnrouted'
            examples:
              request:
                summary: Example Request
                value:
                  orchestration_path:
                    sets:
                      - id: start
                        rules:
                          - label: Update the summary of un-matched Critical alerts so they're easier to spot
                            id: 38880ffb
                            conditions:
                              - expression: event.severity matches 'critical'
                            actions:
                              extractions:
                                - target: event.summary
                                  template: '[Critical Unrouted] {{event.summary}}'
                          - label: Reduce the severity of all other unrouted events
                            id: 3896801e
                            conditions: []
                            actions:
                              severity: info
                        catch_all:
                          actions:
                            suppress: true
      responses:
        '200':
          description: The Unrouted Orchestration object.
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/OrchestrationUnrouted'
                  - type: object
                    properties:
                      warnings:
                        type: array
                        description: List of applicable warnings messages for each rule using a feature not available on your account plan.
                        items:
                          anyOf:
                            - $ref: '#/components/schemas/OrchestrationWarningIneligible'
              examples:
                response:
                  summary: Example Response
                  value:
                    orchestration_path:
                      type: unrouted
                      parent:
                        id: b02e973d-9620-4e0a-9edc-00fedf7d4694
                        self: 'https://api.pagerduty.com/event_orchestrations/b02e973d-9620-4e0a-9edc-00fedf7d4694'
                        type: event_orchestration_reference
                      self: 'https://api.pagerduty.com/event_orchestrations/b02e973d-9620-4e0a-9edc-00fedf7d4694/router'
                      sets:
                        - id: start
                          rules:
                            - label: Update the summary of un-matched Critical alerts so they're easier to spot
                              id: 38880ffb
                              conditions:
                                - expression: event.severity matches 'critical'
                              actions:
                                extractions:
                                  - target: event.summary
                                    template: '[Critical Unrouted] {{event.summary}}'
                            - label: Reduce the severity of all other unrouted events
                              id: 3896801e
                              conditions: []
                              actions:
                                severity: info
                      catch_all:
                        actions:
                          suppress: true
                      created_at: '2021-11-18T16:42:01Z'
                      created_by:
                        id: P8B9WR8
                        self: 'https://api.pagerduty.com/users/P8B9WR8'
                        type: user_reference
                      updated_at: '2021-11-18T16:42:01Z'
                      updated_by:
                        id: P8B9WR8
                        self: 'https://api.pagerduty.com/users/P8B9WR8'
                        type: user_reference
                      version: aZO.EEf9zWb9Vg0NYq.Uqad1hOC2Maod
                    warnings:
                      - feature: extractions
                        feature_type: actions
                        message: 'This rule uses Dynamic Field Enrichment & Extraction, which is an action not available on your account plan. The rule will be updated, but the action will not be fired when the rule is evaluated'
                        rule_id: 3896801e
                        warning_type: forbidden_feature
        '400':
          $ref: '#/components/responses/ArgumentError'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/NotAllowed'
        '409':
          $ref: '#/components/responses/Conflict'
  '/event_orchestrations/services/{service_id}':
    get:
      x-pd-requires-scope: services.read
      tags:
        - Event Orchestrations
      operationId: getOrchPathService
      summary: Get the Service Orchestration for a Service
      description: |
        Get a Service Orchestration.

        A Service Orchestration allows you to create a set of Event Rules. The Service Orchestration evaluates Events sent to this Service against each of its rules, beginning with the rules in the "start" set. When a matching rule is found, it can modify and enhance the event and can route the event to another set of rules within this Service Orchestration for further processing.

        For more information see the [API Concepts Document](../../api-reference/ZG9jOjI3NDc5Nzc-api-concepts#event-orchestrations)

        Scoped OAuth requires: `services.read`
      parameters:
        - $ref: '#/components/parameters/header_Accept'
        - $ref: '#/components/parameters/header_Content-Type'
        - $ref: '#/components/parameters/service_id'
      responses:
        '200':
          $ref: '#/components/responses/OrchestrationPathServiceTypeResponse'
        '400':
          $ref: '#/components/responses/ArgumentError'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      x-pd-requires-scope: services.write
      tags:
        - Event Orchestrations
      operationId: updateOrchPathService
      summary: Update the Service Orchestration for a Service
      description: |
        Update a Service Orchestration.

        A Service Orchestration allows you to create a set of Event Rules. The Service Orchestration evaluates Events sent to this Service against each of its rules, beginning with the rules in the "start" set. When a matching rule is found, it can modify and enhance the event and can route the event to another set of rules within this Service Orchestration for further processing.

        For more information see the [API Concepts Document](../../api-reference/ZG9jOjI3NDc5Nzc-api-concepts#event-orchestrations)

        Scoped OAuth requires: `services.write`
      parameters:
        - $ref: '#/components/parameters/header_Accept'
        - $ref: '#/components/parameters/header_Content-Type'
        - $ref: '#/components/parameters/service_id'
      requestBody:
        description: Update Service Orchestration rules. Omitted rules and rule details are deleted.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ServiceOrchestration'
            examples:
              request:
                summary: Example Request
                value:
                  orchestration_path:
                    sets:
                      - id: start
                        rules:
                          - label: Always apply some consistent event transformations to all events
                            id: c91f72f3
                            conditions: []
                            actions:
                              variables:
                                - name: hostname
                                  path: event.component
                                  value: 'hostname: (.*)'
                                  type: regex
                              extractions:
                                - template: '{{variables.hostname}}'
                                  target: event.custom_details.hostname
                                - source: event.source
                                  regex: www (.*) service
                                  target: event.source
                              pagerduty_automation_actions:
                                - action_id: 01CSB5SMOKCKVRI5GN0LJG7SMB
                              route_to: step-two
                      - id: step-two
                        rules:
                          - label: All critical alerts should be treated as P1 incidents
                            id: 7c54529d
                            conditions:
                              - expression: event.severity matches 'critical'
                            actions:
                              annotate: 'Please use our P1 runbook: https://docs.test/p1-runbook'
                              priority: P0IN2KQ
                              suppress: false
                          - label: If there's something wrong on the canary let the team know about it in our deployments Slack channel
                            id: 1f6d9a33
                            conditions:
                              - expression: event.custom_details.hostname matches part 'canary'
                            actions:
                              automation_actions:
                                - name: Canary Slack Notification
                                  url: 'https://our-slack-listerner.test/send-notification'
                                  auto_send: true
                                  headers:
                                    - key: X-Notification-Source
                                      value: PagerDuty Incident Webhook
                                  parameters:
                                    - key: channel
                                      value: '#my-team-channel'
                                    - key: message
                                      value: Something is wrong with the canary deployment
                          - label: Never bother the on-call for info-level events outside of work hours
                            id: cd770384
                            conditions:
                              - expression: 'event.severity matches ''info'' and not (now in Mon,Tue,Wed,Thu,Fri 09:00:00 to 17:00:00 America/Los_Angeles)'
                            actions:
                              suppress: true
                  catch_all:
                    actions:
                      suppress: true
      responses:
        '200':
          description: The Service Orchestration object.
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ServiceOrchestration'
                  - type: object
                    properties:
                      warnings:
                        type: array
                        description: List of applicable warnings messages for each rule using a feature not available on your account plan.
                        items:
                          anyOf:
                            - $ref: '#/components/schemas/OrchestrationWarningIneligible'
              examples:
                response:
                  summary: Example Response
                  value:
                    orchestration_path:
                      type: service
                      parent:
                        id: PC2D9ML
                        self: 'https://api.pagerduty.com/service/PC2D9ML'
                        type: service_reference
                      self: 'https://api.pagerduty.com/event_orchestrations/service/PC2D9ML'
                      sets:
                        - id: start
                          rules:
                            - label: Always apply some consistent event transformations to all events
                              id: c91f72f3
                              conditions: []
                              actions:
                                variables:
                                  - name: hostname
                                    path: event.component
                                    value: 'hostname: (.*)'
                                    type: regex
                                extractions:
                                  - template: '{{variables.hostname}}'
                                    target: event.custom_details.hostname
                                  - source: event.source
                                    regex: www (.*) service
                                    target: event.source
                                pagerduty_automation_actions:
                                  - action_id: 01CSB5SMOKCKVRI5GN0LJG7SMB
                                route_to: step-two
                        - id: step-two
                          rules:
                            - label: All critical alerts should be treated as P1 incidents
                              id: 7c54529d
                              conditions:
                                - expression: event.severity matches 'critical'
                              actions:
                                annotate: 'Please use our P1 runbook: https://docs.test/p1-runbook'
                                priority: P0IN2KQ
                                suppress: false
                            - label: If there's something wrong on the canary let the team know about it in our deployments Slack channel
                              id: 1f6d9a33
                              conditions:
                                - expression: event.custom_details.hostname matches part 'canary'
                              actions:
                                automation_actions:
                                  - name: Canary Slack Notification
                                    url: 'https://our-slack-listerner.test/send-notification'
                                    auto_send: true
                                    headers:
                                      - key: X-Notification-Source
                                        value: PagerDuty Incident Webhook
                                    parameters:
                                      - key: channel
                                        value: '#my-team-channel'
                                      - key: message
                                        value: Something is wrong with the canary deployment
                            - label: Never bother the on-call for info-level events outside of work hours
                              id: cd770384
                              conditions:
                                - expression: 'event.severity matches ''info'' and not (now in Mon,Tue,Wed,Thu,Fri 09:00:00 to 17:00:00 America/Los_Angeles)'
                              actions:
                                suppress: true
                      catch_all:
                        actions:
                          suppress: true
                      created_at: '2021-11-18T16:42:01Z'
                      created_by:
                        id: P8B9WR8
                        self: 'https://api.pagerduty.com/users/P8B9WR8'
                        type: user_reference
                      updated_at: '2021-11-18T16:42:01Z'
                      updated_by:
                        id: P8B9WR8
                        self: 'https://api.pagerduty.com/users/P8B9WR8'
                        type: user_reference
                      version: rn1Mja13T1HBdmPChqFilSQXUW2fWXM_
                    warnings:
                      - feature: nested_rules
                        feature_type: nested_rules
                        message: 'This orchestration contains Nested Rules, which is not available on your account plan. The orchestration will be updated, however, only rules in the ''start'' set will be evaluated'
                        rule_id: null
                        warning_type: forbidden_feature
                      - feature: variables
                        feature_type: actions
                        message: 'This rule uses Dynamic Field Enrichment & Extraction, which is an action not available on your account plan. The rule will be updated, but the action will not be fired when the rule is evaluated'
                        rule_id: c91f72f3
                        warning_type: forbidden_feature
                      - feature: extractions
                        feature_type: actions
                        message: 'This rule uses Dynamic Field Enrichment & Extraction, which is an action not available on your account plan. The rule will be updated, but the action will not be fired when the rule is evaluated'
                        rule_id: c91f72f3
                        warning_type: forbidden_feature
                      - feature: pagerduty_automation_actions
                        feature_type: actions
                        message: 'This rule uses PagerDuty Automation Actions, which is an action not available on your account plan. The rule will be updated, but the action will not be fired when the rule is evaluated'
                        rule_id: c91f72f3
                        warning_type: forbidden_feature
                      - feature: automation_actions
                        feature_type: actions
                        message: 'This rule uses Automation Actions, which is an action not available on your account plan. The rule will be updated, but the action will not be fired when the rule is evaluated'
                        rule_id: 1f6d9a33
                        warning_type: forbidden_feature
                      - feature: recurring_condition
                        feature_type: conditions
                        message: 'This rule uses Recurring Condition, which is a condition not available on your account plan. The rule will be updated, but it will not be evaluated by events'
                        rule_id: cd770384
                        warning_type: forbidden_feature
        '400':
          $ref: '#/components/responses/ArgumentError'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/NotAllowed'
        '409':
          $ref: '#/components/responses/Conflict'
  '/event_orchestrations/services/{service_id}/active':
    get:
      x-pd-requires-scope: services.read
      tags:
        - Event Orchestrations
      operationId: getOrchActiveStatus
      summary: Get the Service Orchestration active status for a Service
      description: |
        Get a Service Orchestration's active status.

        A Service Orchestration allows you to set an active status based on whether an event will be evaluated against a service orchestration path (true) or service ruleset (false).

        For more information see the [API Concepts Document](../../api-reference/ZG9jOjI3NDc5Nzc-api-concepts#event-orchestrations)

        Scoped OAuth requires: `services.read`
      parameters:
        - $ref: '#/components/parameters/header_Accept'
        - $ref: '#/components/parameters/header_Content-Type'
        - $ref: '#/components/parameters/service_id'
      responses:
        '200':
          $ref: '#/components/responses/OrchestrationPathServiceActiveResponse'
        '400':
          $ref: '#/components/responses/ArgumentError'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
    put:
      x-pd-requires-scope: services.write
      tags:
        - Event Orchestrations
      operationId: updateOrchActiveStatus
      summary: Update the Service Orchestration active status for a Service
      description: |
        Update a Service Orchestration's active status.

        A Service Orchestration allows you to set an active status based on whether an event will be evaluated against a service orchestration path (true) or service ruleset (false).

        For more information see the [API Concepts Document](../../api-reference/ZG9jOjI3NDc5Nzc-api-concepts#event-orchestrations)

        Scoped OAuth requires: `services.write`
      parameters:
        - $ref: '#/components/parameters/header_Accept'
        - $ref: '#/components/parameters/header_Content-Type'
        - $ref: '#/components/parameters/service_id'
      requestBody:
        description: Update Service Orchestration's active status.
        content:
          application/json:
            schema:
              $ref: '#/components/responses/OrchestrationPathServiceActiveResponse/content/application~1json/schema'
            examples:
              request:
                summary: Example Request
                value:
                  active: false
      responses:
        '200':
          $ref: '#/components/responses/OrchestrationPathServiceActiveResponse'
        '400':
          $ref: '#/components/responses/ArgumentError'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/NotAllowed'
        '409':
          $ref: '#/components/responses/Conflict'

openapi: 3.0.0
info:
  title: KinesisAnalyticsV2
  version: 2.0.0
  x-serviceName: cloudcontrolapi
servers:
  - url: https://cloudcontrolapi.{region}.amazonaws.com
    variables:
      region:
        description: The AWS region
        enum:
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
          - us-gov-west-1
          - us-gov-east-1
          - ca-central-1
          - eu-north-1
          - eu-west-1
          - eu-west-2
          - eu-west-3
          - eu-central-1
          - eu-south-1
          - af-south-1
          - ap-northeast-1
          - ap-northeast-2
          - ap-northeast-3
          - ap-southeast-1
          - ap-southeast-2
          - ap-east-1
          - ap-south-1
          - sa-east-1
          - me-south-1
        default: us-east-1
    description: The CloudControlApi multi-region endpoint
  - url: https://cloudcontrolapi.{region}.amazonaws.com.cn
    variables:
      region:
        description: The AWS region
        enum:
          - cn-north-1
          - cn-northwest-1
        default: cn-north-1
    description: The CloudControlApi endpoint for China (Beijing) and China (Ningxia)
components:
  parameters:
    X-Amz-Content-Sha256:
      name: X-Amz-Content-Sha256
      in: header
      schema:
        type: string
      required: false
    X-Amz-Date:
      name: X-Amz-Date
      in: header
      schema:
        type: string
      required: false
    X-Amz-Algorithm:
      name: X-Amz-Algorithm
      in: header
      schema:
        type: string
      required: false
    X-Amz-Credential:
      name: X-Amz-Credential
      in: header
      schema:
        type: string
      required: false
    X-Amz-Security-Token:
      name: X-Amz-Security-Token
      in: header
      schema:
        type: string
      required: false
    X-Amz-Signature:
      name: X-Amz-Signature
      in: header
      schema:
        type: string
      required: false
    X-Amz-SignedHeaders:
      name: X-Amz-SignedHeaders
      in: header
      schema:
        type: string
      required: false
  x-cloud-control-schemas:
    AlreadyExistsException: {}
    CancelResourceRequestInput:
      properties:
        RequestToken:
          $ref: '#/components/x-cloud-control-schemas/RequestToken'
      required:
        - RequestToken
      title: CancelResourceRequestInput
      type: object
    CancelResourceRequestOutput:
      properties:
        ProgressEvent:
          $ref: '#/components/x-cloud-control-schemas/ProgressEvent'
      type: object
    ClientToken:
      maxLength: 128
      minLength: 1
      pattern: '[-A-Za-z0-9+/=]+'
      type: string
    ClientTokenConflictException: {}
    ConcurrentModificationException: {}
    ConcurrentOperationException: {}
    CreateResourceInput:
      properties:
        ClientToken:
          type: string
        DesiredState:
          allOf:
            - $ref: '#/components/x-cloud-control-schemas/Properties'
            - description: >-
                <p>Structured data format representing the desired state of the resource, consisting of that resource's properties and their desired values.</p> <note> <p>Cloud Control API currently supports JSON as a structured data format.</p> </note> <pre><code> &lt;p&gt;Specify the desired state as one of the following:&lt;/p&gt; &lt;ul&gt; &lt;li&gt; &lt;p&gt;A JSON blob&lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt;A local path containing the desired state in JSON data format&lt;/p&gt;
                &lt;/li&gt; &lt;/ul&gt; &lt;p&gt;For more information, see &lt;a href=&quot;https://docs.aws.amazon.com/cloudcontrolapi/latest/userguide/resource-operations-create.html#resource-operations-create-desiredstate&quot;&gt;Composing the desired state of the resource&lt;/a&gt; in the &lt;i&gt;Amazon Web Services Cloud Control API User Guide&lt;/i&gt;.&lt;/p&gt; &lt;p&gt;For more information about the properties of a specific resource, refer to the related topic for the resource in the
                &lt;a href=&quot;https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html&quot;&gt;Resource and property types reference&lt;/a&gt; in the &lt;i&gt;CloudFormation Users Guide&lt;/i&gt;.&lt;/p&gt; </code></pre>
        RoleArn:
          type: string
        TypeName:
          type: string
        TypeVersionId:
          type: string
      required:
        - DesiredState
      title: CreateResourceInput
      type: object
    CreateResourceOutput:
      properties:
        ProgressEvent:
          $ref: '#/components/x-cloud-control-schemas/ProgressEvent'
      type: object
    DeleteResourceInput:
      properties:
        ClientToken:
          type: string
        Identifier:
          $ref: '#/components/x-cloud-control-schemas/Identifier'
        RoleArn:
          type: string
        TypeName:
          type: string
        TypeVersionId:
          type: string
      required:
        - Identifier
      title: DeleteResourceInput
      type: object
    DeleteResourceOutput:
      properties:
        ProgressEvent:
          $ref: '#/components/x-cloud-control-schemas/ProgressEvent'
      type: object
    GeneralServiceException: {}
    GetResourceInput:
      properties:
        TypeName:
          $ref: '#/components/x-cloud-control-schemas/TypeName'
        Identifier:
          $ref: '#/components/x-cloud-control-schemas/Identifier'
        TypeVersionId:
          $ref: '#/components/x-cloud-control-schemas/TypeVersionId'
        RoleArn:
          $ref: '#/components/x-cloud-control-schemas/RoleArn'
      required:
        - TypeName
        - Identifier
      title: GetResourceInput
      type: object
    GetResourceOutput:
      properties:
        ResourceDescription:
          $ref: '#/components/x-cloud-control-schemas/ResourceDescription'
        TypeName:
          type: string
      type: object
    GetResourceRequestStatusInput:
      properties:
        RequestToken:
          $ref: '#/components/x-cloud-control-schemas/RequestToken'
      required:
        - RequestToken
      title: GetResourceRequestStatusInput
      type: object
    GetResourceRequestStatusOutput:
      properties:
        ProgressEvent:
          $ref: '#/components/x-cloud-control-schemas/ProgressEvent'
      type: object
    HandlerErrorCode:
      enum:
        - NotUpdatable
        - InvalidRequest
        - AccessDenied
        - InvalidCredentials
        - AlreadyExists
        - NotFound
        - ResourceConflict
        - Throttling
        - ServiceLimitExceeded
        - NotStabilized
        - GeneralServiceException
        - ServiceInternalError
        - ServiceTimeout
        - NetworkFailure
        - InternalFailure
      type: string
    HandlerFailureException: {}
    HandlerInternalFailureException: {}
    HandlerNextToken:
      maxLength: 2048
      minLength: 1
      pattern: .+
      type: string
    Identifier:
      maxLength: 1024
      minLength: 1
      pattern: .+
      type: string
    InvalidCredentialsException: {}
    InvalidRequestException: {}
    MaxResults:
      maximum: 100
      minimum: 1
      type: integer
    NetworkFailureException: {}
    NextToken:
      maxLength: 2048
      minLength: 1
      pattern: '[-A-Za-z0-9+/=]+'
      type: string
    NotStabilizedException: {}
    NotUpdatableException: {}
    Operation:
      enum:
        - CREATE
        - DELETE
        - UPDATE
      type: string
    OperationStatus:
      enum:
        - PENDING
        - IN_PROGRESS
        - SUCCESS
        - FAILED
        - CANCEL_IN_PROGRESS
        - CANCEL_COMPLETE
      type: string
    OperationStatuses:
      items:
        $ref: '#/components/x-cloud-control-schemas/OperationStatus'
      type: array
    Operations:
      items:
        $ref: '#/components/x-cloud-control-schemas/Operation'
      type: array
    PatchDocument:
      format: password
      maxLength: 65536
      minLength: 1
      pattern: '[\s\S]*'
      type: string
    PrivateTypeException: {}
    ProgressEvent:
      example:
        ErrorCode: string
        EventTime: number
        Identifier: string
        Operation: string
        OperationStatus: string
        RequestToken: string
        ResourceModel: string
        RetryAfter: number
        StatusMessage: string
        TypeName: string
      properties:
        ErrorCode:
          type: string
        EventTime:
          type: number
        Identifier:
          type: string
        Operation:
          type: string
        OperationStatus:
          type: string
        RequestToken:
          type: string
        ResourceModel:
          type: string
        RetryAfter:
          type: number
        StatusMessage:
          type: string
        TypeName:
          type: string
      type: object
    Properties:
      format: password
      maxLength: 65536
      minLength: 1
      pattern: '[\s\S]*'
      type: string
    RequestToken:
      maxLength: 128
      minLength: 1
      pattern: '[-A-Za-z0-9+/=]+'
      type: string
    RequestTokenNotFoundException: {}
    ResourceConflictException: {}
    ResourceDescription:
      description: Represents information about a provisioned resource.
      properties:
        Identifier:
          type: string
        Properties:
          type: string
      type: object
    ResourceDescriptions:
      items:
        $ref: '#/components/x-cloud-control-schemas/ResourceDescription'
      type: array
    ResourceNotFoundException: {}
    ResourceRequestStatusFilter:
      description: The filter criteria to use in determining the requests returned.
      properties:
        undefined:
          allOf:
            - $ref: '#/components/x-cloud-control-schemas/OperationStatuses'
            - description: >-
                <p>The operation statuses to include in the filter.</p> <ul> <li> <p> <code>PENDING</code>: The operation has been requested, but not yet initiated.</p> </li> <li> <p> <code>IN_PROGRESS</code>: The operation is in progress.</p> </li> <li> <p> <code>SUCCESS</code>: The operation completed.</p> </li> <li> <p> <code>FAILED</code>: The operation failed.</p> </li> <li> <p> <code>CANCEL_IN_PROGRESS</code>: The operation is in the process of being canceled.</p> </li> <li> <p>
                <code>CANCEL_COMPLETE</code>: The operation has been canceled.</p> </li> </ul>
      type: object
    ResourceRequestStatusSummaries:
      items:
        $ref: '#/components/x-cloud-control-schemas/ProgressEvent'
      type: array
    RoleArn:
      maxLength: 2048
      minLength: 20
      pattern: arn:.+:iam::[0-9]{12}:role/.+
      type: string
    ServiceInternalErrorException: {}
    ServiceLimitExceededException: {}
    StatusMessage:
      maxLength: 1024
      minLength: 0
      pattern: '[\s\S]*'
      type: string
    ThrottlingException: {}
    Timestamp:
      format: date-time
      type: string
    TypeName:
      maxLength: 196
      minLength: 10
      pattern: '[A-Za-z0-9]{2,64}::[A-Za-z0-9]{2,64}::[A-Za-z0-9]{2,64}'
      type: string
    TypeNotFoundException: {}
    TypeVersionId:
      maxLength: 128
      minLength: 1
      pattern: '[A-Za-z0-9-]+'
      type: string
    UnsupportedActionException: {}
    UpdateResourceInput:
      properties:
        undefined:
          allOf:
            - $ref: '#/components/x-cloud-control-schemas/PatchDocument'
      required:
        - Identifier
        - PatchDocument
      title: UpdateResourceInput
      type: object
    UpdateResourceOutput:
      properties:
        ProgressEvent:
          $ref: '#/components/x-cloud-control-schemas/ProgressEvent'
      type: object
  schemas:
    Arn:
      description: The Amazon Resource Name
      type: string
      minLength: 1
      maxLength: 2048
      pattern: ^arn:.*$
    ApplicationConfiguration:
      description: Specifies the creation parameters for a Kinesis Data Analytics application.
      type: object
      additionalProperties: false
      properties:
        ApplicationCodeConfiguration:
          description: The code location and type parameters for a Flink-based Kinesis Data Analytics application.
          $ref: '#/components/schemas/ApplicationCodeConfiguration'
        ApplicationSnapshotConfiguration:
          description: Describes whether snapshots are enabled for a Flink-based Kinesis Data Analytics application.
          $ref: '#/components/schemas/ApplicationSnapshotConfiguration'
        ApplicationSystemRollbackConfiguration:
          description: Describes whether system initiated rollbacks are enabled for a Flink-based Kinesis Data Analytics application.
          $ref: '#/components/schemas/ApplicationSystemRollbackConfiguration'
        EnvironmentProperties:
          description: Describes execution properties for a Flink-based Kinesis Data Analytics application.
          $ref: '#/components/schemas/EnvironmentProperties'
        FlinkApplicationConfiguration:
          description: The creation and update parameters for a Flink-based Kinesis Data Analytics application.
          $ref: '#/components/schemas/FlinkApplicationConfiguration'
        SqlApplicationConfiguration:
          description: The creation and update parameters for a SQL-based Kinesis Data Analytics application.
          $ref: '#/components/schemas/SqlApplicationConfiguration'
        ZeppelinApplicationConfiguration:
          description: The configuration parameters for a Kinesis Data Analytics Studio notebook.
          $ref: '#/components/schemas/ZeppelinApplicationConfiguration'
        VpcConfigurations:
          description: The array of descriptions of VPC configurations available to the application.
          $ref: '#/components/schemas/VpcConfigurations'
    RunConfiguration:
      description: Identifies the run configuration (start parameters) of a Kinesis Data Analytics application. This section is evaluated only on stack updates for applications in running RUNNING state and has no effect during manual application start.
      type: object
      additionalProperties: false
      properties:
        ApplicationRestoreConfiguration:
          description: Describes the restore behavior of a restarting application.
          $ref: '#/components/schemas/ApplicationRestoreConfiguration'
        FlinkRunConfiguration:
          description: Describes the starting parameters for a Flink-based Kinesis Data Analytics application.
          $ref: '#/components/schemas/FlinkRunConfiguration'
    ApplicationRestoreConfiguration:
      description: Describes the restore behavior of a restarting application.
      type: object
      additionalProperties: false
      properties:
        ApplicationRestoreType:
          description: Specifies how the application should be restored.
          type: string
          enum:
            - SKIP_RESTORE_FROM_SNAPSHOT
            - RESTORE_FROM_LATEST_SNAPSHOT
            - RESTORE_FROM_CUSTOM_SNAPSHOT
        SnapshotName:
          description: The identifier of an existing snapshot of application state to use to restart an application. The application uses this value if RESTORE_FROM_CUSTOM_SNAPSHOT is specified for the ApplicationRestoreType.
          type: string
          minLength: 1
          maxLength: 256
          pattern: ^[a-zA-Z0-9_.-]+$
      required:
        - ApplicationRestoreType
    FlinkRunConfiguration:
      description: Describes the starting parameters for a Flink-based Kinesis Data Analytics application.
      type: object
      additionalProperties: false
      properties:
        AllowNonRestoredState:
          description: When restoring from a snapshot, specifies whether the runtime is allowed to skip a state that cannot be mapped to the new program. Defaults to false. If you update your application without specifying this parameter, AllowNonRestoredState will be set to false, even if it was previously set to true.
          type: boolean
    ApplicationCodeConfiguration:
      description: Describes code configuration for an application.
      type: object
      additionalProperties: false
      properties:
        CodeContent:
          description: The location and type of the application code.
          $ref: '#/components/schemas/CodeContent'
        CodeContentType:
          description: Specifies whether the code content is in text or zip format.
          type: string
          enum:
            - PLAINTEXT
            - ZIPFILE
      required:
        - CodeContentType
        - CodeContent
    CodeContent:
      description: Specifies either the application code, or the location of the application code, for a Flink-based Kinesis Data Analytics application.
      type: object
      additionalProperties: false
      properties:
        ZipFileContent:
          description: The zip-format code for a Flink-based Kinesis Data Analytics application.
          type: string
        S3ContentLocation:
          description: Information about the Amazon S3 bucket that contains the application code.
          $ref: '#/components/schemas/S3ContentLocation'
        TextContent:
          description: The text-format code for a Flink-based Kinesis Data Analytics application.
          type: string
          minLength: 1
          maxLength: 102400
    S3ContentLocation:
      description: The location of an application or a custom artifact.
      type: object
      additionalProperties: false
      properties:
        BucketARN:
          description: The Amazon Resource Name (ARN) for the S3 bucket containing the application code.
          $ref: '#/components/schemas/Arn'
        FileKey:
          description: The file key for the object containing the application code.
          type: string
          minLength: 1
          maxLength: 1024
        ObjectVersion:
          description: The version of the object containing the application code.
          type: string
          minLength: 1
          maxLength: 1024
      required:
        - BucketARN
        - FileKey
    ApplicationSnapshotConfiguration:
      description: Describes whether snapshots are enabled for a Flink-based Kinesis Data Analytics application.
      type: object
      additionalProperties: false
      properties:
        SnapshotsEnabled:
          description: Describes whether snapshots are enabled for a Flink-based Kinesis Data Analytics application.
          type: boolean
      required:
        - SnapshotsEnabled
    ApplicationSystemRollbackConfiguration:
      description: Describes whether system initiated rollbacks are enabled for a Flink-based Kinesis Data Analytics application.
      type: object
      additionalProperties: false
      properties:
        RollbackEnabled:
          description: Describes whether system initiated rollbacks are enabled for a Flink-based Kinesis Data Analytics application.
          type: boolean
      required:
        - RollbackEnabled
    EnvironmentProperties:
      description: Describes execution properties for a Flink-based Kinesis Data Analytics application.
      type: object
      additionalProperties: false
      properties:
        PropertyGroups:
          description: Describes the execution property groups.
          type: array
          uniqueItems: false
          x-insertionOrder: false
          maxItems: 50
          items:
            $ref: '#/components/schemas/PropertyGroup'
    PropertyGroup:
      description: Property key-value pairs passed into an application.
      type: object
      additionalProperties: false
      properties:
        PropertyGroupId:
          description: Describes the key of an application execution property key-value pair.
          type: string
          minLength: 1
          maxLength: 50
          pattern: ^[a-zA-Z0-9_.-]+$
        PropertyMap:
          description: Describes the value of an application execution property key-value pair.
          type: object
          additionalProperties: false
          maxProperties: 50
          x-patternProperties:
            ^.{1,2048}$:
              type: string
              minLength: 1
              maxLength: 2048
    FlinkApplicationConfiguration:
      description: Describes configuration parameters for a Flink-based Kinesis Data Analytics application or a Studio notebook.
      type: object
      additionalProperties: false
      properties:
        CheckpointConfiguration:
          description: Describes an application's checkpointing configuration. Checkpointing is the process of persisting application state for fault tolerance. For more information, see Checkpoints for Fault Tolerance in the Apache Flink Documentation.
          $ref: '#/components/schemas/CheckpointConfiguration'
        MonitoringConfiguration:
          description: Describes configuration parameters for Amazon CloudWatch logging for an application.
          $ref: '#/components/schemas/MonitoringConfiguration'
        ParallelismConfiguration:
          description: Describes parameters for how an application executes multiple tasks simultaneously.
          $ref: '#/components/schemas/ParallelismConfiguration'
    CheckpointConfiguration:
      description: Describes an application's checkpointing configuration. Checkpointing is the process of persisting application state for fault tolerance. For more information, see Checkpoints for Fault Tolerance in the Apache Flink Documentation.
      type: object
      additionalProperties: false
      properties:
        ConfigurationType:
          description: Describes whether the application uses Kinesis Data Analytics' default checkpointing behavior. You must set this property to `CUSTOM` in order to set the `CheckpointingEnabled`, `CheckpointInterval`, or `MinPauseBetweenCheckpoints` parameters.
          type: string
          enum:
            - DEFAULT
            - CUSTOM
        CheckpointingEnabled:
          description: Describes whether checkpointing is enabled for a Flink-based Kinesis Data Analytics application.
          type: boolean
        CheckpointInterval:
          description: Describes the interval in milliseconds between checkpoint operations.
          type: integer
          format: int64
          minimum: 1
          maximum: 9223372036854776000
        MinPauseBetweenCheckpoints:
          description: Describes the minimum time in milliseconds after a checkpoint operation completes that a new checkpoint operation can start. If a checkpoint operation takes longer than the CheckpointInterval, the application otherwise performs continual checkpoint operations. For more information, see Tuning Checkpointing in the Apache Flink Documentation.
          type: integer
          format: int64
          minimum: 0
          maximum: 9223372036854776000
      required:
        - ConfigurationType
    MonitoringConfiguration:
      description: Describes configuration parameters for Amazon CloudWatch logging for a Java-based Kinesis Data Analytics application. For more information about CloudWatch logging, see Monitoring.
      type: object
      additionalProperties: false
      properties:
        ConfigurationType:
          description: Describes whether to use the default CloudWatch logging configuration for an application. You must set this property to CUSTOM in order to set the LogLevel or MetricsLevel parameters.
          type: string
          enum:
            - DEFAULT
            - CUSTOM
        MetricsLevel:
          description: Describes the granularity of the CloudWatch Logs for an application. The Parallelism level is not recommended for applications with a Parallelism over 64 due to excessive costs.
          type: string
          enum:
            - APPLICATION
            - OPERATOR
            - PARALLELISM
            - TASK
        LogLevel:
          description: Describes the verbosity of the CloudWatch Logs for an application.
          type: string
          enum:
            - DEBUG
            - INFO
            - WARN
            - ERROR
      required:
        - ConfigurationType
    ParallelismConfiguration:
      description: Describes parameters for how a Flink-based Kinesis Data Analytics application executes multiple tasks simultaneously. For more information about parallelism, see Parallel Execution in the Apache Flink Documentation
      type: object
      additionalProperties: false
      properties:
        ConfigurationType:
          description: Describes whether the application uses the default parallelism for the Kinesis Data Analytics service. You must set this property to `CUSTOM` in order to change your application's `AutoScalingEnabled`, `Parallelism`, or `ParallelismPerKPU` properties.
          type: string
          enum:
            - CUSTOM
            - DEFAULT
        ParallelismPerKPU:
          description: Describes the number of parallel tasks that a Java-based Kinesis Data Analytics application can perform per Kinesis Processing Unit (KPU) used by the application. For more information about KPUs, see Amazon Kinesis Data Analytics Pricing.
          type: integer
          minimum: 1
        Parallelism:
          description: Describes the initial number of parallel tasks that a Java-based Kinesis Data Analytics application can perform. The Kinesis Data Analytics service can increase this number automatically if ParallelismConfiguration:AutoScalingEnabled is set to true.
          type: integer
          minimum: 1
        AutoScalingEnabled:
          description: Describes whether the Kinesis Data Analytics service can increase the parallelism of the application in response to increased throughput.
          type: boolean
      required:
        - ConfigurationType
    SqlApplicationConfiguration:
      description: Describes the inputs, outputs, and reference data sources for a SQL-based Kinesis Data Analytics application.
      type: object
      additionalProperties: false
      properties:
        Inputs:
          description: The array of Input objects describing the input streams used by the application.
          type: array
          maxItems: 1
          uniqueItems: false
          x-insertionOrder: false
          items:
            $ref: '#/components/schemas/Input'
    Input:
      description: When you configure the application input for a SQL-based Kinesis Data Analytics application, you specify the streaming source, the in-application stream name that is created, and the mapping between the two.
      type: object
      additionalProperties: false
      properties:
        NamePrefix:
          description: The name prefix to use when creating an in-application stream. Suppose that you specify a prefix `"MyInApplicationStream"`. Kinesis Data Analytics then creates one or more (as per the InputParallelism count you specified) in-application streams with the names `"MyInApplicationStream_001"`, `"MyInApplicationStream_002"`, and so on.
          type: string
          minLength: 1
          maxLength: 32
          pattern: ^[^-\s<>&]*$
        InputSchema:
          description: Describes the format of the data in the streaming source, and how each data element maps to corresponding columns in the in-application stream that is being created.
          $ref: '#/components/schemas/InputSchema'
        KinesisStreamsInput:
          description: If the streaming source is an Amazon Kinesis data stream, identifies the stream's Amazon Resource Name (ARN).
          $ref: '#/components/schemas/KinesisStreamsInput'
        KinesisFirehoseInput:
          description: If the streaming source is an Amazon Kinesis Data Firehose delivery stream, identifies the delivery stream's ARN.
          $ref: '#/components/schemas/KinesisFirehoseInput'
        InputProcessingConfiguration:
          description: The InputProcessingConfiguration for the input. An input processor transforms records as they are received from the stream, before the application's SQL code executes. Currently, the only input processing configuration available is InputLambdaProcessor.
          $ref: '#/components/schemas/InputProcessingConfiguration'
        InputParallelism:
          description: Describes the number of in-application streams to create.
          $ref: '#/components/schemas/InputParallelism'
      required:
        - NamePrefix
        - InputSchema
    InputSchema:
      description: For a SQL-based Kinesis Data Analytics application, describes the format of the data in the streaming source, and how each data element maps to corresponding columns created in the in-application stream.
      type: object
      additionalProperties: false
      properties:
        RecordEncoding:
          description: Specifies the encoding of the records in the streaming source. For example, UTF-8.
          type: string
          enum:
            - UTF-8
        RecordColumns:
          description: A list of `RecordColumn` objects.
          type: array
          uniqueItems: false
          x-insertionOrder: false
          maxItems: 1000
          items:
            $ref: '#/components/schemas/RecordColumn'
        RecordFormat:
          description: Specifies the format of the records on the streaming source.
          $ref: '#/components/schemas/RecordFormat'
      required:
        - RecordColumns
        - RecordFormat
    RecordColumn:
      description: |-
        For a SQL-based Kinesis Data Analytics application, describes the mapping of each data element in the streaming source to the corresponding column in the in-application stream.
        Also used to describe the format of the reference data source.
      type: object
      additionalProperties: false
      properties:
        Mapping:
          description: A reference to the data element in the streaming input or the reference data source.
          type: string
          minLength: 1
          maxLength: 65535
        Name:
          description: The name of the column that is created in the in-application input stream or reference table.
          type: string
          minLength: 1
          maxLength: 256
          pattern: ^[^-\s<>&]*$
        SqlType:
          description: The type of column created in the in-application input stream or reference table.
          type: string
          minLength: 1
          maxLength: 100
      required:
        - SqlType
        - Name
    RecordFormat:
      description: For a SQL-based Kinesis Data Analytics application, describes the record format and relevant mapping information that should be applied to schematize the records on the stream.
      type: object
      additionalProperties: false
      properties:
        RecordFormatType:
          description: The type of record format.
          type: string
          enum:
            - CSV
            - JSON
        MappingParameters:
          description: When you configure application input at the time of creating or updating an application, provides additional mapping information specific to the record format (such as JSON, CSV, or record fields delimited by some delimiter) on the streaming source.
          $ref: '#/components/schemas/MappingParameters'
      required:
        - RecordFormatType
    MappingParameters:
      description: When you configure a SQL-based Kinesis Data Analytics application's input at the time of creating or updating an application, provides additional mapping information specific to the record format (such as JSON, CSV, or record fields delimited by some delimiter) on the streaming source.
      type: object
      additionalProperties: false
      properties:
        CSVMappingParameters:
          description: Provides additional mapping information when the record format uses delimiters (for example, CSV).
          $ref: '#/components/schemas/CSVMappingParameters'
        JSONMappingParameters:
          description: Provides additional mapping information when JSON is the record format on the streaming source.
          $ref: '#/components/schemas/JSONMappingParameters'
    CSVMappingParameters:
      description: |-
        For a SQL-based Kinesis Data Analytics application, provides additional mapping information when the record format uses delimiters, such as CSV. For example, the following sample records use CSV format, where the records use the '\n' as the row delimiter and a comma (",") as the column delimiter:
        `"name1", "address1"`
        `"name2", "address2"`
      type: object
      additionalProperties: false
      properties:
        RecordColumnDelimiter:
          description: The column delimiter. For example, in a CSV format, a comma (",") is the typical column delimiter.
          type: string
          minLength: 1
          maxLength: 1024
        RecordRowDelimiter:
          description: The row delimiter. For example, in a CSV format, '\n' is the typical row delimiter.
          type: string
          minLength: 1
          maxLength: 1024
      required:
        - RecordRowDelimiter
        - RecordColumnDelimiter
    JSONMappingParameters:
      description: For a SQL-based Kinesis Data Analytics application, provides additional mapping information when JSON is the record format on the streaming source.
      type: object
      additionalProperties: false
      properties:
        RecordRowPath:
          description: The path to the top-level parent that contains the records.
          type: string
          minLength: 1
          maxLength: 65535
          pattern: ^(?=^\$)(?=^\S+$).*$
      required:
        - RecordRowPath
    KinesisStreamsInput:
      description: Identifies a Kinesis data stream as the streaming source. You provide the stream's Amazon Resource Name (ARN).
      type: object
      additionalProperties: false
      properties:
        ResourceARN:
          description: The ARN of the input Kinesis data stream to read.
          $ref: '#/components/schemas/Arn'
      required:
        - ResourceARN
    KinesisFirehoseInput:
      description: For a SQL-based Kinesis Data Analytics application, identifies a Kinesis Data Firehose delivery stream as the streaming source. You provide the delivery stream's Amazon Resource Name (ARN).
      type: object
      additionalProperties: false
      properties:
        ResourceARN:
          description: The Amazon Resource Name (ARN) of the delivery stream.
          $ref: '#/components/schemas/Arn'
      required:
        - ResourceARN
    InputProcessingConfiguration:
      description: For an SQL-based Amazon Kinesis Data Analytics application, describes a processor that is used to preprocess the records in the stream before being processed by your application code. Currently, the only input processor available is Amazon Lambda.
      type: object
      additionalProperties: false
      properties:
        InputLambdaProcessor:
          description: The InputLambdaProcessor that is used to preprocess the records in the stream before being processed by your application code.
          $ref: '#/components/schemas/InputLambdaProcessor'
    InputLambdaProcessor:
      description: An object that contains the Amazon Resource Name (ARN) of the Amazon Lambda function that is used to preprocess records in the stream in a SQL-based Kinesis Data Analytics application.
      type: object
      additionalProperties: false
      properties:
        ResourceARN:
          description: The ARN of the Amazon Lambda function that operates on records in the stream.
          $ref: '#/components/schemas/Arn'
      required:
        - ResourceARN
    InputParallelism:
      description: For a SQL-based Kinesis Data Analytics application, describes the number of in-application streams to create for a given streaming source.
      type: object
      additionalProperties: false
      properties:
        Count:
          description: The number of in-application streams to create.
          type: integer
          minimum: 1
          maximum: 64
    ZeppelinApplicationConfiguration:
      description: The configuration of a Kinesis Data Analytics Studio notebook.
      type: object
      additionalProperties: false
      properties:
        CatalogConfiguration:
          description: The Amazon Glue Data Catalog that you use in queries in a Kinesis Data Analytics Studio notebook.
          $ref: '#/components/schemas/CatalogConfiguration'
        MonitoringConfiguration:
          description: The monitoring configuration of a Kinesis Data Analytics Studio notebook.
          $ref: '#/components/schemas/ZeppelinMonitoringConfiguration'
        DeployAsApplicationConfiguration:
          description: The information required to deploy a Kinesis Data Analytics Studio notebook as an application with durable state.
          $ref: '#/components/schemas/DeployAsApplicationConfiguration'
        CustomArtifactsConfiguration:
          description: A list of CustomArtifactConfiguration objects.
          $ref: '#/components/schemas/CustomArtifactsConfiguration'
    CatalogConfiguration:
      description: The configuration parameters for the default Amazon Glue database. You use this database for SQL queries that you write in a Kinesis Data Analytics Studio notebook.
      type: object
      additionalProperties: false
      properties:
        GlueDataCatalogConfiguration:
          description: The configuration parameters for the default Amazon Glue database. You use this database for Apache Flink SQL queries and table API transforms that you write in a Kinesis Data Analytics Studio notebook.
          $ref: '#/components/schemas/GlueDataCatalogConfiguration'
    GlueDataCatalogConfiguration:
      description: The configuration of the Glue Data Catalog that you use for Apache Flink SQL queries and table API transforms that you write in an application.
      type: object
      additionalProperties: false
      properties:
        DatabaseARN:
          description: The Amazon Resource Name (ARN) of the database.
          $ref: '#/components/schemas/Arn'
    ZeppelinMonitoringConfiguration:
      description: Describes configuration parameters for Amazon CloudWatch logging for a Kinesis Data Analytics Studio notebook. For more information about CloudWatch logging, see Monitoring.
      type: object
      additionalProperties: false
      properties:
        LogLevel:
          description: The verbosity of the CloudWatch Logs for an application. You can set it to `INFO`, `WARN`, `ERROR`, or `DEBUG`.
          type: string
          enum:
            - DEBUG
            - INFO
            - WARN
            - ERROR
    DeployAsApplicationConfiguration:
      description: The information required to deploy a Kinesis Data Analytics Studio notebook as an application with durable state.
      type: object
      additionalProperties: false
      properties:
        S3ContentLocation:
          description: The description of an Amazon S3 object that contains the Amazon Data Analytics application, including the Amazon Resource Name (ARN) of the S3 bucket, the name of the Amazon S3 object that contains the data, and the version number of the Amazon S3 object that contains the data.
          $ref: '#/components/schemas/S3ContentBaseLocation'
      required:
        - S3ContentLocation
    S3ContentBaseLocation:
      description: The base location of the Amazon Data Analytics application.
      type: object
      additionalProperties: false
      properties:
        BucketARN:
          description: The Amazon Resource Name (ARN) of the S3 bucket.
          $ref: '#/components/schemas/Arn'
        BasePath:
          description: The base path for the S3 bucket.
          type: string
          minLength: 1
          maxLength: 1024
          pattern: ^[a-zA-Z0-9/!-_.*'()]+$
      required:
        - BucketARN
    CustomArtifactsConfiguration:
      description: A list of CustomArtifactConfiguration objects.
      type: array
      uniqueItems: false
      x-insertionOrder: false
      maxItems: 50
      items:
        description: The configuration of connectors and user-defined functions.
        $ref: '#/components/schemas/CustomArtifactConfiguration'
    CustomArtifactConfiguration:
      description: The configuration of connectors and user-defined functions.
      type: object
      additionalProperties: false
      properties:
        ArtifactType:
          description: Set this to either `UDF` or `DEPENDENCY_JAR`. `UDF` stands for user-defined functions. This type of artifact must be in an S3 bucket. A `DEPENDENCY_JAR` can be in either Maven or an S3 bucket.
          type: string
          enum:
            - DEPENDENCY_JAR
            - UDF
        MavenReference:
          description: The parameters required to fully specify a Maven reference.
          $ref: '#/components/schemas/MavenReference'
        S3ContentLocation:
          description: The location of the custom artifacts.
          $ref: '#/components/schemas/S3ContentLocation'
      required:
        - ArtifactType
    MavenReference:
      description: The information required to specify a Maven reference. You can use Maven references to specify dependency JAR files.
      type: object
      additionalProperties: false
      properties:
        ArtifactId:
          description: The artifact ID of the Maven reference.
          type: string
          minLength: 1
          maxLength: 256
          pattern: ^[a-zA-Z0-9_.-]+$
        GroupId:
          description: The group ID of the Maven reference.
          type: string
          minLength: 1
          maxLength: 256
          pattern: ^[a-zA-Z0-9_.-]+$
        Version:
          description: The version of the Maven reference.
          type: string
          minLength: 1
          maxLength: 256
          pattern: ^[a-zA-Z0-9_.-]+$
      required:
        - ArtifactId
        - GroupId
        - Version
    VpcConfigurations:
      description: The array of descriptions of VPC configurations available to the application.
      type: array
      uniqueItems: false
      x-insertionOrder: false
      maxItems: 1
      items:
        description: Describes the parameters of a VPC used by the application.
        $ref: '#/components/schemas/VpcConfiguration'
    VpcConfiguration:
      description: Describes the parameters of a VPC used by the application.
      type: object
      additionalProperties: false
      properties:
        SecurityGroupIds:
          description: The array of SecurityGroup IDs used by the VPC configuration.
          type: array
          uniqueItems: false
          x-insertionOrder: false
          minItems: 1
          maxItems: 5
          items:
            type: string
        SubnetIds:
          description: The array of Subnet IDs used by the VPC configuration.
          type: array
          uniqueItems: false
          x-insertionOrder: false
          minItems: 1
          maxItems: 16
          items:
            type: string
      required:
        - SecurityGroupIds
        - SubnetIds
    ApplicationMaintenanceConfiguration:
      description: Describes the maintenance configuration for the application.
      type: object
      additionalProperties: false
      properties:
        ApplicationMaintenanceWindowStartTime:
          description: The start time for the maintenance window.
          type: string
          pattern: ^([01][0-9]|2[0-3]):[0-5][0-9]$
      required:
        - ApplicationMaintenanceWindowStartTime
    Tag:
      description: A key-value pair that identifies an application.
      type: object
      additionalProperties: false
      properties:
        Key:
          description: 'The key name of the tag. You can specify a value that''s 1 to 128 Unicode characters in length and can''t be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -.'
          type: string
          minLength: 1
          maxLength: 128
        Value:
          description: The value for the tag. You can specify a value that's 0 to 256 characters in length.
          type: string
          minLength: 0
          maxLength: 256
      required:
        - Key
        - Value
    Application:
      type: object
      properties:
        ApplicationConfiguration:
          description: Use this parameter to configure the application.
          $ref: '#/components/schemas/ApplicationConfiguration'
        ApplicationDescription:
          description: The description of the application.
          type: string
          default: ''
          minLength: 0
          maxLength: 1024
        ApplicationMode:
          description: To create a Kinesis Data Analytics Studio notebook, you must set the mode to `INTERACTIVE`. However, for a Kinesis Data Analytics for Apache Flink application, the mode is optional.
          type: string
          enum:
            - INTERACTIVE
            - STREAMING
        ApplicationName:
          description: The name of the application.
          type: string
          minLength: 1
          maxLength: 128
          pattern: ^[a-zA-Z0-9_.-]+$
        RuntimeEnvironment:
          description: The runtime environment for the application.
          type: string
        ServiceExecutionRole:
          description: Specifies the IAM role that the application uses to access external resources.
          $ref: '#/components/schemas/Arn'
        RunConfiguration:
          description: Specifies run configuration (start parameters) of a Kinesis Data Analytics application. Evaluated on update for RUNNING applications an only.
          $ref: '#/components/schemas/RunConfiguration'
        ApplicationMaintenanceConfiguration:
          description: Used to configure start of maintenance window.
          $ref: '#/components/schemas/ApplicationMaintenanceConfiguration'
        Tags:
          description: A list of one or more tags to assign to the application. A tag is a key-value pair that identifies an application. Note that the maximum number of application tags includes system tags. The maximum number of user-defined application tags is 50.
          type: array
          uniqueItems: false
          x-insertionOrder: false
          minItems: 1
          maxItems: 50
          items:
            $ref: '#/components/schemas/Tag'
      required:
        - RuntimeEnvironment
        - ServiceExecutionRole
      x-stackql-resource-name: application
      description: Creates an Amazon Kinesis Data Analytics application. For information about creating a Kinesis Data Analytics application, see [Creating an Application](https://docs.aws.amazon.com/kinesisanalytics/latest/java/getting-started.html).
      x-type-name: AWS::KinesisAnalyticsV2::Application
      x-stackql-primary-identifier:
        - ApplicationName
      x-create-only-properties:
        - ApplicationName
        - ApplicationMode
      x-write-only-properties:
        - RunConfiguration
        - ApplicationConfiguration/EnvironmentProperties
        - ApplicationConfiguration/ApplicationCodeConfiguration/CodeContent/ZipFileContent
      x-required-properties:
        - RuntimeEnvironment
        - ServiceExecutionRole
      x-tagging:
        taggable: true
        tagOnCreate: true
        tagUpdatable: true
        cloudFormationSystemTags: true
        tagProperty: /properties/Tags
      x-required-permissions:
        create:
          - iam:PassRole
          - kinesisanalytics:CreateApplication
          - kinesisanalytics:DescribeApplication
          - kinesisanalytics:ListTagsForResource
          - kinesisanalytics:UpdateApplicationMaintenanceConfiguration
        read:
          - kinesisanalytics:DescribeApplication
          - kinesisanalytics:ListTagsForResource
        update:
          - kinesisanalytics:UpdateApplication
          - kinesisanalytics:DescribeApplication
          - kinesisanalytics:TagResource
          - kinesisanalytics:UntagResource
          - kinesisanalytics:AddApplicationVpcConfiguration
          - kinesisanalytics:DeleteApplicationVpcConfiguration
          - kinesisanalytics:UpdateApplicationMaintenanceConfiguration
          - kinesisanalytics:ListTagsForResource
        delete:
          - kinesisanalytics:DescribeApplication
          - kinesisanalytics:DeleteApplication
        list:
          - kinesisanalytics:ListApplications
    CreateApplicationRequest:
      properties:
        ClientToken:
          type: string
        RoleArn:
          type: string
        TypeName:
          type: string
        TypeVersionId:
          type: string
        DesiredState:
          type: object
          properties:
            ApplicationConfiguration:
              description: Use this parameter to configure the application.
              $ref: '#/components/schemas/ApplicationConfiguration'
            ApplicationDescription:
              description: The description of the application.
              type: string
              default: ''
              minLength: 0
              maxLength: 1024
            ApplicationMode:
              description: To create a Kinesis Data Analytics Studio notebook, you must set the mode to `INTERACTIVE`. However, for a Kinesis Data Analytics for Apache Flink application, the mode is optional.
              type: string
              enum:
                - INTERACTIVE
                - STREAMING
            ApplicationName:
              description: The name of the application.
              type: string
              minLength: 1
              maxLength: 128
              pattern: ^[a-zA-Z0-9_.-]+$
            RuntimeEnvironment:
              description: The runtime environment for the application.
              type: string
            ServiceExecutionRole:
              description: Specifies the IAM role that the application uses to access external resources.
              $ref: '#/components/schemas/Arn'
            RunConfiguration:
              description: Specifies run configuration (start parameters) of a Kinesis Data Analytics application. Evaluated on update for RUNNING applications an only.
              $ref: '#/components/schemas/RunConfiguration'
            ApplicationMaintenanceConfiguration:
              description: Used to configure start of maintenance window.
              $ref: '#/components/schemas/ApplicationMaintenanceConfiguration'
            Tags:
              description: A list of one or more tags to assign to the application. A tag is a key-value pair that identifies an application. Note that the maximum number of application tags includes system tags. The maximum number of user-defined application tags is 50.
              type: array
              uniqueItems: false
              x-insertionOrder: false
              minItems: 1
              maxItems: 50
              items:
                $ref: '#/components/schemas/Tag'
          x-stackQL-stringOnly: true
      x-title: CreateApplicationRequest
      type: object
      required: []
  securitySchemes:
    hmac:
      type: apiKey
      name: Authorization
      in: header
      description: Amazon Signature authorization v4
      x-amazon-apigateway-authtype: awsSigv4
  x-stackQL-resources:
    applications:
      name: applications
      id: aws.kinesisanalyticsv2.applications
      x-cfn-schema-name: Application
      x-cfn-type-name: AWS::KinesisAnalyticsV2::Application
      x-identifiers:
        - ApplicationName
      x-type: cloud_control
      methods:
        create_resource:
          config:
            requestBodyTranslate:
              algorithm: naive_DesiredState
          operation:
            $ref: '#/paths/~1?Action=CreateResource&Version=2021-09-30&__Application&__detailTransformed=true/post'
          request:
            mediaType: application/x-amz-json-1.0
            base: |-
              {
                "TypeName": "AWS::KinesisAnalyticsV2::Application"
              }
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        update_resource:
          operation:
            $ref: '#/paths/~1?Action=UpdateResource&Version=2021-09-30/post'
          request:
            mediaType: application/x-amz-json-1.0
            base: |-
              {
                "TypeName": "AWS::KinesisAnalyticsV2::Application"
              }
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        delete_resource:
          operation:
            $ref: '#/paths/~1?Action=DeleteResource&Version=2021-09-30/post'
          request:
            mediaType: application/x-amz-json-1.0
            base: |-
              {
                "TypeName": "AWS::KinesisAnalyticsV2::Application"
              }
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        insert:
          - $ref: '#/components/x-stackQL-resources/applications/methods/create_resource'
        delete:
          - $ref: '#/components/x-stackQL-resources/applications/methods/delete_resource'
        update:
          - $ref: '#/components/x-stackQL-resources/applications/methods/update_resource'
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3" && requiredParams == [ data__Identifier ]
            ddl: |-
              SELECT
              region,
              data__Identifier,
              JSON_EXTRACT(Properties, '$.ApplicationConfiguration') as application_configuration,
              JSON_EXTRACT(Properties, '$.ApplicationDescription') as application_description,
              JSON_EXTRACT(Properties, '$.ApplicationMode') as application_mode,
              JSON_EXTRACT(Properties, '$.ApplicationName') as application_name,
              JSON_EXTRACT(Properties, '$.RuntimeEnvironment') as runtime_environment,
              JSON_EXTRACT(Properties, '$.ServiceExecutionRole') as service_execution_role,
              JSON_EXTRACT(Properties, '$.RunConfiguration') as run_configuration,
              JSON_EXTRACT(Properties, '$.ApplicationMaintenanceConfiguration') as application_maintenance_configuration,
              JSON_EXTRACT(Properties, '$.Tags') as tags
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::KinesisAnalyticsV2::Application'
              AND data__Identifier = '<ApplicationName>'
              AND region = 'us-east-1'
            fallback:
              predicate: sqlDialect == "sqlite3"
              ddl: |-
                SELECT
                detail.region,
                JSON_EXTRACT(detail.Properties, '$.ApplicationConfiguration') as application_configuration,
                JSON_EXTRACT(detail.Properties, '$.ApplicationDescription') as application_description,
                JSON_EXTRACT(detail.Properties, '$.ApplicationMode') as application_mode,
                JSON_EXTRACT(detail.Properties, '$.ApplicationName') as application_name,
                JSON_EXTRACT(detail.Properties, '$.RuntimeEnvironment') as runtime_environment,
                JSON_EXTRACT(detail.Properties, '$.ServiceExecutionRole') as service_execution_role,
                JSON_EXTRACT(detail.Properties, '$.RunConfiguration') as run_configuration,
                JSON_EXTRACT(detail.Properties, '$.ApplicationMaintenanceConfiguration') as application_maintenance_configuration,
                JSON_EXTRACT(detail.Properties, '$.Tags') as tags
                FROM aws.cloud_control.resources listing
                INNER JOIN aws.cloud_control.resource detail
                ON detail.data__Identifier = listing.Identifier
                AND detail.region = listing.region
                WHERE listing.data__TypeName = 'AWS::KinesisAnalyticsV2::Application'
                AND detail.data__TypeName = 'AWS::KinesisAnalyticsV2::Application'
                AND listing.region = 'us-east-1'
              fallback:
                predicate: sqlDialect == "postgres" && requiredParams == [ data__Identifier ]
                ddl: |-
                  SELECT
                  region,
                  data__Identifier,
                  json_extract_path_text(Properties, 'ApplicationConfiguration') as application_configuration,
                  json_extract_path_text(Properties, 'ApplicationDescription') as application_description,
                  json_extract_path_text(Properties, 'ApplicationMode') as application_mode,
                  json_extract_path_text(Properties, 'ApplicationName') as application_name,
                  json_extract_path_text(Properties, 'RuntimeEnvironment') as runtime_environment,
                  json_extract_path_text(Properties, 'ServiceExecutionRole') as service_execution_role,
                  json_extract_path_text(Properties, 'RunConfiguration') as run_configuration,
                  json_extract_path_text(Properties, 'ApplicationMaintenanceConfiguration') as application_maintenance_configuration,
                  json_extract_path_text(Properties, 'Tags') as tags
                  FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::KinesisAnalyticsV2::Application'
                  AND data__Identifier = '<ApplicationName>'
                  AND region = 'us-east-1'
                fallback:
                  predicate: sqlDialect == "postgres"
                  ddl: |-
                    SELECT
                    detail.region,
                    json_extract_path_text(detail.Properties, 'ApplicationConfiguration') as application_configuration,
                    json_extract_path_text(detail.Properties, 'ApplicationDescription') as application_description,
                    json_extract_path_text(detail.Properties, 'ApplicationMode') as application_mode,
                    json_extract_path_text(detail.Properties, 'ApplicationName') as application_name,
                    json_extract_path_text(detail.Properties, 'RuntimeEnvironment') as runtime_environment,
                    json_extract_path_text(detail.Properties, 'ServiceExecutionRole') as service_execution_role,
                    json_extract_path_text(detail.Properties, 'RunConfiguration') as run_configuration,
                    json_extract_path_text(detail.Properties, 'ApplicationMaintenanceConfiguration') as application_maintenance_configuration,
                    json_extract_path_text(detail.Properties, 'Tags') as tags
                    FROM aws.cloud_control.resources listing
                    INNER JOIN aws.cloud_control.resource detail
                    ON detail.data__Identifier = listing.Identifier
                    AND detail.region = listing.region
                    WHERE listing.data__TypeName = 'AWS::KinesisAnalyticsV2::Application'
                    AND detail.data__TypeName = 'AWS::KinesisAnalyticsV2::Application'
                    AND listing.region = 'us-east-1'
    applications_list_only:
      name: applications_list_only
      id: aws.kinesisanalyticsv2.applications_list_only
      x-cfn-schema-name: Application
      x-cfn-type-name: AWS::KinesisAnalyticsV2::Application
      x-identifiers:
        - ApplicationName
      x-type: cloud_control_view
      methods: {}
      sqlVerbs:
        insert: []
        delete: []
        update: []
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.ApplicationName') as application_name
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::KinesisAnalyticsV2::Application'
              AND region = 'us-east-1'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'ApplicationName') as application_name
                FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::KinesisAnalyticsV2::Application'
                AND region = 'us-east-1'
    application_tags:
      name: application_tags
      id: aws.kinesisanalyticsv2.application_tags
      x-cfn-schema-name: Application
      x-cfn-type-name: AWS::KinesisAnalyticsV2::Application
      x-type: cloud_control_view
      methods: {}
      sqlVerbs:
        insert: []
        delete: []
        update: []
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              detail.region,
              JSON_EXTRACT(json_each.value, '$.Key') as tag_key,
              JSON_EXTRACT(json_each.value, '$.Value') as tag_value,
              JSON_EXTRACT(detail.Properties, '$.ApplicationConfiguration') as application_configuration,
              JSON_EXTRACT(detail.Properties, '$.ApplicationDescription') as application_description,
              JSON_EXTRACT(detail.Properties, '$.ApplicationMode') as application_mode,
              JSON_EXTRACT(detail.Properties, '$.ApplicationName') as application_name,
              JSON_EXTRACT(detail.Properties, '$.RuntimeEnvironment') as runtime_environment,
              JSON_EXTRACT(detail.Properties, '$.ServiceExecutionRole') as service_execution_role,
              JSON_EXTRACT(detail.Properties, '$.RunConfiguration') as run_configuration,
              JSON_EXTRACT(detail.Properties, '$.ApplicationMaintenanceConfiguration') as application_maintenance_configuration
              FROM aws.cloud_control.resources listing
              INNER JOIN aws.cloud_control.resource detail
              ON detail.data__Identifier = listing.Identifier
              AND detail.region = listing.region
              ,json_each(JSON_EXTRACT(detail.Properties, '$.Tags'))
              WHERE listing.data__TypeName = 'AWS::KinesisAnalyticsV2::Application'
              AND detail.data__TypeName = 'AWS::KinesisAnalyticsV2::Application'
              AND listing.region = 'us-east-1'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                detail.region,
                json_extract_path_text(json_each.value, 'Key') as tag_key,
                json_extract_path_text(json_each.value, 'Value') as tag_value,
                json_extract_path_text(detail.Properties, 'ApplicationConfiguration') as application_configuration,
                json_extract_path_text(detail.Properties, 'ApplicationDescription') as application_description,
                json_extract_path_text(detail.Properties, 'ApplicationMode') as application_mode,
                json_extract_path_text(detail.Properties, 'ApplicationName') as application_name,
                json_extract_path_text(detail.Properties, 'RuntimeEnvironment') as runtime_environment,
                json_extract_path_text(detail.Properties, 'ServiceExecutionRole') as service_execution_role,
                json_extract_path_text(detail.Properties, 'RunConfiguration') as run_configuration,
                json_extract_path_text(detail.Properties, 'ApplicationMaintenanceConfiguration') as application_maintenance_configuration
                FROM aws.cloud_control.resources listing
                INNER JOIN aws.cloud_control.resource detail
                ON detail.data__Identifier = listing.Identifier
                AND detail.region = listing.region
                ,json_array_elements_text(json_extract_path_text(detail.Properties, 'Tags'))
                WHERE listing.data__TypeName = 'AWS::KinesisAnalyticsV2::Application'
                AND detail.data__TypeName = 'AWS::KinesisAnalyticsV2::Application'
                AND listing.region = 'us-east-1'
paths:
  /?Action=CreateResource&Version=2021-09-30:
    parameters:
      - $ref: '#/components/parameters/X-Amz-Content-Sha256'
      - $ref: '#/components/parameters/X-Amz-Date'
      - $ref: '#/components/parameters/X-Amz-Algorithm'
      - $ref: '#/components/parameters/X-Amz-Credential'
      - $ref: '#/components/parameters/X-Amz-Security-Token'
      - $ref: '#/components/parameters/X-Amz-Signature'
      - $ref: '#/components/parameters/X-Amz-SignedHeaders'
    post:
      operationId: CreateResource
      parameters:
        - description: Action Header
          in: header
          name: X-Amz-Target
          required: false
          schema:
            default: CloudApiService.CreateResource
            enum:
              - CloudApiService.CreateResource
            type: string
        - in: header
          name: Content-Type
          required: false
          schema:
            default: application/x-amz-json-1.0
            enum:
              - application/x-amz-json-1.0
            type: string
      requestBody:
        content:
          application/x-amz-json-1.0:
            schema:
              $ref: '#/components/x-cloud-control-schemas/CreateResourceInput'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/x-cloud-control-schemas/ProgressEvent'
          description: Success
  /?Action=DeleteResource&Version=2021-09-30:
    parameters:
      - $ref: '#/components/parameters/X-Amz-Content-Sha256'
      - $ref: '#/components/parameters/X-Amz-Date'
      - $ref: '#/components/parameters/X-Amz-Algorithm'
      - $ref: '#/components/parameters/X-Amz-Credential'
      - $ref: '#/components/parameters/X-Amz-Security-Token'
      - $ref: '#/components/parameters/X-Amz-Signature'
      - $ref: '#/components/parameters/X-Amz-SignedHeaders'
    post:
      operationId: DeleteResource
      parameters:
        - description: Action Header
          in: header
          name: X-Amz-Target
          required: false
          schema:
            default: CloudApiService.DeleteResource
            enum:
              - CloudApiService.DeleteResource
            type: string
        - in: header
          name: Content-Type
          required: false
          schema:
            default: application/x-amz-json-1.0
            enum:
              - application/x-amz-json-1.0
            type: string
      requestBody:
        content:
          application/x-amz-json-1.0:
            schema:
              $ref: '#/components/x-cloud-control-schemas/DeleteResourceInput'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/x-cloud-control-schemas/DeleteResourceOutput'
          description: Success
  /?Action=UpdateResource&Version=2021-09-30:
    parameters:
      - $ref: '#/components/parameters/X-Amz-Content-Sha256'
      - $ref: '#/components/parameters/X-Amz-Date'
      - $ref: '#/components/parameters/X-Amz-Algorithm'
      - $ref: '#/components/parameters/X-Amz-Credential'
      - $ref: '#/components/parameters/X-Amz-Security-Token'
      - $ref: '#/components/parameters/X-Amz-Signature'
      - $ref: '#/components/parameters/X-Amz-SignedHeaders'
    post:
      operationId: UpdateResource
      parameters:
        - description: Action Header
          in: header
          name: X-Amz-Target
          required: false
          schema:
            default: CloudApiService.UpdateResource
            enum:
              - CloudApiService.UpdateResource
            type: string
        - in: header
          name: Content-Type
          required: false
          schema:
            default: application/x-amz-json-1.0
            enum:
              - application/x-amz-json-1.0
            type: string
      requestBody:
        content:
          application/x-amz-json-1.0:
            schema:
              properties:
                ClientName:
                  type: string
                Identifier:
                  $ref: '#/components/x-cloud-control-schemas/Identifier'
                PatchDocument:
                  type: string
                RoleArn:
                  $ref: '#/components/x-cloud-control-schemas/RoleArn'
                TypeName:
                  $ref: '#/components/x-cloud-control-schemas/TypeName'
                TypeVersionId:
                  $ref: '#/components/x-cloud-control-schemas/TypeVersionId'
              required:
                - Identifier
                - PatchDocument
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/x-cloud-control-schemas/UpdateResourceOutput'
          description: Success
  /?Action=CreateResource&Version=2021-09-30&__Application&__detailTransformed=true:
    parameters:
      - $ref: '#/components/parameters/X-Amz-Content-Sha256'
      - $ref: '#/components/parameters/X-Amz-Date'
      - $ref: '#/components/parameters/X-Amz-Algorithm'
      - $ref: '#/components/parameters/X-Amz-Credential'
      - $ref: '#/components/parameters/X-Amz-Security-Token'
      - $ref: '#/components/parameters/X-Amz-Signature'
      - $ref: '#/components/parameters/X-Amz-SignedHeaders'
    post:
      operationId: CreateApplication
      parameters:
        - description: Action Header
          in: header
          name: X-Amz-Target
          required: false
          schema:
            default: CloudApiService.CreateResource
            enum:
              - CloudApiService.CreateResource
            type: string
        - in: header
          name: Content-Type
          required: false
          schema:
            default: application/x-amz-json-1.0
            enum:
              - application/x-amz-json-1.0
            type: string
      requestBody:
        content:
          application/x-amz-json-1.0:
            schema:
              $ref: '#/components/schemas/CreateApplicationRequest'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/x-cloud-control-schemas/ProgressEvent'
          description: Success
x-stackQL-config:
  requestTranslate:
    algorithm: drop_double_underscore_params
  pagination:
    requestToken:
      key: NextToken
      location: body
    responseToken:
      key: NextToken
      location: body

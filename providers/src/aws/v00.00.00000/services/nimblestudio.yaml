openapi: 3.0.0
info:
  title: NimbleStudio
  version: 2.0.0
  x-serviceName: cloudcontrolapi
servers:
  - url: https://cloudcontrolapi.{region}.amazonaws.com
    variables:
      region:
        description: The AWS region
        enum:
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
          - us-gov-west-1
          - us-gov-east-1
          - ca-central-1
          - eu-north-1
          - eu-west-1
          - eu-west-2
          - eu-west-3
          - eu-central-1
          - eu-south-1
          - af-south-1
          - ap-northeast-1
          - ap-northeast-2
          - ap-northeast-3
          - ap-southeast-1
          - ap-southeast-2
          - ap-east-1
          - ap-south-1
          - sa-east-1
          - me-south-1
        default: us-east-1
    description: The CloudControlApi multi-region endpoint
  - url: https://cloudcontrolapi.{region}.amazonaws.com.cn
    variables:
      region:
        description: The AWS region
        enum:
          - cn-north-1
          - cn-northwest-1
        default: cn-north-1
    description: The CloudControlApi endpoint for China (Beijing) and China (Ningxia)
components:
  parameters:
    X-Amz-Content-Sha256:
      name: X-Amz-Content-Sha256
      in: header
      schema:
        type: string
      required: false
    X-Amz-Date:
      name: X-Amz-Date
      in: header
      schema:
        type: string
      required: false
    X-Amz-Algorithm:
      name: X-Amz-Algorithm
      in: header
      schema:
        type: string
      required: false
    X-Amz-Credential:
      name: X-Amz-Credential
      in: header
      schema:
        type: string
      required: false
    X-Amz-Security-Token:
      name: X-Amz-Security-Token
      in: header
      schema:
        type: string
      required: false
    X-Amz-Signature:
      name: X-Amz-Signature
      in: header
      schema:
        type: string
      required: false
    X-Amz-SignedHeaders:
      name: X-Amz-SignedHeaders
      in: header
      schema:
        type: string
      required: false
  x-cloud-control-schemas:
    AlreadyExistsException: {}
    CancelResourceRequestInput:
      properties:
        RequestToken:
          $ref: '#/components/x-cloud-control-schemas/RequestToken'
      required:
        - RequestToken
      title: CancelResourceRequestInput
      type: object
    CancelResourceRequestOutput:
      properties:
        ProgressEvent:
          $ref: '#/components/x-cloud-control-schemas/ProgressEvent'
      type: object
    ClientToken:
      maxLength: 128
      minLength: 1
      pattern: '[-A-Za-z0-9+/=]+'
      type: string
    ClientTokenConflictException: {}
    ConcurrentModificationException: {}
    ConcurrentOperationException: {}
    CreateResourceInput:
      properties:
        ClientToken:
          type: string
        DesiredState:
          allOf:
            - $ref: '#/components/x-cloud-control-schemas/Properties'
            - description: >-
                <p>Structured data format representing the desired state of the resource, consisting of that resource's properties and their desired values.</p> <note> <p>Cloud Control API currently supports JSON as a structured data format.</p> </note> <pre><code> &lt;p&gt;Specify the desired state as one of the following:&lt;/p&gt; &lt;ul&gt; &lt;li&gt; &lt;p&gt;A JSON blob&lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt;A local path containing the desired state in JSON data format&lt;/p&gt;
                &lt;/li&gt; &lt;/ul&gt; &lt;p&gt;For more information, see &lt;a href=&quot;https://docs.aws.amazon.com/cloudcontrolapi/latest/userguide/resource-operations-create.html#resource-operations-create-desiredstate&quot;&gt;Composing the desired state of the resource&lt;/a&gt; in the &lt;i&gt;Amazon Web Services Cloud Control API User Guide&lt;/i&gt;.&lt;/p&gt; &lt;p&gt;For more information about the properties of a specific resource, refer to the related topic for the resource in the
                &lt;a href=&quot;https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-template-resource-type-ref.html&quot;&gt;Resource and property types reference&lt;/a&gt; in the &lt;i&gt;CloudFormation Users Guide&lt;/i&gt;.&lt;/p&gt; </code></pre>
        RoleArn:
          type: string
        TypeName:
          type: string
        TypeVersionId:
          type: string
      required:
        - DesiredState
      title: CreateResourceInput
      type: object
    CreateResourceOutput:
      properties:
        ProgressEvent:
          $ref: '#/components/x-cloud-control-schemas/ProgressEvent'
      type: object
    DeleteResourceInput:
      properties:
        ClientToken:
          type: string
        Identifier:
          $ref: '#/components/x-cloud-control-schemas/Identifier'
        RoleArn:
          type: string
        TypeName:
          type: string
        TypeVersionId:
          type: string
      required:
        - Identifier
      title: DeleteResourceInput
      type: object
    DeleteResourceOutput:
      properties:
        ProgressEvent:
          $ref: '#/components/x-cloud-control-schemas/ProgressEvent'
      type: object
    GeneralServiceException: {}
    GetResourceInput:
      properties:
        TypeName:
          $ref: '#/components/x-cloud-control-schemas/TypeName'
        Identifier:
          $ref: '#/components/x-cloud-control-schemas/Identifier'
        TypeVersionId:
          $ref: '#/components/x-cloud-control-schemas/TypeVersionId'
        RoleArn:
          $ref: '#/components/x-cloud-control-schemas/RoleArn'
      required:
        - TypeName
        - Identifier
      title: GetResourceInput
      type: object
    GetResourceOutput:
      properties:
        ResourceDescription:
          $ref: '#/components/x-cloud-control-schemas/ResourceDescription'
        TypeName:
          type: string
      type: object
    GetResourceRequestStatusInput:
      properties:
        RequestToken:
          $ref: '#/components/x-cloud-control-schemas/RequestToken'
      required:
        - RequestToken
      title: GetResourceRequestStatusInput
      type: object
    GetResourceRequestStatusOutput:
      properties:
        ProgressEvent:
          $ref: '#/components/x-cloud-control-schemas/ProgressEvent'
      type: object
    HandlerErrorCode:
      enum:
        - NotUpdatable
        - InvalidRequest
        - AccessDenied
        - InvalidCredentials
        - AlreadyExists
        - NotFound
        - ResourceConflict
        - Throttling
        - ServiceLimitExceeded
        - NotStabilized
        - GeneralServiceException
        - ServiceInternalError
        - ServiceTimeout
        - NetworkFailure
        - InternalFailure
      type: string
    HandlerFailureException: {}
    HandlerInternalFailureException: {}
    HandlerNextToken:
      maxLength: 2048
      minLength: 1
      pattern: .+
      type: string
    Identifier:
      maxLength: 1024
      minLength: 1
      pattern: .+
      type: string
    InvalidCredentialsException: {}
    InvalidRequestException: {}
    MaxResults:
      maximum: 100
      minimum: 1
      type: integer
    NetworkFailureException: {}
    NextToken:
      maxLength: 2048
      minLength: 1
      pattern: '[-A-Za-z0-9+/=]+'
      type: string
    NotStabilizedException: {}
    NotUpdatableException: {}
    Operation:
      enum:
        - CREATE
        - DELETE
        - UPDATE
      type: string
    OperationStatus:
      enum:
        - PENDING
        - IN_PROGRESS
        - SUCCESS
        - FAILED
        - CANCEL_IN_PROGRESS
        - CANCEL_COMPLETE
      type: string
    OperationStatuses:
      items:
        $ref: '#/components/x-cloud-control-schemas/OperationStatus'
      type: array
    Operations:
      items:
        $ref: '#/components/x-cloud-control-schemas/Operation'
      type: array
    PatchDocument:
      format: password
      maxLength: 65536
      minLength: 1
      pattern: '[\s\S]*'
      type: string
    PrivateTypeException: {}
    ProgressEvent:
      example:
        ErrorCode: string
        EventTime: number
        Identifier: string
        Operation: string
        OperationStatus: string
        RequestToken: string
        ResourceModel: string
        RetryAfter: number
        StatusMessage: string
        TypeName: string
      properties:
        ErrorCode:
          type: string
        EventTime:
          type: number
        Identifier:
          type: string
        Operation:
          type: string
        OperationStatus:
          type: string
        RequestToken:
          type: string
        ResourceModel:
          type: string
        RetryAfter:
          type: number
        StatusMessage:
          type: string
        TypeName:
          type: string
      type: object
    Properties:
      format: password
      maxLength: 65536
      minLength: 1
      pattern: '[\s\S]*'
      type: string
    RequestToken:
      maxLength: 128
      minLength: 1
      pattern: '[-A-Za-z0-9+/=]+'
      type: string
    RequestTokenNotFoundException: {}
    ResourceConflictException: {}
    ResourceDescription:
      description: Represents information about a provisioned resource.
      properties:
        Identifier:
          type: string
        Properties:
          type: string
      type: object
    ResourceDescriptions:
      items:
        $ref: '#/components/x-cloud-control-schemas/ResourceDescription'
      type: array
    ResourceNotFoundException: {}
    ResourceRequestStatusFilter:
      description: The filter criteria to use in determining the requests returned.
      properties:
        undefined:
          allOf:
            - $ref: '#/components/x-cloud-control-schemas/OperationStatuses'
            - description: >-
                <p>The operation statuses to include in the filter.</p> <ul> <li> <p> <code>PENDING</code>: The operation has been requested, but not yet initiated.</p> </li> <li> <p> <code>IN_PROGRESS</code>: The operation is in progress.</p> </li> <li> <p> <code>SUCCESS</code>: The operation completed.</p> </li> <li> <p> <code>FAILED</code>: The operation failed.</p> </li> <li> <p> <code>CANCEL_IN_PROGRESS</code>: The operation is in the process of being canceled.</p> </li> <li> <p>
                <code>CANCEL_COMPLETE</code>: The operation has been canceled.</p> </li> </ul>
      type: object
    ResourceRequestStatusSummaries:
      items:
        $ref: '#/components/x-cloud-control-schemas/ProgressEvent'
      type: array
    RoleArn:
      maxLength: 2048
      minLength: 20
      pattern: arn:.+:iam::[0-9]{12}:role/.+
      type: string
    ServiceInternalErrorException: {}
    ServiceLimitExceededException: {}
    StatusMessage:
      maxLength: 1024
      minLength: 0
      pattern: '[\s\S]*'
      type: string
    ThrottlingException: {}
    Timestamp:
      format: date-time
      type: string
    TypeName:
      maxLength: 196
      minLength: 10
      pattern: '[A-Za-z0-9]{2,64}::[A-Za-z0-9]{2,64}::[A-Za-z0-9]{2,64}'
      type: string
    TypeNotFoundException: {}
    TypeVersionId:
      maxLength: 128
      minLength: 1
      pattern: '[A-Za-z0-9-]+'
      type: string
    UnsupportedActionException: {}
    UpdateResourceInput:
      properties:
        undefined:
          allOf:
            - $ref: '#/components/x-cloud-control-schemas/PatchDocument'
      required:
        - Identifier
        - PatchDocument
      title: UpdateResourceInput
      type: object
    UpdateResourceOutput:
      properties:
        ProgressEvent:
          $ref: '#/components/x-cloud-control-schemas/ProgressEvent'
      type: object
  schemas:
    AutomaticTerminationMode:
      type: string
      enum:
        - DEACTIVATED
        - ACTIVATED
    SessionBackupMode:
      type: string
      enum:
        - AUTOMATIC
        - DEACTIVATED
    SessionPersistenceMode:
      type: string
      enum:
        - DEACTIVATED
        - ACTIVATED
    StreamConfiguration:
      type: object
      description: <p>A configuration for a streaming session.</p>
      properties:
        ClipboardMode:
          $ref: '#/components/schemas/StreamingClipboardMode'
        Ec2InstanceTypes:
          type: array
          items:
            $ref: '#/components/schemas/StreamingInstanceType'
          maxItems: 30
          minItems: 1
          description: |-
            <p>The EC2 instance types that users can select from when launching a streaming session
                        with this launch profile.</p>
        MaxSessionLengthInMinutes:
          type: number
          default: 690
          maximum: 43200
          minimum: 1
          description: |-
            <p>The length of time, in minutes, that a streaming session can be active before it is
                        stopped or terminated. After this point, Nimble Studio automatically terminates or
                        stops the session. The default length of time is 690 minutes, and the maximum length of
                        time is 30 days.</p>
        StreamingImageIds:
          type: array
          items:
            type: string
            maxLength: 22
            minLength: 0
            pattern: ^[a-zA-Z0-9-_]*$
          maxItems: 20
          minItems: 1
          description: |-
            <p>The streaming images that users can select from when launching a streaming session
                        with this launch profile.</p>
        MaxStoppedSessionLengthInMinutes:
          type: number
          default: 0
          maximum: 5760
          minimum: 0
          description: |-
            <p>Integer that determines if you can start and stop your sessions and how long a session
                        can stay in the <code>STOPPED</code> state. The default value is 0. The maximum value is
                        5760.</p>
                     <p>This field is allowed only when <code>sessionPersistenceMode</code> is
                            <code>ACTIVATED</code> and <code>automaticTerminationMode</code> is
                            <code>ACTIVATED</code>.</p>
                     <p>If the value is set to 0, your sessions can’t be <code>STOPPED</code>. If you then
                        call <code>StopStreamingSession</code>, the session fails. If the time that a session
                        stays in the <code>READY</code> state exceeds the <code>maxSessionLengthInMinutes</code>
                        value, the session will automatically be terminated (instead of
                        <code>STOPPED</code>).</p>
                     <p>If the value is set to a positive number, the session can be stopped. You can call
                            <code>StopStreamingSession</code> to stop sessions in the <code>READY</code> state.
                        If the time that a session stays in the <code>READY</code> state exceeds the
                            <code>maxSessionLengthInMinutes</code> value, the session will automatically be
                        stopped (instead of terminated).</p>
        SessionStorage:
          $ref: '#/components/schemas/StreamConfigurationSessionStorage'
        SessionBackup:
          $ref: '#/components/schemas/StreamConfigurationSessionBackup'
        SessionPersistenceMode:
          $ref: '#/components/schemas/SessionPersistenceMode'
        VolumeConfiguration:
          $ref: '#/components/schemas/VolumeConfiguration'
        AutomaticTerminationMode:
          $ref: '#/components/schemas/AutomaticTerminationMode'
      required:
        - ClipboardMode
        - Ec2InstanceTypes
        - StreamingImageIds
      additionalProperties: false
    StreamConfigurationSessionBackup:
      type: object
      description: |-
        <p>Configures how streaming sessions are backed up when launched from this launch
                    profile.</p>
      properties:
        Mode:
          $ref: '#/components/schemas/SessionBackupMode'
        MaxBackupsToRetain:
          type: number
          default: 0
          maximum: 10
          minimum: 0
          description: |-
            <p>The maximum number of backups that each streaming session created from this launch
                        profile can have.</p>
      additionalProperties: false
    StreamConfigurationSessionStorage:
      type: object
      description: <p>The configuration for a streaming session’s upload storage.</p>
      properties:
        Root:
          $ref: '#/components/schemas/StreamingSessionStorageRoot'
        Mode:
          type: array
          items:
            $ref: '#/components/schemas/StreamingSessionStorageMode'
          minItems: 1
          description: |-
            <p>Allows artists to upload files to their workstations. The only valid option is
                            <code>UPLOAD</code>.</p>
      required:
        - Mode
      additionalProperties: false
    StreamingClipboardMode:
      type: string
      enum:
        - ENABLED
        - DISABLED
    StreamingInstanceType:
      type: string
      enum:
        - g4dn.xlarge
        - g4dn.2xlarge
        - g4dn.4xlarge
        - g4dn.8xlarge
        - g4dn.12xlarge
        - g4dn.16xlarge
        - g3.4xlarge
        - g3s.xlarge
        - g5.xlarge
        - g5.2xlarge
        - g5.4xlarge
        - g5.8xlarge
        - g5.16xlarge
    StreamingSessionStorageMode:
      type: string
      enum:
        - UPLOAD
    StreamingSessionStorageRoot:
      type: object
      description: |-
        <p>The upload storage root location (folder) on streaming workstations where files are
                    uploaded.</p>
      properties:
        Linux:
          type: string
          maxLength: 128
          minLength: 1
          pattern: ^(\$HOME|/)[/]?([A-Za-z0-9-_]+/)*([A-Za-z0-9_-]+)$
          description: <p>The folder path in Linux workstations where files are uploaded.</p>
        Windows:
          type: string
          maxLength: 128
          minLength: 1
          pattern: ^((\%HOMEPATH\%)|[a-zA-Z]:)[\\/](?:[a-zA-Z0-9_-]+[\\/])*[a-zA-Z0-9_-]+$
          description: <p>The folder path in Windows workstations where files are uploaded.</p>
      additionalProperties: false
    Tags:
      type: object
      x-patternProperties:
        .+:
          type: string
      additionalProperties: false
    VolumeConfiguration:
      type: object
      description: |-
        <p>Custom volume configuration for the root volumes that are attached to streaming
                    sessions.</p>
                 <p>This parameter is only allowed when <code>sessionPersistenceMode</code> is
                        <code>ACTIVATED</code>.</p>
      properties:
        Size:
          type: number
          default: 500
          maximum: 16000
          minimum: 100
          description: |-
            <p>The size of the root volume that is attached to the streaming session. The root volume
                        size is measured in GiBs.</p>
        Throughput:
          type: number
          default: 125
          maximum: 1000
          minimum: 125
          description: |-
            <p>The throughput to provision for the root volume that is attached to the streaming
                        session. The throughput is measured in MiB/s.</p>
        Iops:
          type: number
          default: 3000
          maximum: 16000
          minimum: 3000
          description: |-
            <p>The number of I/O operations per second for the root volume that is attached to
                        streaming session.</p>
      additionalProperties: false
    LaunchProfile:
      type: object
      properties:
        Description:
          type: string
          maxLength: 256
          minLength: 0
          description: <p>The description.</p>
        Ec2SubnetIds:
          type: array
          items:
            type: string
          maxItems: 6
          minItems: 0
          description: |-
            <p>Specifies the IDs of the EC2 subnets where streaming sessions will be accessible from.
                        These subnets must support the specified instance types. </p>
        LaunchProfileId:
          type: string
        LaunchProfileProtocolVersions:
          type: array
          items:
            type: string
            maxLength: 10
            minLength: 0
            pattern: ^2021\-03\-31$
            description: |-
              <p>The version number of the protocol that is used by the launch profile. The only valid
                          version is "2021-03-31".</p>
          description: |-
            <p>The version number of the protocol that is used by the launch profile. The only valid
                        version is "2021-03-31".</p>
        Name:
          type: string
          maxLength: 64
          minLength: 1
          description: <p>The name for the launch profile.</p>
        StreamConfiguration:
          $ref: '#/components/schemas/StreamConfiguration'
        StudioComponentIds:
          type: array
          items:
            type: string
          maxItems: 100
          minItems: 1
          description: |-
            <p>Unique identifiers for a collection of studio components that can be used with this
                        launch profile.</p>
        StudioId:
          type: string
          description: <p>The studio ID. </p>
        Tags:
          $ref: '#/components/schemas/Tags'
      required:
        - StudioId
        - Name
        - StudioComponentIds
        - Ec2SubnetIds
        - StreamConfiguration
        - LaunchProfileProtocolVersions
      x-stackql-resource-name: launch_profile
      description: Represents a launch profile which delegates access to a collection of studio components to studio users
      x-type-name: AWS::NimbleStudio::LaunchProfile
      x-stackql-primary-identifier:
        - LaunchProfileId
        - StudioId
      x-create-only-properties:
        - Ec2SubnetIds
        - StudioId
        - Tags
      x-read-only-properties:
        - LaunchProfileId
      x-required-properties:
        - StudioId
        - Name
        - StudioComponentIds
        - Ec2SubnetIds
        - StreamConfiguration
        - LaunchProfileProtocolVersions
      x-required-permissions:
        create:
          - nimble:CreateLaunchProfile
          - nimble:GetLaunchProfile
          - nimble:TagResource
          - ec2:CreateNetworkInterface
          - ec2:CreateNetworkInterfacePermission
          - ec2:RunInstances
          - ec2:DescribeSubnets
        read:
          - nimble:GetLaunchProfile
        update:
          - nimble:UpdateLaunchProfile
          - nimble:GetLaunchProfile
          - ec2:CreateNetworkInterface
          - ec2:CreateNetworkInterfacePermission
          - ec2:DescribeSubnets
          - ec2:RunInstances
        delete:
          - nimble:DeleteLaunchProfile
          - nimble:GetLaunchProfile
          - nimble:UntagResource
        list:
          - nimble:ListLaunchProfiles
    StreamingImageEncryptionConfiguration:
      type: object
      description: <p>TODO</p>
      properties:
        KeyType:
          $ref: '#/components/schemas/StreamingImageEncryptionConfigurationKeyType'
        KeyArn:
          type: string
          minLength: 4
          pattern: ^arn:.*
          description: <p>The ARN for a KMS key that is used to encrypt studio data.</p>
      required:
        - KeyType
      additionalProperties: false
    StreamingImageEncryptionConfigurationKeyType:
      type: string
      description: <p/>
      enum:
        - CUSTOMER_MANAGED_KEY
    StreamingImage:
      type: object
      properties:
        Description:
          type: string
          maxLength: 256
          minLength: 0
          description: <p>A human-readable description of the streaming image.</p>
        Ec2ImageId:
          type: string
          pattern: ^ami-[0-9A-z]+$
          description: <p>The ID of an EC2 machine image with which to create this streaming image.</p>
        EncryptionConfiguration:
          $ref: '#/components/schemas/StreamingImageEncryptionConfiguration'
        EulaIds:
          type: array
          items:
            type: string
          description: <p>The list of EULAs that must be accepted before a Streaming Session can be started using this streaming image.</p>
        Name:
          type: string
          maxLength: 64
          minLength: 0
          description: <p>A friendly name for a streaming image resource.</p>
        Owner:
          type: string
          description: <p>The owner of the streaming image, either the studioId that contains the streaming image, or 'amazon' for images that are provided by Amazon Nimble Studio.</p>
        Platform:
          type: string
          pattern: ^[a-zA-Z]*$
          description: <p>The platform of the streaming image, either WINDOWS or LINUX.</p>
        StreamingImageId:
          type: string
        StudioId:
          type: string
          description: <p>The studioId. </p>
        Tags:
          $ref: '#/components/schemas/Tags'
      required:
        - StudioId
        - Ec2ImageId
        - Name
      x-stackql-resource-name: streaming_image
      description: Represents a streaming session machine image that can be used to launch a streaming session
      x-type-name: AWS::NimbleStudio::StreamingImage
      x-stackql-primary-identifier:
        - StudioId
        - StreamingImageId
      x-create-only-properties:
        - Ec2ImageId
        - StudioId
        - Tags
      x-read-only-properties:
        - EncryptionConfiguration
        - EulaIds
        - Owner
        - Platform
        - StreamingImageId
      x-required-properties:
        - StudioId
        - Ec2ImageId
        - Name
      x-required-permissions:
        create:
          - nimble:CreateStreamingImage
          - nimble:GetStreamingImage
          - nimble:TagResource
          - ec2:DescribeImages
          - ec2:DescribeSnapshots
          - ec2:ModifyInstanceAttribute
          - ec2:ModifySnapshotAttribute
          - ec2:ModifyImageAttribute
          - ec2:RegisterImage
          - kms:Encrypt
          - kms:Decrypt
          - kms:CreateGrant
          - kms:ListGrants
          - kms:GenerateDataKey
        read:
          - nimble:GetStreamingImage
        update:
          - nimble:UpdateStreamingImage
          - nimble:GetStreamingImage
          - kms:Encrypt
          - kms:Decrypt
          - kms:CreateGrant
          - kms:ListGrants
          - kms:GenerateDataKey
        delete:
          - nimble:DeleteStreamingImage
          - nimble:GetStreamingImage
          - nimble:UntagResource
          - ec2:ModifyInstanceAttribute
          - ec2:ModifySnapshotAttribute
          - ec2:DeregisterImage
          - ec2:DeleteSnapshot
          - kms:ListGrants
          - kms:RetireGrant
        list:
          - nimble:ListStreamingImages
    StudioEncryptionConfiguration:
      type: object
      description: <p>Configuration of the encryption method that is used for the studio.</p>
      properties:
        KeyType:
          $ref: '#/components/schemas/StudioEncryptionConfigurationKeyType'
        KeyArn:
          type: string
          minLength: 4
          pattern: ^arn:.*
          description: <p>The ARN for a KMS key that is used to encrypt studio data.</p>
      required:
        - KeyType
      additionalProperties: false
    StudioEncryptionConfigurationKeyType:
      type: string
      description: <p>The type of KMS key that is used to encrypt studio data.</p>
      enum:
        - AWS_OWNED_KEY
        - CUSTOMER_MANAGED_KEY
    Studio:
      type: object
      properties:
        AdminRoleArn:
          type: string
          description: <p>The IAM role that Studio Admins will assume when logging in to the Nimble Studio portal.</p>
        DisplayName:
          type: string
          maxLength: 64
          minLength: 0
          description: <p>A friendly name for the studio.</p>
        HomeRegion:
          type: string
          maxLength: 50
          minLength: 0
          pattern: '[a-z]{2}-?(iso|gov)?-{1}[a-z]*-{1}[0-9]'
          description: <p>The Amazon Web Services Region where the studio resource is located.</p>
        SsoClientId:
          type: string
          description: <p>The Amazon Web Services SSO application client ID used to integrate with Amazon Web Services SSO to enable Amazon Web Services SSO users to log in to Nimble Studio portal.</p>
        StudioEncryptionConfiguration:
          $ref: '#/components/schemas/StudioEncryptionConfiguration'
        StudioId:
          type: string
        StudioName:
          type: string
          maxLength: 64
          minLength: 3
          pattern: ^[a-z0-9]*$
          description: <p>The studio name that is used in the URL of the Nimble Studio portal when accessed by Nimble Studio users.</p>
        StudioUrl:
          type: string
          description: <p>The address of the web page for the studio.</p>
        Tags:
          $ref: '#/components/schemas/Tags'
        UserRoleArn:
          type: string
          description: <p>The IAM role that Studio Users will assume when logging in to the Nimble Studio portal.</p>
      required:
        - DisplayName
        - UserRoleArn
        - AdminRoleArn
        - StudioName
      x-stackql-resource-name: studio
      description: Represents a studio that contains other Nimble Studio resources
      x-type-name: AWS::NimbleStudio::Studio
      x-stackql-primary-identifier:
        - StudioId
      x-create-only-properties:
        - StudioName
        - Tags
      x-read-only-properties:
        - HomeRegion
        - SsoClientId
        - StudioId
        - StudioUrl
      x-required-properties:
        - DisplayName
        - UserRoleArn
        - AdminRoleArn
        - StudioName
      x-required-permissions:
        create:
          - iam:PassRole
          - nimble:CreateStudio
          - nimble:GetStudio
          - nimble:TagResource
          - sso:CreateManagedApplicationInstance
          - kms:Encrypt
          - kms:Decrypt
          - kms:CreateGrant
          - kms:ListGrants
          - kms:GenerateDataKey
        read:
          - nimble:GetStudio
          - kms:Encrypt
          - kms:Decrypt
          - kms:ListGrants
          - kms:GenerateDataKey
        update:
          - iam:PassRole
          - nimble:UpdateStudio
          - nimble:GetStudio
          - kms:Encrypt
          - kms:Decrypt
          - kms:CreateGrant
          - kms:ListGrants
          - kms:GenerateDataKey
        delete:
          - nimble:DeleteStudio
          - nimble:GetStudio
          - nimble:UntagResource
          - kms:Encrypt
          - kms:Decrypt
          - kms:ListGrants
          - kms:RetireGrant
          - kms:GenerateDataKey
          - sso:DeleteManagedApplicationInstance
          - sso:GetManagedApplicationInstance
        list:
          - nimble:ListStudios
    ActiveDirectoryComputerAttribute:
      type: object
      description: |-
        <p>An LDAP attribute of an Active Directory computer account, in the form of a name:value
                    pair.</p>
      properties:
        Name:
          type: string
          maxLength: 40
          minLength: 1
          description: <p>The name for the LDAP attribute.</p>
        Value:
          type: string
          maxLength: 64
          minLength: 1
          description: <p>The value for the LDAP attribute.</p>
      additionalProperties: false
    ActiveDirectoryConfiguration:
      type: object
      description: |-
        <p>The configuration for a Microsoft Active Directory (Microsoft AD) studio
                    resource.</p>
      properties:
        ComputerAttributes:
          type: array
          items:
            $ref: '#/components/schemas/ActiveDirectoryComputerAttribute'
          maxItems: 50
          minItems: 0
          description: <p>A collection of custom attributes for an Active Directory computer.</p>
        DirectoryId:
          type: string
          description: |-
            <p>The directory ID of the Directory Service for Microsoft Active Directory to access
                        using this studio component.</p>
        OrganizationalUnitDistinguishedName:
          type: string
          maxLength: 2000
          minLength: 1
          description: |-
            <p>The distinguished name (DN) and organizational unit (OU) of an Active Directory
                        computer.</p>
      additionalProperties: false
    ComputeFarmConfiguration:
      type: object
      description: <p>The configuration for a render farm that is associated with a studio resource.</p>
      properties:
        ActiveDirectoryUser:
          type: string
          description: |-
            <p>The name of an Active Directory user that is used on ComputeFarm worker
                        instances.</p>
        Endpoint:
          type: string
          description: |-
            <p>The endpoint of the ComputeFarm that is accessed by the studio component
                        resource.</p>
      additionalProperties: false
    LaunchProfilePlatform:
      type: string
      enum:
        - LINUX
        - WINDOWS
    LicenseServiceConfiguration:
      type: object
      description: |-
        <p>The configuration for a license service that is associated with a studio
                    resource.</p>
      properties:
        Endpoint:
          type: string
          description: |-
            <p>The endpoint of the license service that is accessed by the studio component
                        resource.</p>
      additionalProperties: false
    ScriptParameterKeyValue:
      type: object
      description: <p>A parameter for a studio component script, in the form of a key:value pair.</p>
      properties:
        Key:
          type: string
          maxLength: 64
          minLength: 1
          pattern: ^[a-zA-Z_][a-zA-Z0-9_]+$
          description: <p>A script parameter key.</p>
        Value:
          type: string
          maxLength: 256
          minLength: 1
          description: <p>A script parameter value.</p>
      additionalProperties: false
    SharedFileSystemConfiguration:
      type: object
      description: |-
        <p>The configuration for a shared file storage system that is associated with a studio
                    resource.</p>
      properties:
        Endpoint:
          type: string
          description: |-
            <p>The endpoint of the shared file system that is accessed by the studio component
                        resource.</p>
        FileSystemId:
          type: string
          description: <p>The unique identifier for a file system.</p>
        LinuxMountPoint:
          type: string
          maxLength: 128
          minLength: 0
          pattern: ^(/?|(\$HOME)?(/[^/\n\s\\]+)*)$
          description: <p>The mount location for a shared file system on a Linux virtual workstation.</p>
        ShareName:
          type: string
          description: <p>The name of the file share.</p>
        WindowsMountDrive:
          type: string
          pattern: ^[A-Z]$
          description: <p>The mount location for a shared file system on a Windows virtual workstation.</p>
      additionalProperties: false
    StudioComponentConfiguration:
      description: <p>The configuration of the studio component, based on component type.</p>
      oneOf:
        - type: object
          title: ActiveDirectoryConfiguration
          properties:
            ActiveDirectoryConfiguration:
              $ref: '#/components/schemas/ActiveDirectoryConfiguration'
          required:
            - ActiveDirectoryConfiguration
          additionalProperties: false
        - type: object
          title: ComputeFarmConfiguration
          properties:
            ComputeFarmConfiguration:
              $ref: '#/components/schemas/ComputeFarmConfiguration'
          required:
            - ComputeFarmConfiguration
          additionalProperties: false
        - type: object
          title: LicenseServiceConfiguration
          properties:
            LicenseServiceConfiguration:
              $ref: '#/components/schemas/LicenseServiceConfiguration'
          required:
            - LicenseServiceConfiguration
          additionalProperties: false
        - type: object
          title: SharedFileSystemConfiguration
          properties:
            SharedFileSystemConfiguration:
              $ref: '#/components/schemas/SharedFileSystemConfiguration'
          required:
            - SharedFileSystemConfiguration
          additionalProperties: false
    StudioComponentInitializationScript:
      type: object
      description: <p>Initialization scripts for studio components.</p>
      properties:
        LaunchProfileProtocolVersion:
          type: string
          maxLength: 10
          minLength: 0
          pattern: ^2021\-03\-31$
          description: |-
            <p>The version number of the protocol that is used by the launch profile. The only valid
                        version is "2021-03-31".</p>
        Platform:
          $ref: '#/components/schemas/LaunchProfilePlatform'
        RunContext:
          $ref: '#/components/schemas/StudioComponentInitializationScriptRunContext'
        Script:
          type: string
          maxLength: 5120
          minLength: 1
          description: <p>The initialization script.</p>
      additionalProperties: false
    StudioComponentInitializationScriptRunContext:
      type: string
      enum:
        - SYSTEM_INITIALIZATION
        - USER_INITIALIZATION
    StudioComponentSubtype:
      type: string
      enum:
        - AWS_MANAGED_MICROSOFT_AD
        - AMAZON_FSX_FOR_WINDOWS
        - AMAZON_FSX_FOR_LUSTRE
        - CUSTOM
    StudioComponentType:
      type: string
      enum:
        - ACTIVE_DIRECTORY
        - SHARED_FILE_SYSTEM
        - COMPUTE_FARM
        - LICENSE_SERVICE
        - CUSTOM
    StudioComponent:
      type: object
      properties:
        Configuration:
          $ref: '#/components/schemas/StudioComponentConfiguration'
        Description:
          type: string
          maxLength: 256
          minLength: 0
          description: <p>The description.</p>
        Ec2SecurityGroupIds:
          type: array
          items:
            type: string
          maxItems: 30
          minItems: 0
          description: <p>The EC2 security groups that control access to the studio component.</p>
        InitializationScripts:
          type: array
          items:
            $ref: '#/components/schemas/StudioComponentInitializationScript'
          description: <p>Initialization scripts for studio components.</p>
        Name:
          type: string
          maxLength: 64
          minLength: 0
          description: <p>The name for the studio component.</p>
        RuntimeRoleArn:
          type: string
          maxLength: 2048
          minLength: 0
        ScriptParameters:
          type: array
          items:
            $ref: '#/components/schemas/ScriptParameterKeyValue'
          maxItems: 30
          minItems: 0
          description: <p>Parameters for the studio component scripts.</p>
        SecureInitializationRoleArn:
          type: string
          maxLength: 2048
          minLength: 0
        StudioComponentId:
          type: string
        StudioId:
          type: string
          description: <p>The studio ID. </p>
        Subtype:
          $ref: '#/components/schemas/StudioComponentSubtype'
        Tags:
          $ref: '#/components/schemas/Tags'
        Type:
          $ref: '#/components/schemas/StudioComponentType'
      required:
        - StudioId
        - Name
        - Type
      x-stackql-resource-name: studio_component
      description: Represents a studio component that connects a non-Nimble Studio resource in your account to your studio
      x-type-name: AWS::NimbleStudio::StudioComponent
      x-stackql-primary-identifier:
        - StudioComponentId
        - StudioId
      x-create-only-properties:
        - StudioId
        - Subtype
        - Tags
      x-read-only-properties:
        - StudioComponentId
      x-required-properties:
        - StudioId
        - Name
        - Type
      x-required-permissions:
        create:
          - iam:PassRole
          - nimble:CreateStudioComponent
          - nimble:GetStudioComponent
          - nimble:TagResource
          - ds:AuthorizeApplication
          - ec2:DescribeSecurityGroups
          - fsx:DescribeFilesystems
          - ds:DescribeDirectories
        read:
          - nimble:GetStudioComponent
        update:
          - iam:PassRole
          - nimble:UpdateStudioComponent
          - nimble:GetStudioComponent
          - ds:AuthorizeApplication
          - ec2:DescribeSecurityGroups
          - fsx:DescribeFilesystems
          - ds:DescribeDirectories
        delete:
          - nimble:DeleteStudioComponent
          - nimble:GetStudioComponent
          - nimble:UntagResource
          - ds:UnauthorizeApplication
        list:
          - nimble:ListStudioComponents
  securitySchemes:
    hmac:
      type: apiKey
      name: Authorization
      in: header
      description: Amazon Signature authorization v4
      x-amazon-apigateway-authtype: awsSigv4
  x-stackQL-resources:
    launch_profiles:
      name: launch_profiles
      id: aws.nimblestudio.launch_profiles
      x-cfn-schema-name: LaunchProfile
      x-cfn-type-name: AWS::NimbleStudio::LaunchProfile
      x-identifiers:
        - LaunchProfileId
        - StudioId
      methods:
        create_resource:
          operation:
            $ref: '#/paths/~1?Action=CreateResource&Version=2021-09-30/post'
          request:
            mediaType: application/x-amz-json-1.0
            base: |-
              {
                "TypeName": "AWS::NimbleStudio::LaunchProfile"
              }
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        insert:
          - $ref: '#/components/x-stackQL-resources/launch_profiles/methods/create_resource'
      x-type: list
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.LaunchProfileId') as launch_profile_id,
              JSON_EXTRACT(Properties, '$.StudioId') as studio_id
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::NimbleStudio::LaunchProfile'
              AND region = 'us-east-1'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'LaunchProfileId') as launch_profile_id,
                json_extract_path_text(Properties, 'StudioId') as studio_id
                FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::NimbleStudio::LaunchProfile'
                AND region = 'us-east-1'
    launch_profile:
      name: launch_profile
      id: aws.nimblestudio.launch_profile
      x-cfn-schema-name: LaunchProfile
      x-cfn-type-name: AWS::NimbleStudio::LaunchProfile
      x-identifiers:
        - LaunchProfileId
        - StudioId
      methods:
        update_resource:
          operation:
            $ref: '#/paths/~1?Action=UpdateResource&Version=2021-09-30/post'
          request:
            mediaType: application/x-amz-json-1.0
            base: |-
              {
                "TypeName": "AWS::NimbleStudio::LaunchProfile"
              }
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        delete_resource:
          operation:
            $ref: '#/paths/~1?Action=DeleteResource&Version=2021-09-30/post'
          request:
            mediaType: application/x-amz-json-1.0
            base: |-
              {
                "TypeName": "AWS::NimbleStudio::LaunchProfile"
              }
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        update:
          - $ref: '#/components/x-stackQL-resources/launch_profile/methods/update_resource'
        delete:
          - $ref: '#/components/x-stackQL-resources/launch_profile/methods/delete_resource'
      x-type: get
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              data__Identifier,
              JSON_EXTRACT(Properties, '$.Description') as description,
              JSON_EXTRACT(Properties, '$.Ec2SubnetIds') as ec2_subnet_ids,
              JSON_EXTRACT(Properties, '$.LaunchProfileId') as launch_profile_id,
              JSON_EXTRACT(Properties, '$.LaunchProfileProtocolVersions') as launch_profile_protocol_versions,
              JSON_EXTRACT(Properties, '$.Name') as name,
              JSON_EXTRACT(Properties, '$.StreamConfiguration') as stream_configuration,
              JSON_EXTRACT(Properties, '$.StudioComponentIds') as studio_component_ids,
              JSON_EXTRACT(Properties, '$.StudioId') as studio_id,
              JSON_EXTRACT(Properties, '$.Tags') as tags
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::NimbleStudio::LaunchProfile'
              AND data__Identifier = '<LaunchProfileId>|<StudioId>'
              AND region = 'us-east-1'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                data__Identifier,
                json_extract_path_text(Properties, 'Description') as description,
                json_extract_path_text(Properties, 'Ec2SubnetIds') as ec2_subnet_ids,
                json_extract_path_text(Properties, 'LaunchProfileId') as launch_profile_id,
                json_extract_path_text(Properties, 'LaunchProfileProtocolVersions') as launch_profile_protocol_versions,
                json_extract_path_text(Properties, 'Name') as name,
                json_extract_path_text(Properties, 'StreamConfiguration') as stream_configuration,
                json_extract_path_text(Properties, 'StudioComponentIds') as studio_component_ids,
                json_extract_path_text(Properties, 'StudioId') as studio_id,
                json_extract_path_text(Properties, 'Tags') as tags
                FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::NimbleStudio::LaunchProfile'
                AND data__Identifier = '<LaunchProfileId>|<StudioId>'
                AND region = 'us-east-1'
    streaming_images:
      name: streaming_images
      id: aws.nimblestudio.streaming_images
      x-cfn-schema-name: StreamingImage
      x-cfn-type-name: AWS::NimbleStudio::StreamingImage
      x-identifiers:
        - StudioId
        - StreamingImageId
      methods:
        create_resource:
          operation:
            $ref: '#/paths/~1?Action=CreateResource&Version=2021-09-30/post'
          request:
            mediaType: application/x-amz-json-1.0
            base: |-
              {
                "TypeName": "AWS::NimbleStudio::StreamingImage"
              }
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        insert:
          - $ref: '#/components/x-stackQL-resources/streaming_images/methods/create_resource'
      x-type: list
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.StudioId') as studio_id,
              JSON_EXTRACT(Properties, '$.StreamingImageId') as streaming_image_id
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::NimbleStudio::StreamingImage'
              AND region = 'us-east-1'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'StudioId') as studio_id,
                json_extract_path_text(Properties, 'StreamingImageId') as streaming_image_id
                FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::NimbleStudio::StreamingImage'
                AND region = 'us-east-1'
    streaming_image:
      name: streaming_image
      id: aws.nimblestudio.streaming_image
      x-cfn-schema-name: StreamingImage
      x-cfn-type-name: AWS::NimbleStudio::StreamingImage
      x-identifiers:
        - StudioId
        - StreamingImageId
      methods:
        update_resource:
          operation:
            $ref: '#/paths/~1?Action=UpdateResource&Version=2021-09-30/post'
          request:
            mediaType: application/x-amz-json-1.0
            base: |-
              {
                "TypeName": "AWS::NimbleStudio::StreamingImage"
              }
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        delete_resource:
          operation:
            $ref: '#/paths/~1?Action=DeleteResource&Version=2021-09-30/post'
          request:
            mediaType: application/x-amz-json-1.0
            base: |-
              {
                "TypeName": "AWS::NimbleStudio::StreamingImage"
              }
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        update:
          - $ref: '#/components/x-stackQL-resources/streaming_image/methods/update_resource'
        delete:
          - $ref: '#/components/x-stackQL-resources/streaming_image/methods/delete_resource'
      x-type: get
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              data__Identifier,
              JSON_EXTRACT(Properties, '$.Description') as description,
              JSON_EXTRACT(Properties, '$.Ec2ImageId') as ec2_image_id,
              JSON_EXTRACT(Properties, '$.EncryptionConfiguration') as encryption_configuration,
              JSON_EXTRACT(Properties, '$.EulaIds') as eula_ids,
              JSON_EXTRACT(Properties, '$.Name') as name,
              JSON_EXTRACT(Properties, '$.Owner') as owner,
              JSON_EXTRACT(Properties, '$.Platform') as platform,
              JSON_EXTRACT(Properties, '$.StreamingImageId') as streaming_image_id,
              JSON_EXTRACT(Properties, '$.StudioId') as studio_id,
              JSON_EXTRACT(Properties, '$.Tags') as tags
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::NimbleStudio::StreamingImage'
              AND data__Identifier = '<StudioId>|<StreamingImageId>'
              AND region = 'us-east-1'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                data__Identifier,
                json_extract_path_text(Properties, 'Description') as description,
                json_extract_path_text(Properties, 'Ec2ImageId') as ec2_image_id,
                json_extract_path_text(Properties, 'EncryptionConfiguration') as encryption_configuration,
                json_extract_path_text(Properties, 'EulaIds') as eula_ids,
                json_extract_path_text(Properties, 'Name') as name,
                json_extract_path_text(Properties, 'Owner') as owner,
                json_extract_path_text(Properties, 'Platform') as platform,
                json_extract_path_text(Properties, 'StreamingImageId') as streaming_image_id,
                json_extract_path_text(Properties, 'StudioId') as studio_id,
                json_extract_path_text(Properties, 'Tags') as tags
                FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::NimbleStudio::StreamingImage'
                AND data__Identifier = '<StudioId>|<StreamingImageId>'
                AND region = 'us-east-1'
    studios:
      name: studios
      id: aws.nimblestudio.studios
      x-cfn-schema-name: Studio
      x-cfn-type-name: AWS::NimbleStudio::Studio
      x-identifiers:
        - StudioId
      methods:
        create_resource:
          operation:
            $ref: '#/paths/~1?Action=CreateResource&Version=2021-09-30/post'
          request:
            mediaType: application/x-amz-json-1.0
            base: |-
              {
                "TypeName": "AWS::NimbleStudio::Studio"
              }
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        insert:
          - $ref: '#/components/x-stackQL-resources/studios/methods/create_resource'
      x-type: list
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.StudioId') as studio_id
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::NimbleStudio::Studio'
              AND region = 'us-east-1'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'StudioId') as studio_id
                FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::NimbleStudio::Studio'
                AND region = 'us-east-1'
    studio:
      name: studio
      id: aws.nimblestudio.studio
      x-cfn-schema-name: Studio
      x-cfn-type-name: AWS::NimbleStudio::Studio
      x-identifiers:
        - StudioId
      methods:
        update_resource:
          operation:
            $ref: '#/paths/~1?Action=UpdateResource&Version=2021-09-30/post'
          request:
            mediaType: application/x-amz-json-1.0
            base: |-
              {
                "TypeName": "AWS::NimbleStudio::Studio"
              }
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        delete_resource:
          operation:
            $ref: '#/paths/~1?Action=DeleteResource&Version=2021-09-30/post'
          request:
            mediaType: application/x-amz-json-1.0
            base: |-
              {
                "TypeName": "AWS::NimbleStudio::Studio"
              }
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        update:
          - $ref: '#/components/x-stackQL-resources/studio/methods/update_resource'
        delete:
          - $ref: '#/components/x-stackQL-resources/studio/methods/delete_resource'
      x-type: get
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              data__Identifier,
              JSON_EXTRACT(Properties, '$.AdminRoleArn') as admin_role_arn,
              JSON_EXTRACT(Properties, '$.DisplayName') as display_name,
              JSON_EXTRACT(Properties, '$.HomeRegion') as home_region,
              JSON_EXTRACT(Properties, '$.SsoClientId') as sso_client_id,
              JSON_EXTRACT(Properties, '$.StudioEncryptionConfiguration') as studio_encryption_configuration,
              JSON_EXTRACT(Properties, '$.StudioId') as studio_id,
              JSON_EXTRACT(Properties, '$.StudioName') as studio_name,
              JSON_EXTRACT(Properties, '$.StudioUrl') as studio_url,
              JSON_EXTRACT(Properties, '$.Tags') as tags,
              JSON_EXTRACT(Properties, '$.UserRoleArn') as user_role_arn
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::NimbleStudio::Studio'
              AND data__Identifier = '<StudioId>'
              AND region = 'us-east-1'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                data__Identifier,
                json_extract_path_text(Properties, 'AdminRoleArn') as admin_role_arn,
                json_extract_path_text(Properties, 'DisplayName') as display_name,
                json_extract_path_text(Properties, 'HomeRegion') as home_region,
                json_extract_path_text(Properties, 'SsoClientId') as sso_client_id,
                json_extract_path_text(Properties, 'StudioEncryptionConfiguration') as studio_encryption_configuration,
                json_extract_path_text(Properties, 'StudioId') as studio_id,
                json_extract_path_text(Properties, 'StudioName') as studio_name,
                json_extract_path_text(Properties, 'StudioUrl') as studio_url,
                json_extract_path_text(Properties, 'Tags') as tags,
                json_extract_path_text(Properties, 'UserRoleArn') as user_role_arn
                FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::NimbleStudio::Studio'
                AND data__Identifier = '<StudioId>'
                AND region = 'us-east-1'
    studio_components:
      name: studio_components
      id: aws.nimblestudio.studio_components
      x-cfn-schema-name: StudioComponent
      x-cfn-type-name: AWS::NimbleStudio::StudioComponent
      x-identifiers:
        - StudioComponentId
        - StudioId
      methods:
        create_resource:
          operation:
            $ref: '#/paths/~1?Action=CreateResource&Version=2021-09-30/post'
          request:
            mediaType: application/x-amz-json-1.0
            base: |-
              {
                "TypeName": "AWS::NimbleStudio::StudioComponent"
              }
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        insert:
          - $ref: '#/components/x-stackQL-resources/studio_components/methods/create_resource'
      x-type: list
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.StudioComponentId') as studio_component_id,
              JSON_EXTRACT(Properties, '$.StudioId') as studio_id
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::NimbleStudio::StudioComponent'
              AND region = 'us-east-1'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'StudioComponentId') as studio_component_id,
                json_extract_path_text(Properties, 'StudioId') as studio_id
                FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::NimbleStudio::StudioComponent'
                AND region = 'us-east-1'
    studio_component:
      name: studio_component
      id: aws.nimblestudio.studio_component
      x-cfn-schema-name: StudioComponent
      x-cfn-type-name: AWS::NimbleStudio::StudioComponent
      x-identifiers:
        - StudioComponentId
        - StudioId
      methods:
        update_resource:
          operation:
            $ref: '#/paths/~1?Action=UpdateResource&Version=2021-09-30/post'
          request:
            mediaType: application/x-amz-json-1.0
            base: |-
              {
                "TypeName": "AWS::NimbleStudio::StudioComponent"
              }
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        delete_resource:
          operation:
            $ref: '#/paths/~1?Action=DeleteResource&Version=2021-09-30/post'
          request:
            mediaType: application/x-amz-json-1.0
            base: |-
              {
                "TypeName": "AWS::NimbleStudio::StudioComponent"
              }
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        update:
          - $ref: '#/components/x-stackQL-resources/studio_component/methods/update_resource'
        delete:
          - $ref: '#/components/x-stackQL-resources/studio_component/methods/delete_resource'
      x-type: get
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              data__Identifier,
              JSON_EXTRACT(Properties, '$.Configuration') as configuration,
              JSON_EXTRACT(Properties, '$.Description') as description,
              JSON_EXTRACT(Properties, '$.Ec2SecurityGroupIds') as ec2_security_group_ids,
              JSON_EXTRACT(Properties, '$.InitializationScripts') as initialization_scripts,
              JSON_EXTRACT(Properties, '$.Name') as name,
              JSON_EXTRACT(Properties, '$.RuntimeRoleArn') as runtime_role_arn,
              JSON_EXTRACT(Properties, '$.ScriptParameters') as script_parameters,
              JSON_EXTRACT(Properties, '$.SecureInitializationRoleArn') as secure_initialization_role_arn,
              JSON_EXTRACT(Properties, '$.StudioComponentId') as studio_component_id,
              JSON_EXTRACT(Properties, '$.StudioId') as studio_id,
              JSON_EXTRACT(Properties, '$.Subtype') as subtype,
              JSON_EXTRACT(Properties, '$.Tags') as tags,
              JSON_EXTRACT(Properties, '$.Type') as type
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::NimbleStudio::StudioComponent'
              AND data__Identifier = '<StudioComponentId>|<StudioId>'
              AND region = 'us-east-1'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                data__Identifier,
                json_extract_path_text(Properties, 'Configuration') as configuration,
                json_extract_path_text(Properties, 'Description') as description,
                json_extract_path_text(Properties, 'Ec2SecurityGroupIds') as ec2_security_group_ids,
                json_extract_path_text(Properties, 'InitializationScripts') as initialization_scripts,
                json_extract_path_text(Properties, 'Name') as name,
                json_extract_path_text(Properties, 'RuntimeRoleArn') as runtime_role_arn,
                json_extract_path_text(Properties, 'ScriptParameters') as script_parameters,
                json_extract_path_text(Properties, 'SecureInitializationRoleArn') as secure_initialization_role_arn,
                json_extract_path_text(Properties, 'StudioComponentId') as studio_component_id,
                json_extract_path_text(Properties, 'StudioId') as studio_id,
                json_extract_path_text(Properties, 'Subtype') as subtype,
                json_extract_path_text(Properties, 'Tags') as tags,
                json_extract_path_text(Properties, 'Type') as type
                FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::NimbleStudio::StudioComponent'
                AND data__Identifier = '<StudioComponentId>|<StudioId>'
                AND region = 'us-east-1'
paths:
  /?Action=CreateResource&Version=2021-09-30:
    parameters:
      - $ref: '#/components/parameters/X-Amz-Content-Sha256'
      - $ref: '#/components/parameters/X-Amz-Date'
      - $ref: '#/components/parameters/X-Amz-Algorithm'
      - $ref: '#/components/parameters/X-Amz-Credential'
      - $ref: '#/components/parameters/X-Amz-Security-Token'
      - $ref: '#/components/parameters/X-Amz-Signature'
      - $ref: '#/components/parameters/X-Amz-SignedHeaders'
    post:
      operationId: CreateResource
      parameters:
        - description: Action Header
          in: header
          name: X-Amz-Target
          required: false
          schema:
            default: CloudApiService.CreateResource
            enum:
              - CloudApiService.CreateResource
            type: string
        - in: header
          name: Content-Type
          required: false
          schema:
            default: application/x-amz-json-1.0
            enum:
              - application/x-amz-json-1.0
            type: string
      requestBody:
        content:
          application/x-amz-json-1.0:
            schema:
              $ref: '#/components/x-cloud-control-schemas/CreateResourceInput'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/x-cloud-control-schemas/ProgressEvent'
          description: Success
  /?Action=DeleteResource&Version=2021-09-30:
    parameters:
      - $ref: '#/components/parameters/X-Amz-Content-Sha256'
      - $ref: '#/components/parameters/X-Amz-Date'
      - $ref: '#/components/parameters/X-Amz-Algorithm'
      - $ref: '#/components/parameters/X-Amz-Credential'
      - $ref: '#/components/parameters/X-Amz-Security-Token'
      - $ref: '#/components/parameters/X-Amz-Signature'
      - $ref: '#/components/parameters/X-Amz-SignedHeaders'
    post:
      operationId: DeleteResource
      parameters:
        - description: Action Header
          in: header
          name: X-Amz-Target
          required: false
          schema:
            default: CloudApiService.DeleteResource
            enum:
              - CloudApiService.DeleteResource
            type: string
        - in: header
          name: Content-Type
          required: false
          schema:
            default: application/x-amz-json-1.0
            enum:
              - application/x-amz-json-1.0
            type: string
      requestBody:
        content:
          application/x-amz-json-1.0:
            schema:
              $ref: '#/components/x-cloud-control-schemas/DeleteResourceInput'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/x-cloud-control-schemas/DeleteResourceOutput'
          description: Success
  /?Action=UpdateResource&Version=2021-09-30:
    parameters:
      - $ref: '#/components/parameters/X-Amz-Content-Sha256'
      - $ref: '#/components/parameters/X-Amz-Date'
      - $ref: '#/components/parameters/X-Amz-Algorithm'
      - $ref: '#/components/parameters/X-Amz-Credential'
      - $ref: '#/components/parameters/X-Amz-Security-Token'
      - $ref: '#/components/parameters/X-Amz-Signature'
      - $ref: '#/components/parameters/X-Amz-SignedHeaders'
    post:
      operationId: UpdateResource
      parameters:
        - description: Action Header
          in: header
          name: X-Amz-Target
          required: false
          schema:
            default: CloudApiService.UpdateResource
            enum:
              - CloudApiService.UpdateResource
            type: string
        - in: header
          name: Content-Type
          required: false
          schema:
            default: application/x-amz-json-1.0
            enum:
              - application/x-amz-json-1.0
            type: string
      requestBody:
        content:
          application/x-amz-json-1.0:
            schema:
              properties:
                ClientName:
                  type: string
                Identifier:
                  $ref: '#/components/x-cloud-control-schemas/Identifier'
                PatchDocument:
                  type: string
                RoleArn:
                  $ref: '#/components/x-cloud-control-schemas/RoleArn'
                TypeName:
                  $ref: '#/components/x-cloud-control-schemas/TypeName'
                TypeVersionId:
                  $ref: '#/components/x-cloud-control-schemas/TypeVersionId'
              required:
                - Identifier
                - PatchDocument
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/x-cloud-control-schemas/UpdateResourceOutput'
          description: Success
x-stackQL-config:
  pagination:
    requestToken:
      key: NextToken
      location: body
    responseToken:
      key: NextToken
      location: body

openapi: 3.0.0
info:
  title: IoT
  version: 1.0.0
paths: {}
components:
  schemas:
    AuditCheckConfigurations:
      description: Specifies which audit checks are enabled and disabled for this account.
      type: object
      properties:
        AuthenticatedCognitoRoleOverlyPermissiveCheck:
          $ref: '#/components/schemas/AuditCheckConfiguration'
        CaCertificateExpiringCheck:
          $ref: '#/components/schemas/AuditCheckConfiguration'
        CaCertificateKeyQualityCheck:
          $ref: '#/components/schemas/AuditCheckConfiguration'
        ConflictingClientIdsCheck:
          $ref: '#/components/schemas/AuditCheckConfiguration'
        DeviceCertificateExpiringCheck:
          $ref: '#/components/schemas/AuditCheckConfiguration'
        DeviceCertificateKeyQualityCheck:
          $ref: '#/components/schemas/AuditCheckConfiguration'
        DeviceCertificateSharedCheck:
          $ref: '#/components/schemas/AuditCheckConfiguration'
        IotPolicyOverlyPermissiveCheck:
          $ref: '#/components/schemas/AuditCheckConfiguration'
        IotRoleAliasAllowsAccessToUnusedServicesCheck:
          $ref: '#/components/schemas/AuditCheckConfiguration'
        IotRoleAliasOverlyPermissiveCheck:
          $ref: '#/components/schemas/AuditCheckConfiguration'
        LoggingDisabledCheck:
          $ref: '#/components/schemas/AuditCheckConfiguration'
        RevokedCaCertificateStillActiveCheck:
          $ref: '#/components/schemas/AuditCheckConfiguration'
        RevokedDeviceCertificateStillActiveCheck:
          $ref: '#/components/schemas/AuditCheckConfiguration'
        UnauthenticatedCognitoRoleOverlyPermissiveCheck:
          $ref: '#/components/schemas/AuditCheckConfiguration'
        IntermediateCaRevokedForActiveDeviceCertificatesCheck:
          $ref: '#/components/schemas/AuditCheckConfiguration'
        IoTPolicyPotentialMisConfigurationCheck:
          $ref: '#/components/schemas/AuditCheckConfiguration'
      additionalProperties: false
    AuditNotificationTargetConfigurations:
      description: Information about the targets to which audit notifications are sent.
      type: object
      properties:
        Sns:
          $ref: '#/components/schemas/AuditNotificationTarget'
      additionalProperties: false
    AuditCheckConfiguration:
      description: The configuration for a specific audit check.
      type: object
      properties:
        Enabled:
          description: True if the check is enabled.
          type: boolean
      additionalProperties: false
    AuditNotificationTarget:
      type: object
      properties:
        TargetArn:
          description: The ARN of the target (SNS topic) to which audit notifications are sent.
          type: string
          maxLength: 2048
        RoleArn:
          description: The ARN of the role that grants permission to send notifications to the target.
          type: string
          minLength: 20
          maxLength: 2048
        Enabled:
          description: True if notifications to the target are enabled.
          type: boolean
      additionalProperties: false
    AccountAuditConfiguration:
      type: object
      properties:
        AccountId:
          description: Your 12-digit account ID (used as the primary identifier for the CloudFormation resource).
          type: string
          minLength: 12
          maxLength: 12
        AuditCheckConfigurations:
          $ref: '#/components/schemas/AuditCheckConfigurations'
        AuditNotificationTargetConfigurations:
          $ref: '#/components/schemas/AuditNotificationTargetConfigurations'
        RoleArn:
          description: The ARN of the role that grants permission to AWS IoT to access information about your devices, policies, certificates and other items as required when performing an audit.
          type: string
          minLength: 20
          maxLength: 2048
      required:
        - AccountId
        - AuditCheckConfigurations
        - RoleArn
      x-stackql-resource-name: account_audit_configuration
      x-stackql-primaryIdentifier:
        - AccountId
    Tag:
      type: object
      properties:
        Key:
          type: string
        Value:
          type: string
      additionalProperties: false
      required:
        - Key
        - Value
    Authorizer:
      type: object
      properties:
        AuthorizerFunctionArn:
          type: string
        Arn:
          type: string
        AuthorizerName:
          type: string
          pattern: '[\w=,@-]+'
          minLength: 1
          maxLength: 128
        SigningDisabled:
          type: boolean
        Status:
          type: string
          enum:
            - ACTIVE
            - INACTIVE
        TokenKeyName:
          type: string
        TokenSigningPublicKeys:
          type: object
          additionalProperties: false
          x-patternProperties:
            '[a-zA-Z0-9:_-]+':
              type: string
              maxLength: 5120
        EnableCachingForHttp:
          type: boolean
        Tags:
          type: array
          x-insertionOrder: true
          items:
            $ref: '#/components/schemas/Tag'
      required:
        - AuthorizerFunctionArn
      x-stackql-resource-name: authorizer
      x-stackql-primaryIdentifier:
        - AuthorizerName
    RegistrationConfig:
      type: object
      additionalProperties: false
      properties:
        TemplateBody:
          type: string
          pattern: '[\s\S]*'
          minLength: 0
          maxLength: 10240
        RoleArn:
          type: string
          pattern: arn:(aws[a-zA-Z-]*)?:iam::\d{12}:role/?[a-zA-Z_0-9+=,.@\-_/]+
          minLength: 20
          maxLength: 2048
        TemplateName:
          type: string
          pattern: ^[0-9A-Za-z_-]+$
          minLength: 1
          maxLength: 36
    CACertificate:
      type: object
      properties:
        CACertificatePem:
          type: string
          pattern: '[\s\S]*'
          minLength: 1
          maxLength: 65536
        VerificationCertificatePem:
          type: string
          description: The private key verification certificate.
          pattern: '[\s\S]*'
          minLength: 1
          maxLength: 65536
        Status:
          type: string
          enum:
            - ACTIVE
            - INACTIVE
        CertificateMode:
          type: string
          enum:
            - DEFAULT
            - SNI_ONLY
        AutoRegistrationStatus:
          type: string
          enum:
            - ENABLE
            - DISABLE
        RemoveAutoRegistration:
          type: boolean
        RegistrationConfig:
          $ref: '#/components/schemas/RegistrationConfig'
        Id:
          type: string
        Arn:
          type: string
        Tags:
          description: An array of key-value pairs to apply to this resource.
          type: array
          x-insertionOrder: false
          items:
            $ref: '#/components/schemas/Tag'
      required:
        - CACertificatePem
        - Status
      x-stackql-resource-name: ca_certificate
      x-stackql-primaryIdentifier:
        - Id
    Certificate:
      type: object
      properties:
        CACertificatePem:
          type: string
          minLength: 1
          maxLength: 65536
        CertificatePem:
          type: string
          minLength: 1
          maxLength: 65536
        CertificateSigningRequest:
          type: string
        CertificateMode:
          type: string
          enum:
            - DEFAULT
            - SNI_ONLY
        Status:
          type: string
          enum:
            - ACTIVE
            - INACTIVE
            - REVOKED
            - PENDING_TRANSFER
            - PENDING_ACTIVATION
        Id:
          type: string
        Arn:
          type: string
      required:
        - Status
      x-stackql-resource-name: certificate
      x-stackql-primaryIdentifier:
        - Id
    CustomMetric:
      type: object
      properties:
        MetricName:
          description: 'The name of the custom metric. This will be used in the metric report submitted from the device/thing. Shouldn''t begin with aws: . Cannot be updated once defined.'
          type: string
          pattern: '[a-zA-Z0-9:_-]+'
          minLength: 1
          maxLength: 128
        DisplayName:
          description: Field represents a friendly name in the console for the custom metric; it doesn't have to be unique. Don't use this name as the metric identifier in the device metric report. Can be updated once defined.
          type: string
          maxLength: 128
        MetricType:
          description: The type of the custom metric. Types include string-list, ip-address-list, number-list, and number.
          type: string
          enum:
            - string-list
            - ip-address-list
            - number-list
            - number
        MetricArn:
          description: The Amazon Resource Number (ARN) of the custom metric.
          type: string
          minLength: 20
          maxLength: 2048
        Tags:
          type: array
          maxItems: 50
          uniqueItems: true
          x-insertionOrder: false
          description: An array of key-value pairs to apply to this resource.
          items:
            $ref: '#/components/schemas/Tag'
      required:
        - MetricType
      x-stackql-resource-name: custom_metric
      x-stackql-primaryIdentifier:
        - MetricName
    Dimension:
      type: object
      properties:
        Name:
          description: A unique identifier for the dimension.
          type: string
          pattern: '[a-zA-Z0-9:_-]+'
          minLength: 1
          maxLength: 128
        Type:
          description: Specifies the type of the dimension.
          type: string
          enum:
            - TOPIC_FILTER
        StringValues:
          description: Specifies the value or list of values for the dimension.
          type: array
          uniqueItems: true
          x-insertionOrder: false
          items:
            type: string
            minLength: 1
            maxLength: 256
          minItems: 1
          maxItems: 5
        Tags:
          description: Metadata that can be used to manage the dimension.
          type: array
          maxItems: 50
          uniqueItems: true
          x-insertionOrder: false
          items:
            $ref: '#/components/schemas/Tag'
        Arn:
          description: The ARN (Amazon resource name) of the created dimension.
          type: string
      required:
        - Type
        - StringValues
      x-stackql-resource-name: dimension
      x-stackql-primaryIdentifier:
        - Name
    AuthorizerConfig:
      type: object
      properties:
        AllowAuthorizerOverride:
          type: boolean
        DefaultAuthorizerName:
          type: string
          minLength: 1
          maxLength: 128
          pattern: ^[\w=,@-]+$
      additionalProperties: false
    ServerCertificateSummary:
      type: object
      properties:
        ServerCertificateArn:
          type: string
          pattern: ^arn:aws(-cn|-us-gov|-iso-b|-iso)?:acm:[a-z]{2}-(gov-|iso-|isob-)?[a-z]{4,9}-\d{1}:\d{12}:certificate/[a-zA-Z0-9/-]+$
          minLength: 1
          maxLength: 2048
        ServerCertificateStatus:
          type: string
          enum:
            - INVALID
            - VALID
        ServerCertificateStatusDetail:
          type: string
      additionalProperties: false
    DomainConfiguration:
      type: object
      properties:
        DomainConfigurationName:
          type: string
          minLength: 1
          maxLength: 128
          pattern: ^[\w.-]+$
        AuthorizerConfig:
          $ref: '#/components/schemas/AuthorizerConfig'
        DomainName:
          type: string
          minLength: 1
          maxLength: 253
        ServerCertificateArns:
          type: array
          minItems: 0
          maxItems: 1
          x-insertionOrder: true
          items:
            type: string
            pattern: ^arn:aws(-cn|-us-gov|-iso-b|-iso)?:acm:[a-z]{2}-(gov-|iso-|isob-)?[a-z]{4,9}-\d{1}:\d{12}:certificate/[a-zA-Z0-9/-]+$
            minLength: 1
            maxLength: 2048
        ServiceType:
          type: string
          enum:
            - DATA
            - CREDENTIAL_PROVIDER
            - JOBS
        ValidationCertificateArn:
          type: string
          pattern: ^arn:aws(-cn|-us-gov|-iso-b|-iso)?:acm:[a-z]{2}-(gov-|iso-|isob-)?[a-z]{4,9}-\d{1}:\d{12}:certificate/[a-zA-Z0-9/-]+$
        Arn:
          type: string
        DomainConfigurationStatus:
          type: string
          enum:
            - ENABLED
            - DISABLED
        DomainType:
          type: string
          enum:
            - ENDPOINT
            - AWS_MANAGED
            - CUSTOMER_MANAGED
        ServerCertificates:
          type: array
          x-insertionOrder: true
          items:
            $ref: '#/components/schemas/ServerCertificateSummary'
        Tags:
          type: array
          x-insertionOrder: true
          items:
            $ref: '#/components/schemas/Tag'
      required: []
      x-stackql-resource-name: domain_configuration
      x-stackql-primaryIdentifier:
        - DomainConfigurationName
    AggregationType:
      description: Aggregation types supported by Fleet Indexing
      type: object
      properties:
        Name:
          description: Fleet Indexing aggregation type names such as Statistics, Percentiles and Cardinality
          type: string
        Values:
          description: Fleet Indexing aggregation type values
          type: array
          x-insertionOrder: false
          items:
            type: string
      required:
        - Name
        - Values
      additionalProperties: false
    FleetMetric:
      type: object
      properties:
        MetricName:
          description: The name of the fleet metric
          type: string
        Description:
          description: The description of a fleet metric
          type: string
        QueryString:
          description: The Fleet Indexing query used by a fleet metric
          type: string
        Period:
          description: The period of metric emission in seconds
          type: integer
        AggregationField:
          description: The aggregation field to perform aggregation and metric emission
          type: string
        QueryVersion:
          description: The version of a Fleet Indexing query used by a fleet metric
          type: string
        IndexName:
          description: The index name of a fleet metric
          type: string
        Unit:
          description: The unit of data points emitted by a fleet metric
          type: string
        AggregationType:
          $ref: '#/components/schemas/AggregationType'
        MetricArn:
          description: The Amazon Resource Number (ARN) of a fleet metric metric
          type: string
        CreationDate:
          description: The creation date of a fleet metric
          type: number
        LastModifiedDate:
          description: The last modified date of a fleet metric
          type: number
        Version:
          description: The version of a fleet metric
          type: number
        Tags:
          type: array
          maxItems: 50
          uniqueItems: true
          x-insertionOrder: false
          description: An array of key-value pairs to apply to this resource
          items:
            $ref: '#/components/schemas/Tag'
      required:
        - MetricName
      x-stackql-resource-name: fleet_metric
      x-stackql-primaryIdentifier:
        - MetricName
    ExponentialRolloutRate:
      description: Allows you to create an exponential rate of rollout for a job.
      type: object
      properties:
        BaseRatePerMinute:
          description: The minimum number of things that will be notified of a pending job, per minute at the start of job rollout. This parameter allows you to define the initial rate of rollout.
          $ref: '#/components/schemas/BaseRatePerMinute'
        IncrementFactor:
          description: The exponential factor to increase the rate of rollout for a job.
          $ref: '#/components/schemas/IncrementFactor'
        RateIncreaseCriteria:
          description: The criteria to initiate the increase in rate of rollout for a job.
          type: object
          $ref: '#/components/schemas/RateIncreaseCriteria'
      additionalProperties: false
      required:
        - BaseRatePerMinute
        - IncrementFactor
        - RateIncreaseCriteria
    BaseRatePerMinute:
      type: integer
      minimum: 1
    IncrementFactor:
      type: number
      minimum: 1
      maximum: 5
    RateIncreaseCriteria:
      type: object
      properties:
        NumberOfNotifiedThings:
          $ref: '#/components/schemas/NumberOfNotifiedThings'
        NumberOfSucceededThings:
          $ref: '#/components/schemas/NumberOfSucceededThings'
      additionalProperties: false
    NumberOfNotifiedThings:
      type: integer
      minimum: 1
    NumberOfSucceededThings:
      type: integer
      minimum: 1
    MaximumPerMinute:
      type: integer
      minimum: 1
    AbortCriteria:
      description: The criteria that determine when and how a job abort takes place.
      type: object
      properties:
        Action:
          description: The type of job action to take to initiate the job abort.
          $ref: '#/components/schemas/Action'
        FailureType:
          description: The type of job execution failures that can initiate a job abort.
          $ref: '#/components/schemas/FailureType'
        MinNumberOfExecutedThings:
          description: The minimum number of things which must receive job execution notifications before the job can be aborted.
          $ref: '#/components/schemas/MinNumberOfExecutedThings'
        ThresholdPercentage:
          description: The minimum percentage of job execution failures that must occur to initiate the job abort.
          $ref: '#/components/schemas/ThresholdPercentage'
      additionalProperties: false
      required:
        - Action
        - FailureType
        - MinNumberOfExecutedThings
        - ThresholdPercentage
    Action:
      type: object
      additionalProperties: false
      properties:
        S3:
          $ref: '#/components/schemas/S3Action'
        CloudwatchAlarm:
          $ref: '#/components/schemas/CloudwatchAlarmAction'
        CloudwatchLogs:
          $ref: '#/components/schemas/CloudwatchLogsAction'
        IotEvents:
          $ref: '#/components/schemas/IotEventsAction'
        Firehose:
          $ref: '#/components/schemas/FirehoseAction'
        Republish:
          $ref: '#/components/schemas/RepublishAction'
        StepFunctions:
          $ref: '#/components/schemas/StepFunctionsAction'
        DynamoDB:
          $ref: '#/components/schemas/DynamoDBAction'
        Http:
          $ref: '#/components/schemas/HttpAction'
        DynamoDBv2:
          $ref: '#/components/schemas/DynamoDBv2Action'
        CloudwatchMetric:
          $ref: '#/components/schemas/CloudwatchMetricAction'
        IotSiteWise:
          $ref: '#/components/schemas/IotSiteWiseAction'
        Elasticsearch:
          $ref: '#/components/schemas/ElasticsearchAction'
        Sqs:
          $ref: '#/components/schemas/SqsAction'
        Kinesis:
          $ref: '#/components/schemas/KinesisAction'
        IotAnalytics:
          $ref: '#/components/schemas/IotAnalyticsAction'
        Sns:
          $ref: '#/components/schemas/SnsAction'
        Lambda:
          $ref: '#/components/schemas/LambdaAction'
        Timestream:
          $ref: '#/components/schemas/TimestreamAction'
        Kafka:
          $ref: '#/components/schemas/KafkaAction'
        OpenSearch:
          $ref: '#/components/schemas/OpenSearchAction'
        Location:
          $ref: '#/components/schemas/LocationAction'
    FailureType:
      type: string
      enum:
        - FAILED
        - REJECTED
        - TIMED_OUT
        - ALL
    MinNumberOfExecutedThings:
      type: integer
      minimum: 1
    ThresholdPercentage:
      type: number
      maximum: 100
    InProgressTimeoutInMinutes:
      description: Specifies the amount of time, in minutes, this device has to finish execution of this job.
      type: integer
      minimum: 1
      maximum: 10080
    RoleArn:
      type: string
    ExpiresInSec:
      description: How number (in seconds) pre-signed URLs are valid.
      type: integer
      minimum: 60
      maximum: 3600
    RetryCriteria:
      description: Specifies how many times a failure type should be retried.
      type: object
      properties:
        NumberOfRetries:
          type: integer
          minimum: 0
          maximum: 10
        FailureType:
          $ref: '#/components/schemas/JobRetryFailureType'
      additionalProperties: false
    JobRetryFailureType:
      type: string
      enum:
        - FAILED
        - TIMED_OUT
        - ALL
    MaintenanceWindow:
      description: Specifies a start time and duration for a scheduled Job.
      type: object
      properties:
        StartTime:
          type: string
          minLength: 1
          maxLength: 256
        DurationInMinutes:
          type: integer
          minimum: 1
          maximum: 1430
      additionalProperties: false
    JobTemplate:
      type: object
      properties:
        Arn:
          type: string
        JobArn:
          description: Optional for copying a JobTemplate from a pre-existing Job configuration.
          type: string
        JobTemplateId:
          type: string
          pattern: '[a-zA-Z0-9_-]+'
          minLength: 1
          maxLength: 64
        Description:
          description: A description of the Job Template.
          type: string
          pattern: '[^\p{C}]+'
          maxLength: 2028
        Document:
          description: The job document. Required if you don't specify a value for documentSource.
          type: string
          maxLength: 32768
        DocumentSource:
          description: An S3 link to the job document to use in the template. Required if you don't specify a value for document.
          type: string
          minLength: 1
          maxLength: 1350
        TimeoutConfig:
          description: Specifies the amount of time each device has to finish its execution of the job.
          type: object
          properties:
            InProgressTimeoutInMinutes:
              $ref: '#/components/schemas/InProgressTimeoutInMinutes'
          required:
            - InProgressTimeoutInMinutes
          additionalProperties: false
        JobExecutionsRolloutConfig:
          description: Allows you to create a staged rollout of a job.
          type: object
          properties:
            ExponentialRolloutRate:
              description: The rate of increase for a job rollout. This parameter allows you to define an exponential rate for a job rollout.
              $ref: '#/components/schemas/ExponentialRolloutRate'
            MaximumPerMinute:
              description: The maximum number of things that will be notified of a pending job, per minute. This parameter allows you to create a staged rollout.
              $ref: '#/components/schemas/MaximumPerMinute'
          additionalProperties: false
        AbortConfig:
          description: The criteria that determine when and how a job abort takes place.
          type: object
          properties:
            CriteriaList:
              type: array
              x-insertionOrder: false
              minItems: 1
              items:
                $ref: '#/components/schemas/AbortCriteria'
          required:
            - CriteriaList
          additionalProperties: false
        PresignedUrlConfig:
          type: object
          description: Configuration for pre-signed S3 URLs.
          properties:
            RoleArn:
              $ref: '#/components/schemas/RoleArn'
            ExpiresInSec:
              $ref: '#/components/schemas/ExpiresInSec'
          required:
            - RoleArn
          additionalProperties: false
        JobExecutionsRetryConfig:
          type: object
          properties:
            RetryCriteriaList:
              type: array
              x-insertionOrder: false
              minItems: 1
              maxItems: 2
              items:
                $ref: '#/components/schemas/RetryCriteria'
          additionalProperties: false
        MaintenanceWindows:
          type: array
          x-insertionOrder: false
          items:
            $ref: '#/components/schemas/MaintenanceWindow'
        Tags:
          description: Metadata that can be used to manage the JobTemplate.
          type: array
          maxItems: 50
          uniqueItems: true
          x-insertionOrder: false
          items:
            $ref: '#/components/schemas/Tag'
      required:
        - JobTemplateId
        - Description
      x-stackql-resource-name: job_template
      x-stackql-primaryIdentifier:
        - JobTemplateId
    Logging:
      type: object
      properties:
        AccountId:
          description: Your 12-digit account ID (used as the primary identifier for the CloudFormation resource).
          type: string
          minLength: 12
          maxLength: 12
          pattern: ^[0-9]{12}$
        RoleArn:
          description: The ARN of the role that allows IoT to write to Cloudwatch logs.
          type: string
          minLength: 20
          maxLength: 2048
        DefaultLogLevel:
          description: 'The log level to use. Valid values are: ERROR, WARN, INFO, DEBUG, or DISABLED.'
          type: string
          enum:
            - ERROR
            - WARN
            - INFO
            - DEBUG
            - DISABLED
      required:
        - AccountId
        - RoleArn
        - DefaultLogLevel
      x-stackql-resource-name: logging
      x-stackql-primaryIdentifier:
        - AccountId
    ActionParams:
      type: object
      description: The set of parameters for this mitigation action. You can specify only one type of parameter (in other words, you can apply only one action for each defined mitigation action).
      properties:
        AddThingsToThingGroupParams:
          $ref: '#/components/schemas/AddThingsToThingGroupParams'
        EnableIoTLoggingParams:
          $ref: '#/components/schemas/EnableIoTLoggingParams'
        PublishFindingToSnsParams:
          $ref: '#/components/schemas/PublishFindingToSnsParams'
        ReplaceDefaultPolicyVersionParams:
          $ref: '#/components/schemas/ReplaceDefaultPolicyVersionParams'
        UpdateCACertificateParams:
          $ref: '#/components/schemas/UpdateCACertificateParams'
        UpdateDeviceCertificateParams:
          $ref: '#/components/schemas/UpdateDeviceCertificateParams'
      additionalProperties: false
    AddThingsToThingGroupParams:
      description: Parameters to define a mitigation action that moves devices associated with a certificate to one or more specified thing groups, typically for quarantine.
      type: object
      properties:
        OverrideDynamicGroups:
          type: boolean
          description: Specifies if this mitigation action can move the things that triggered the mitigation action out of one or more dynamic thing groups.
        ThingGroupNames:
          description: The list of groups to which you want to add the things that triggered the mitigation action.
          type: array
          uniqueItems: true
          items:
            type: string
            minLength: 1
            maxLength: 128
          minItems: 1
          maxItems: 10
          x-insertionOrder: false
      required:
        - ThingGroupNames
      additionalProperties: false
    EnableIoTLoggingParams:
      description: Parameters to define a mitigation action that enables AWS IoT logging at a specified level of detail.
      type: object
      properties:
        LogLevel:
          type: string
          enum:
            - DEBUG
            - INFO
            - ERROR
            - WARN
            - UNSET_VALUE
          description: ' Specifies which types of information are logged.'
        RoleArnForLogging:
          description: ' The ARN of the IAM role used for logging.'
          type: string
          minLength: 20
          maxLength: 2048
      required:
        - LogLevel
        - RoleArnForLogging
      additionalProperties: false
    PublishFindingToSnsParams:
      type: object
      description: Parameters, to define a mitigation action that publishes findings to Amazon SNS. You can implement your own custom actions in response to the Amazon SNS messages.
      properties:
        TopicArn:
          type: string
          description: The ARN of the topic to which you want to publish the findings.
          minLength: 20
          maxLength: 2048
      required:
        - TopicArn
      additionalProperties: false
    ReplaceDefaultPolicyVersionParams:
      type: object
      description: Parameters to define a mitigation action that adds a blank policy to restrict permissions.
      properties:
        TemplateName:
          type: string
          enum:
            - BLANK_POLICY
            - UNSET_VALUE
      required:
        - TemplateName
      additionalProperties: false
    UpdateCACertificateParams:
      type: object
      description: Parameters to define a mitigation action that changes the state of the CA certificate to inactive.
      properties:
        Action:
          type: string
          enum:
            - DEACTIVATE
            - UNSET_VALUE
      required:
        - Action
      additionalProperties: false
    UpdateDeviceCertificateParams:
      type: object
      description: Parameters to define a mitigation action that changes the state of the device certificate to inactive.
      properties:
        Action:
          type: string
          enum:
            - DEACTIVATE
            - UNSET_VALUE
      required:
        - Action
      additionalProperties: false
    MitigationAction:
      type: object
      properties:
        ActionName:
          description: A unique identifier for the mitigation action.
          type: string
          pattern: '[a-zA-Z0-9:_-]+'
          minLength: 1
          maxLength: 128
        RoleArn:
          type: string
        Tags:
          type: array
          maxItems: 50
          uniqueItems: true
          x-insertionOrder: false
          description: An array of key-value pairs to apply to this resource.
          items:
            $ref: '#/components/schemas/Tag'
        ActionParams:
          $ref: '#/components/schemas/ActionParams'
        MitigationActionArn:
          type: string
        MitigationActionId:
          type: string
      required:
        - RoleArn
        - ActionParams
      x-stackql-resource-name: mitigation_action
      x-stackql-primaryIdentifier:
        - ActionName
    Policy:
      type: object
      properties:
        Id:
          type: string
        Arn:
          type: string
        PolicyDocument:
          type: object
        PolicyName:
          type: string
      required:
        - PolicyDocument
      x-stackql-resource-name: policy
      x-stackql-primaryIdentifier:
        - Id
    PolicyPrincipalAttachment:
      type: object
      properties:
        Id:
          type: string
        PolicyName:
          type: string
        Principal:
          type: string
      required:
        - Principal
        - PolicyName
      x-stackql-resource-name: policy_principal_attachment
      x-stackql-primaryIdentifier:
        - Id
    ProvisioningHook:
      type: object
      properties:
        TargetArn:
          type: string
        PayloadVersion:
          type: string
    ProvisioningTemplate:
      type: object
      properties:
        TemplateArn:
          type: string
        TemplateName:
          type: string
          pattern: ^[0-9A-Za-z_-]+$
          minLength: 1
          maxLength: 36
        Description:
          type: string
          maxLength: 500
        Enabled:
          type: boolean
        ProvisioningRoleArn:
          type: string
        TemplateBody:
          type: string
        TemplateType:
          type: string
          enum:
            - FLEET_PROVISIONING
            - JITP
        PreProvisioningHook:
          $ref: '#/components/schemas/ProvisioningHook'
        Tags:
          type: array
          x-insertionOrder: true
          items:
            $ref: '#/components/schemas/Tag'
      required:
        - ProvisioningRoleArn
        - TemplateBody
      x-stackql-resource-name: provisioning_template
      x-stackql-primaryIdentifier:
        - TemplateName
    ResourceSpecificLogging:
      type: object
      properties:
        TargetType:
          description: The target type. Value must be THING_GROUP, CLIENT_ID, SOURCE_IP, PRINCIPAL_ID, or EVENT_TYPE.
          type: string
          enum:
            - THING_GROUP
            - CLIENT_ID
            - SOURCE_IP
            - PRINCIPAL_ID
            - EVENT_TYPE
        TargetName:
          description: The target name.
          type: string
          minLength: 1
          maxLength: 128
          pattern: '[a-zA-Z0-9.:\s_\-]+'
        LogLevel:
          description: 'The log level for a specific target. Valid values are: ERROR, WARN, INFO, DEBUG, or DISABLED.'
          type: string
          enum:
            - ERROR
            - WARN
            - INFO
            - DEBUG
            - DISABLED
        TargetId:
          description: Unique Id for a Target (TargetType:TargetName), this will be internally built to serve as primary identifier for a log target.
          type: string
          minLength: 13
          maxLength: 140
          pattern: '[a-zA-Z0-9.:\s_\-]+'
      required:
        - TargetName
        - TargetType
        - LogLevel
      x-stackql-resource-name: resource_specific_logging
      x-stackql-primaryIdentifier:
        - TargetId
    RoleAlias:
      type: object
      properties:
        RoleAlias:
          type: string
          pattern: '[\w=,@-]+'
          minLength: 1
          maxLength: 128
        RoleAliasArn:
          type: string
          pattern: '[\w=,@-]+'
          minLength: 1
          maxLength: 128
        RoleArn:
          type: string
          pattern: arn:(aws[a-zA-Z-]*)?:iam::\d{12}:role/?[a-zA-Z_0-9+=,.@\-_/]+
          minLength: 20
          maxLength: 2048
        CredentialDurationSeconds:
          type: integer
          minimum: 900
          maximum: 43200
          default: 3600
        Tags:
          type: array
          x-insertionOrder: true
          items:
            $ref: '#/components/schemas/Tag'
      required:
        - RoleArn
      x-stackql-resource-name: role_alias
      x-stackql-primaryIdentifier:
        - RoleAlias
    ScheduledAudit:
      type: object
      properties:
        ScheduledAuditName:
          description: The name you want to give to the scheduled audit.
          type: string
          pattern: '[a-zA-Z0-9:_-]+'
          minLength: 1
          maxLength: 128
        Frequency:
          description: How often the scheduled audit takes place. Can be one of DAILY, WEEKLY, BIWEEKLY, or MONTHLY.
          type: string
          enum:
            - DAILY
            - WEEKLY
            - BIWEEKLY
            - MONTHLY
        DayOfMonth:
          description: The day of the month on which the scheduled audit takes place. Can be 1 through 31 or LAST. This field is required if the frequency parameter is set to MONTHLY.
          type: string
          pattern: ^([1-9]|[12][0-9]|3[01])$|^LAST$|^UNSET_VALUE$
        DayOfWeek:
          description: The day of the week on which the scheduled audit takes place. Can be one of SUN, MON, TUE,WED, THU, FRI, or SAT. This field is required if the frequency parameter is set to WEEKLY or BIWEEKLY.
          type: string
          enum:
            - SUN
            - MON
            - TUE
            - WED
            - THU
            - FRI
            - SAT
            - UNSET_VALUE
        TargetCheckNames:
          description: Which checks are performed during the scheduled audit. Checks must be enabled for your account.
          type: array
          uniqueItems: true
          x-insertionOrder: false
          items:
            type: string
        ScheduledAuditArn:
          description: The ARN (Amazon resource name) of the scheduled audit.
          type: string
          minLength: 20
          maxLength: 2048
        Tags:
          type: array
          maxItems: 50
          uniqueItems: true
          x-insertionOrder: false
          description: An array of key-value pairs to apply to this resource.
          items:
            $ref: '#/components/schemas/Tag'
      required:
        - Frequency
        - TargetCheckNames
      x-stackql-resource-name: scheduled_audit
      x-stackql-primaryIdentifier:
        - ScheduledAuditName
    Behavior:
      description: A security profile behavior.
      type: object
      properties:
        Name:
          description: The name for the behavior.
          type: string
          pattern: '[a-zA-Z0-9:_-]+'
          minLength: 1
          maxLength: 128
        Metric:
          description: What is measured by the behavior.
          type: string
          pattern: '[a-zA-Z0-9:_-]+'
          minLength: 1
          maxLength: 128
        MetricDimension:
          $ref: '#/components/schemas/MetricDimension'
        Criteria:
          $ref: '#/components/schemas/BehaviorCriteria'
        SuppressAlerts:
          description: Manage Detect alarm SNS notifications by setting behavior notification to on or suppressed. Detect will continue to performing device behavior evaluations. However, suppressed alarms wouldn't be forwarded for SNS notification.
          type: boolean
      required:
        - Name
      additionalProperties: false
    MetricDimension:
      description: The dimension of a metric.
      type: object
      properties:
        DimensionName:
          description: A unique identifier for the dimension.
          type: string
          pattern: '[a-zA-Z0-9:_-]+'
          minLength: 1
          maxLength: 128
        Operator:
          description: Defines how the dimensionValues of a dimension are interpreted.
          type: string
          enum:
            - IN
            - NOT_IN
      required:
        - DimensionName
      additionalProperties: false
    BehaviorCriteria:
      description: The criteria by which the behavior is determined to be normal.
      type: object
      properties:
        ComparisonOperator:
          description: The operator that relates the thing measured (metric) to the criteria (containing a value or statisticalThreshold).
          type: string
          enum:
            - less-than
            - less-than-equals
            - greater-than
            - greater-than-equals
            - in-cidr-set
            - not-in-cidr-set
            - in-port-set
            - not-in-port-set
            - in-set
            - not-in-set
        Value:
          $ref: '#/components/schemas/MetricValue'
        DurationSeconds:
          type: integer
          description: Use this to specify the time duration over which the behavior is evaluated.
        ConsecutiveDatapointsToAlarm:
          description: If a device is in violation of the behavior for the specified number of consecutive datapoints, an alarm occurs. If not specified, the default is 1.
          type: integer
          minimum: 1
          maximum: 10
        ConsecutiveDatapointsToClear:
          description: If an alarm has occurred and the offending device is no longer in violation of the behavior for the specified number of consecutive datapoints, the alarm is cleared. If not specified, the default is 1.
          type: integer
          minimum: 1
          maximum: 10
        StatisticalThreshold:
          $ref: '#/components/schemas/StatisticalThreshold'
        MlDetectionConfig:
          $ref: '#/components/schemas/MachineLearningDetectionConfig'
      additionalProperties: false
    MetricValue:
      description: The value to be compared with the metric.
      type: object
      properties:
        Count:
          description: If the ComparisonOperator calls for a numeric value, use this to specify that (integer) numeric value to be compared with the metric.
          type: string
          minimum: 0
        Cidrs:
          description: If the ComparisonOperator calls for a set of CIDRs, use this to specify that set to be compared with the metric.
          type: array
          uniqueItems: true
          x-insertionOrder: false
          items:
            type: string
        Ports:
          description: If the ComparisonOperator calls for a set of ports, use this to specify that set to be compared with the metric.
          type: array
          uniqueItems: true
          x-insertionOrder: false
          items:
            type: integer
            minimum: 0
            maximum: 65535
        Number:
          description: The numeral value of a metric.
          type: number
        Numbers:
          description: The numeral values of a metric.
          type: array
          uniqueItems: true
          x-insertionOrder: false
          items:
            type: number
        Strings:
          description: The string values of a metric.
          type: array
          uniqueItems: true
          x-insertionOrder: false
          items:
            type: string
      additionalProperties: false
    StatisticalThreshold:
      description: A statistical ranking (percentile) which indicates a threshold value by which a behavior is determined to be in compliance or in violation of the behavior.
      type: object
      properties:
        Statistic:
          description: The percentile which resolves to a threshold value by which compliance with a behavior is determined
          type: string
          enum:
            - Average
            - p0
            - p0.1
            - p0.01
            - p1
            - p10
            - p50
            - p90
            - p99
            - p99.9
            - p99.99
            - p100
      additionalProperties: false
    MachineLearningDetectionConfig:
      description: The configuration of an ML Detect Security Profile.
      type: object
      properties:
        ConfidenceLevel:
          description: The sensitivity of anomalous behavior evaluation. Can be Low, Medium, or High.
          type: string
          enum:
            - LOW
            - MEDIUM
            - HIGH
      additionalProperties: false
    AlertTarget:
      description: A structure containing the alert target ARN and the role ARN.
      type: object
      properties:
        AlertTargetArn:
          description: The ARN of the notification target to which alerts are sent.
          type: string
          maxLength: 2048
        RoleArn:
          description: The ARN of the role that grants permission to send alerts to the notification target.
          type: string
          minLength: 20
          maxLength: 2048
      required:
        - AlertTargetArn
        - RoleArn
      additionalProperties: false
    MetricToRetain:
      description: The metric you want to retain. Dimensions are optional.
      type: object
      properties:
        Metric:
          description: What is measured by the behavior.
          type: string
          pattern: '[a-zA-Z0-9:_-]+'
          minLength: 1
          maxLength: 128
        MetricDimension:
          $ref: '#/components/schemas/MetricDimension'
      required:
        - Metric
      additionalProperties: false
    SecurityProfile:
      type: object
      properties:
        SecurityProfileName:
          description: A unique identifier for the security profile.
          type: string
          pattern: '[a-zA-Z0-9:_-]+'
          minLength: 1
          maxLength: 128
        SecurityProfileDescription:
          description: A description of the security profile.
          type: string
          maxLength: 1000
        Behaviors:
          description: Specifies the behaviors that, when violated by a device (thing), cause an alert.
          type: array
          maxLength: 100
          uniqueItems: true
          x-insertionOrder: false
          items:
            $ref: '#/components/schemas/Behavior'
        AlertTargets:
          description: Specifies the destinations to which alerts are sent.
          type: object
          x-patternProperties:
            '[a-zA-Z0-9:_-]+':
              $ref: '#/components/schemas/AlertTarget'
          additionalProperties: false
        AdditionalMetricsToRetainV2:
          description: A list of metrics whose data is retained (stored). By default, data is retained for any metric used in the profile's behaviors, but it is also retained for any metric specified here.
          type: array
          uniqueItems: true
          x-insertionOrder: false
          items:
            $ref: '#/components/schemas/MetricToRetain'
        Tags:
          description: Metadata that can be used to manage the security profile.
          type: array
          maxItems: 50
          uniqueItems: true
          x-insertionOrder: false
          items:
            $ref: '#/components/schemas/Tag'
        TargetArns:
          description: A set of target ARNs that the security profile is attached to.
          type: array
          uniqueItems: true
          x-insertionOrder: false
          items:
            description: The ARN of the target to which the security profile is attached.
            type: string
            maxLength: 2048
        SecurityProfileArn:
          description: The ARN (Amazon resource name) of the created security profile.
          type: string
      required: []
      x-stackql-resource-name: security_profile
      x-stackql-primaryIdentifier:
        - SecurityProfileName
    AttributePayload:
      type: object
      additionalProperties: false
      properties:
        Attributes:
          type: object
          additionalProperties: false
          x-patternProperties:
            '[a-zA-Z0-9_.,@/:#-]+':
              type: string
    Thing:
      type: object
      properties:
        Id:
          type: string
        Arn:
          type: string
        AttributePayload:
          $ref: '#/components/schemas/AttributePayload'
        ThingName:
          type: string
          pattern: '[a-zA-Z0-9:_-]+'
          minLength: 1
          maxLength: 128
      x-stackql-resource-name: thing
      x-stackql-primaryIdentifier:
        - ThingName
    ThingPrincipalAttachment:
      type: object
      properties:
        Id:
          type: string
        Principal:
          type: string
        ThingName:
          type: string
      required:
        - Principal
        - ThingName
      x-stackql-resource-name: thing_principal_attachment
      x-stackql-primaryIdentifier:
        - Id
    ElasticsearchAction:
      type: object
      additionalProperties: false
      properties:
        Type:
          type: string
        Index:
          type: string
        Id:
          type: string
        Endpoint:
          type: string
        RoleArn:
          type: string
      required:
        - Type
        - Endpoint
        - Index
        - Id
        - RoleArn
    KinesisAction:
      type: object
      additionalProperties: false
      properties:
        PartitionKey:
          type: string
        StreamName:
          type: string
        RoleArn:
          type: string
      required:
        - StreamName
        - RoleArn
    FirehoseAction:
      type: object
      additionalProperties: false
      properties:
        DeliveryStreamName:
          type: string
        RoleArn:
          type: string
        Separator:
          type: string
        BatchMode:
          type: boolean
      required:
        - DeliveryStreamName
        - RoleArn
    AssetPropertyTimestamp:
      type: object
      additionalProperties: false
      properties:
        TimeInSeconds:
          type: string
        OffsetInNanos:
          type: string
      required:
        - TimeInSeconds
    CloudwatchMetricAction:
      type: object
      additionalProperties: false
      properties:
        MetricName:
          type: string
        MetricValue:
          type: string
        MetricNamespace:
          type: string
        MetricUnit:
          type: string
        RoleArn:
          type: string
        MetricTimestamp:
          type: string
      required:
        - MetricName
        - MetricValue
        - MetricNamespace
        - MetricUnit
        - RoleArn
    AssetPropertyVariant:
      type: object
      additionalProperties: false
      properties:
        StringValue:
          type: string
        DoubleValue:
          type: string
        BooleanValue:
          type: string
        IntegerValue:
          type: string
    DynamoDBAction:
      type: object
      additionalProperties: false
      properties:
        TableName:
          type: string
        PayloadField:
          type: string
        RangeKeyField:
          type: string
        HashKeyField:
          type: string
        RangeKeyValue:
          type: string
        RangeKeyType:
          type: string
        HashKeyType:
          type: string
        HashKeyValue:
          type: string
        RoleArn:
          type: string
      required:
        - TableName
        - HashKeyField
        - HashKeyValue
        - RoleArn
    UserProperty:
      type: object
      additionalProperties: false
      required:
        - Key
        - Value
      properties:
        Key:
          type: string
          minLength: 0
          maxLength: 1024
        Value:
          type: string
          minLength: 0
          maxLength: 1024
    UserProperties:
      type: array
      minItems: 1
      maxItems: 100
      items:
        $ref: '#/components/schemas/UserProperty'
    RepublishActionHeaders:
      type: object
      additionalProperties: false
      properties:
        PayloadFormatIndicator:
          type: string
          minLength: 0
          maxLength: 1024
        ContentType:
          type: string
          minLength: 0
          maxLength: 1024
        ResponseTopic:
          type: string
          minLength: 0
          maxLength: 1024
        CorrelationData:
          type: string
          minLength: 0
          maxLength: 1024
        MessageExpiry:
          type: string
          minLength: 0
          maxLength: 1024
        UserProperties:
          $ref: '#/components/schemas/UserProperties'
    RepublishAction:
      type: object
      additionalProperties: false
      properties:
        Qos:
          type: integer
        Topic:
          type: string
        RoleArn:
          type: string
        Headers:
          $ref: '#/components/schemas/RepublishActionHeaders'
      required:
        - Topic
        - RoleArn
    SnsAction:
      type: object
      additionalProperties: false
      properties:
        TargetArn:
          type: string
        MessageFormat:
          type: string
        RoleArn:
          type: string
      required:
        - TargetArn
        - RoleArn
    StepFunctionsAction:
      type: object
      additionalProperties: false
      properties:
        ExecutionNamePrefix:
          type: string
        StateMachineName:
          type: string
        RoleArn:
          type: string
      required:
        - StateMachineName
        - RoleArn
    SqsAction:
      type: object
      additionalProperties: false
      properties:
        RoleArn:
          type: string
        UseBase64:
          type: boolean
        QueueUrl:
          type: string
      required:
        - RoleArn
        - QueueUrl
    SigV4Authorization:
      type: object
      additionalProperties: false
      properties:
        ServiceName:
          type: string
        SigningRegion:
          type: string
        RoleArn:
          type: string
      required:
        - ServiceName
        - SigningRegion
        - RoleArn
    LambdaAction:
      type: object
      additionalProperties: false
      properties:
        FunctionArn:
          type: string
    PutAssetPropertyValueEntry:
      type: object
      additionalProperties: false
      properties:
        PropertyAlias:
          type: string
        PropertyValues:
          type: array
          uniqueItems: true
          items:
            $ref: '#/components/schemas/AssetPropertyValue'
        AssetId:
          type: string
        EntryId:
          type: string
        PropertyId:
          type: string
      required:
        - PropertyValues
    PutItemInput:
      type: object
      additionalProperties: false
      properties:
        TableName:
          type: string
      required:
        - TableName
    S3Action:
      type: object
      additionalProperties: false
      properties:
        BucketName:
          type: string
        Key:
          type: string
        RoleArn:
          type: string
        CannedAcl:
          $ref: '#/components/schemas/CannedAccessControlList'
      required:
        - BucketName
        - Key
        - RoleArn
    AssetPropertyValue:
      type: object
      additionalProperties: false
      properties:
        Value:
          $ref: '#/components/schemas/AssetPropertyVariant'
        Timestamp:
          $ref: '#/components/schemas/AssetPropertyTimestamp'
        Quality:
          type: string
      required:
        - Value
        - Timestamp
    DynamoDBv2Action:
      type: object
      additionalProperties: false
      properties:
        PutItem:
          $ref: '#/components/schemas/PutItemInput'
        RoleArn:
          type: string
    IotEventsAction:
      type: object
      additionalProperties: false
      properties:
        InputName:
          type: string
        RoleArn:
          type: string
        MessageId:
          type: string
        BatchMode:
          type: boolean
      required:
        - InputName
        - RoleArn
    HttpAuthorization:
      type: object
      additionalProperties: false
      properties:
        Sigv4:
          $ref: '#/components/schemas/SigV4Authorization'
    TopicRulePayload:
      type: object
      additionalProperties: false
      properties:
        RuleDisabled:
          type: boolean
        ErrorAction:
          $ref: '#/components/schemas/Action'
        Description:
          type: string
        AwsIotSqlVersion:
          type: string
        Actions:
          type: array
          items:
            $ref: '#/components/schemas/Action'
        Sql:
          type: string
      required:
        - Actions
        - Sql
    CloudwatchAlarmAction:
      type: object
      additionalProperties: false
      properties:
        StateValue:
          type: string
        AlarmName:
          type: string
        StateReason:
          type: string
        RoleArn:
          type: string
      required:
        - AlarmName
        - StateReason
        - StateValue
        - RoleArn
    CloudwatchLogsAction:
      type: object
      additionalProperties: false
      properties:
        LogGroupName:
          type: string
        RoleArn:
          type: string
        BatchMode:
          type: boolean
      required:
        - LogGroupName
        - RoleArn
    IotAnalyticsAction:
      type: object
      additionalProperties: false
      properties:
        RoleArn:
          type: string
        ChannelName:
          type: string
        BatchMode:
          type: boolean
      required:
        - ChannelName
        - RoleArn
    HttpActionHeader:
      type: object
      additionalProperties: false
      properties:
        Value:
          type: string
        Key:
          type: string
      required:
        - Value
        - Key
    IotSiteWiseAction:
      type: object
      additionalProperties: false
      properties:
        RoleArn:
          type: string
        PutAssetPropertyValueEntries:
          type: array
          uniqueItems: true
          items:
            $ref: '#/components/schemas/PutAssetPropertyValueEntry'
      required:
        - PutAssetPropertyValueEntries
        - RoleArn
    HttpAction:
      type: object
      additionalProperties: false
      properties:
        ConfirmationUrl:
          type: string
        Headers:
          type: array
          uniqueItems: true
          items:
            $ref: '#/components/schemas/HttpActionHeader'
        Url:
          type: string
        Auth:
          $ref: '#/components/schemas/HttpAuthorization'
      required:
        - Url
    TimestreamAction:
      type: object
      additionalProperties: false
      properties:
        RoleArn:
          type: string
        DatabaseName:
          type: string
        TableName:
          type: string
        Dimensions:
          $ref: '#/components/schemas/TimestreamDimensionsList'
        Timestamp:
          $ref: '#/components/schemas/TimestreamTimestamp'
      required:
        - RoleArn
        - DatabaseName
        - TableName
        - Dimensions
    KafkaAction:
      type: object
      additionalProperties: false
      properties:
        DestinationArn:
          type: string
        Topic:
          type: string
        Key:
          type: string
        Partition:
          type: string
        ClientProperties:
          type: object
          additionalProperties: false
          x-patternProperties:
            .*:
              type: string
          minProperties: 1
      required:
        - DestinationArn
        - Topic
        - ClientProperties
    OpenSearchAction:
      type: object
      additionalProperties: false
      properties:
        Type:
          type: string
        Index:
          type: string
        Id:
          type: string
        Endpoint:
          type: string
        RoleArn:
          type: string
      required:
        - Type
        - Endpoint
        - Index
        - Id
        - RoleArn
    LocationAction:
      type: object
      additionalProperties: false
      properties:
        RoleArn:
          type: string
        TrackerName:
          type: string
        DeviceId:
          type: string
        Latitude:
          type: string
        Longitude:
          type: string
        Timestamp:
          $ref: '#/components/schemas/Timestamp'
      required:
        - RoleArn
        - TrackerName
        - DeviceId
        - Latitude
        - Longitude
    CannedAccessControlList:
      type: string
      enum:
        - private
        - public-read
        - public-read-write
        - aws-exec-read
        - authenticated-read
        - bucket-owner-read
        - bucket-owner-full-control
        - log-delivery-write
    TimestreamDimensionsList:
      type: array
      minItems: 1
      maxItems: 128
      items:
        $ref: '#/components/schemas/TimestreamDimension'
    TimestreamDimension:
      type: object
      properties:
        Name:
          type: string
        Value:
          type: string
      additionalProperties: false
      required:
        - Name
        - Value
    TimestreamTimestamp:
      type: object
      properties:
        Value:
          type: string
        Unit:
          type: string
      additionalProperties: false
      required:
        - Value
        - Unit
    Timestamp:
      type: object
      properties:
        Value:
          type: string
        Unit:
          type: string
      additionalProperties: false
      required:
        - Value
    TopicRule:
      type: object
      properties:
        Arn:
          type: string
        RuleName:
          type: string
        TopicRulePayload:
          $ref: '#/components/schemas/TopicRulePayload'
        Tags:
          type: array
          items:
            $ref: '#/components/schemas/Tag'
      required:
        - TopicRulePayload
      x-stackql-resource-name: topic_rule
      x-stackql-primaryIdentifier:
        - RuleName
    TopicRuleDestinationStatus:
      type: string
      enum:
        - ENABLED
        - IN_PROGRESS
        - DISABLED
    HttpUrlDestinationSummary:
      type: object
      additionalProperties: false
      properties:
        ConfirmationUrl:
          type: string
    VpcDestinationProperties:
      type: object
      additionalProperties: false
      properties:
        SubnetIds:
          type: array
          uniqueItems: true
          items:
            type: string
        SecurityGroups:
          type: array
          uniqueItems: true
          items:
            type: string
        VpcId:
          type: string
        RoleArn:
          type: string
    TopicRuleDestination:
      type: object
      properties:
        Arn:
          description: Amazon Resource Name (ARN).
          type: string
        Status:
          description: The status of the TopicRuleDestination.
          $ref: '#/components/schemas/TopicRuleDestinationStatus'
        HttpUrlProperties:
          description: HTTP URL destination properties.
          $ref: '#/components/schemas/HttpUrlDestinationSummary'
        StatusReason:
          description: The reasoning for the current status of the TopicRuleDestination.
          type: string
        VpcProperties:
          description: VPC destination properties.
          $ref: '#/components/schemas/VpcDestinationProperties'
      x-stackql-resource-name: topic_rule_destination
      x-stackql-primaryIdentifier:
        - Arn
  x-stackQL-resources:
    account_audit_configurations:
      name: account_audit_configurations
      id: aws.iot.account_audit_configurations
      x-cfn-schema-name: AccountAuditConfiguration
      x-type: list
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.AccountId') as account_id
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoT::AccountAuditConfiguration'
    account_audit_configuration:
      name: account_audit_configuration
      id: aws.iot.account_audit_configuration
      x-cfn-schema-name: AccountAuditConfiguration
      x-type: get
      x-identifiers:
        - AccountId
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.AccountId') as account_id,
              JSON_EXTRACT(Properties, '$.AuditCheckConfigurations.AuthenticatedCognitoRoleOverlyPermissiveCheck') as audit_check_configurations_authenticated_cognito_role_overly_permissive_check,
              JSON_EXTRACT(Properties, '$.AuditCheckConfigurations.CaCertificateExpiringCheck') as audit_check_configurations_ca_certificate_expiring_check,
              JSON_EXTRACT(Properties, '$.AuditCheckConfigurations.CaCertificateKeyQualityCheck') as audit_check_configurations_ca_certificate_key_quality_check,
              JSON_EXTRACT(Properties, '$.AuditCheckConfigurations.ConflictingClientIdsCheck') as audit_check_configurations_conflicting_client_ids_check,
              JSON_EXTRACT(Properties, '$.AuditCheckConfigurations.DeviceCertificateExpiringCheck') as audit_check_configurations_device_certificate_expiring_check,
              JSON_EXTRACT(Properties, '$.AuditCheckConfigurations.DeviceCertificateKeyQualityCheck') as audit_check_configurations_device_certificate_key_quality_check,
              JSON_EXTRACT(Properties, '$.AuditCheckConfigurations.DeviceCertificateSharedCheck') as audit_check_configurations_device_certificate_shared_check,
              JSON_EXTRACT(Properties, '$.AuditCheckConfigurations.IotPolicyOverlyPermissiveCheck') as audit_check_configurations_iot_policy_overly_permissive_check,
              JSON_EXTRACT(Properties, '$.AuditCheckConfigurations.IotRoleAliasAllowsAccessToUnusedServicesCheck') as audit_check_configurations_iot_role_alias_allows_access_to_unused_services_check,
              JSON_EXTRACT(Properties, '$.AuditCheckConfigurations.IotRoleAliasOverlyPermissiveCheck') as audit_check_configurations_iot_role_alias_overly_permissive_check,
              JSON_EXTRACT(Properties, '$.AuditCheckConfigurations.LoggingDisabledCheck') as audit_check_configurations_logging_disabled_check,
              JSON_EXTRACT(Properties, '$.AuditCheckConfigurations.RevokedCaCertificateStillActiveCheck') as audit_check_configurations_revoked_ca_certificate_still_active_check,
              JSON_EXTRACT(Properties, '$.AuditCheckConfigurations.RevokedDeviceCertificateStillActiveCheck') as audit_check_configurations_revoked_device_certificate_still_active_check,
              JSON_EXTRACT(Properties, '$.AuditCheckConfigurations.UnauthenticatedCognitoRoleOverlyPermissiveCheck') as audit_check_configurations_unauthenticated_cognito_role_overly_permissive_check,
              JSON_EXTRACT(Properties, '$.AuditCheckConfigurations.IntermediateCaRevokedForActiveDeviceCertificatesCheck') as audit_check_configurations_intermediate_ca_revoked_for_active_device_certificates_check,
              JSON_EXTRACT(Properties, '$.AuditCheckConfigurations.IoTPolicyPotentialMisConfigurationCheck') as audit_check_configurations_io_tpolicy_potential_mis_configuration_check,
              JSON_EXTRACT(Properties, '$.AuditNotificationTargetConfigurations.Sns') as audit_notification_target_configurations_sns,
              JSON_EXTRACT(Properties, '$.RoleArn') as role_arn
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoT::AccountAuditConfiguration'
    authorizers:
      name: authorizers
      id: aws.iot.authorizers
      x-cfn-schema-name: Authorizer
      x-type: list
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.AuthorizerName') as authorizer_name
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoT::Authorizer'
    authorizer:
      name: authorizer
      id: aws.iot.authorizer
      x-cfn-schema-name: Authorizer
      x-type: get
      x-identifiers:
        - AuthorizerName
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.AuthorizerFunctionArn') as authorizer_function_arn,
              JSON_EXTRACT(Properties, '$.Arn') as arn,
              JSON_EXTRACT(Properties, '$.AuthorizerName') as authorizer_name,
              JSON_EXTRACT(Properties, '$.SigningDisabled') as signing_disabled,
              JSON_EXTRACT(Properties, '$.Status') as status,
              JSON_EXTRACT(Properties, '$.TokenKeyName') as token_key_name,
              JSON_EXTRACT(Properties, '$.TokenSigningPublicKeys') as token_signing_public_keys,
              JSON_EXTRACT(Properties, '$.EnableCachingForHttp') as enable_caching_for_http,
              JSON_EXTRACT(Properties, '$.Tags') as tags
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoT::Authorizer'
    ca_certificates:
      name: ca_certificates
      id: aws.iot.ca_certificates
      x-cfn-schema-name: CACertificate
      x-type: list
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Id') as id
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoT::CACertificate'
    ca_certificate:
      name: ca_certificate
      id: aws.iot.ca_certificate
      x-cfn-schema-name: CACertificate
      x-type: get
      x-identifiers:
        - Id
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.CACertificatePem') as c_acertificate_pem,
              JSON_EXTRACT(Properties, '$.VerificationCertificatePem') as verification_certificate_pem,
              JSON_EXTRACT(Properties, '$.Status') as status,
              JSON_EXTRACT(Properties, '$.CertificateMode') as certificate_mode,
              JSON_EXTRACT(Properties, '$.AutoRegistrationStatus') as auto_registration_status,
              JSON_EXTRACT(Properties, '$.RemoveAutoRegistration') as remove_auto_registration,
              JSON_EXTRACT(Properties, '$.RegistrationConfig.TemplateBody') as registration_config_template_body,
              JSON_EXTRACT(Properties, '$.RegistrationConfig.RoleArn') as registration_config_role_arn,
              JSON_EXTRACT(Properties, '$.RegistrationConfig.TemplateName') as registration_config_template_name,
              JSON_EXTRACT(Properties, '$.Id') as id,
              JSON_EXTRACT(Properties, '$.Arn') as arn,
              JSON_EXTRACT(Properties, '$.Tags') as tags
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoT::CACertificate'
    certificates:
      name: certificates
      id: aws.iot.certificates
      x-cfn-schema-name: Certificate
      x-type: list
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Id') as id
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoT::Certificate'
    certificate:
      name: certificate
      id: aws.iot.certificate
      x-cfn-schema-name: Certificate
      x-type: get
      x-identifiers:
        - Id
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.CACertificatePem') as c_acertificate_pem,
              JSON_EXTRACT(Properties, '$.CertificatePem') as certificate_pem,
              JSON_EXTRACT(Properties, '$.CertificateSigningRequest') as certificate_signing_request,
              JSON_EXTRACT(Properties, '$.CertificateMode') as certificate_mode,
              JSON_EXTRACT(Properties, '$.Status') as status,
              JSON_EXTRACT(Properties, '$.Id') as id,
              JSON_EXTRACT(Properties, '$.Arn') as arn
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoT::Certificate'
    custom_metrics:
      name: custom_metrics
      id: aws.iot.custom_metrics
      x-cfn-schema-name: CustomMetric
      x-type: list
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.MetricName') as metric_name
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoT::CustomMetric'
    custom_metric:
      name: custom_metric
      id: aws.iot.custom_metric
      x-cfn-schema-name: CustomMetric
      x-type: get
      x-identifiers:
        - MetricName
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.MetricName') as metric_name,
              JSON_EXTRACT(Properties, '$.DisplayName') as display_name,
              JSON_EXTRACT(Properties, '$.MetricType') as metric_type,
              JSON_EXTRACT(Properties, '$.MetricArn') as metric_arn,
              JSON_EXTRACT(Properties, '$.Tags') as tags
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoT::CustomMetric'
    dimensions:
      name: dimensions
      id: aws.iot.dimensions
      x-cfn-schema-name: Dimension
      x-type: list
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Name') as name
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoT::Dimension'
    dimension:
      name: dimension
      id: aws.iot.dimension
      x-cfn-schema-name: Dimension
      x-type: get
      x-identifiers:
        - Name
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Name') as name,
              JSON_EXTRACT(Properties, '$.Type') as type,
              JSON_EXTRACT(Properties, '$.StringValues') as string_values,
              JSON_EXTRACT(Properties, '$.Tags') as tags,
              JSON_EXTRACT(Properties, '$.Arn') as arn
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoT::Dimension'
    domain_configurations:
      name: domain_configurations
      id: aws.iot.domain_configurations
      x-cfn-schema-name: DomainConfiguration
      x-type: list
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.DomainConfigurationName') as domain_configuration_name
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoT::DomainConfiguration'
    domain_configuration:
      name: domain_configuration
      id: aws.iot.domain_configuration
      x-cfn-schema-name: DomainConfiguration
      x-type: get
      x-identifiers:
        - DomainConfigurationName
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.DomainConfigurationName') as domain_configuration_name,
              JSON_EXTRACT(Properties, '$.AuthorizerConfig.AllowAuthorizerOverride') as authorizer_config_allow_authorizer_override,
              JSON_EXTRACT(Properties, '$.AuthorizerConfig.DefaultAuthorizerName') as authorizer_config_default_authorizer_name,
              JSON_EXTRACT(Properties, '$.DomainName') as domain_name,
              JSON_EXTRACT(Properties, '$.ServerCertificateArns') as server_certificate_arns,
              JSON_EXTRACT(Properties, '$.ServiceType') as service_type,
              JSON_EXTRACT(Properties, '$.ValidationCertificateArn') as validation_certificate_arn,
              JSON_EXTRACT(Properties, '$.Arn') as arn,
              JSON_EXTRACT(Properties, '$.DomainConfigurationStatus') as domain_configuration_status,
              JSON_EXTRACT(Properties, '$.DomainType') as domain_type,
              JSON_EXTRACT(Properties, '$.ServerCertificates') as server_certificates,
              JSON_EXTRACT(Properties, '$.Tags') as tags
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoT::DomainConfiguration'
    fleet_metrics:
      name: fleet_metrics
      id: aws.iot.fleet_metrics
      x-cfn-schema-name: FleetMetric
      x-type: list
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.MetricName') as metric_name
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoT::FleetMetric'
    fleet_metric:
      name: fleet_metric
      id: aws.iot.fleet_metric
      x-cfn-schema-name: FleetMetric
      x-type: get
      x-identifiers:
        - MetricName
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.MetricName') as metric_name,
              JSON_EXTRACT(Properties, '$.Description') as description,
              JSON_EXTRACT(Properties, '$.QueryString') as query_string,
              JSON_EXTRACT(Properties, '$.Period') as period,
              JSON_EXTRACT(Properties, '$.AggregationField') as aggregation_field,
              JSON_EXTRACT(Properties, '$.QueryVersion') as query_version,
              JSON_EXTRACT(Properties, '$.IndexName') as index_name,
              JSON_EXTRACT(Properties, '$.Unit') as unit,
              JSON_EXTRACT(Properties, '$.AggregationType.Name') as aggregation_type_name,
              JSON_EXTRACT(Properties, '$.AggregationType.Values') as aggregation_type_values,
              JSON_EXTRACT(Properties, '$.MetricArn') as metric_arn,
              JSON_EXTRACT(Properties, '$.CreationDate') as creation_date,
              JSON_EXTRACT(Properties, '$.LastModifiedDate') as last_modified_date,
              JSON_EXTRACT(Properties, '$.Version') as version,
              JSON_EXTRACT(Properties, '$.Tags') as tags
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoT::FleetMetric'
    job_templates:
      name: job_templates
      id: aws.iot.job_templates
      x-cfn-schema-name: JobTemplate
      x-type: list
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.JobTemplateId') as job_template_id
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoT::JobTemplate'
    job_template:
      name: job_template
      id: aws.iot.job_template
      x-cfn-schema-name: JobTemplate
      x-type: get
      x-identifiers:
        - JobTemplateId
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Arn') as arn,
              JSON_EXTRACT(Properties, '$.JobArn') as job_arn,
              JSON_EXTRACT(Properties, '$.JobTemplateId') as job_template_id,
              JSON_EXTRACT(Properties, '$.Description') as description,
              JSON_EXTRACT(Properties, '$.Document') as document,
              JSON_EXTRACT(Properties, '$.DocumentSource') as document_source,
              JSON_EXTRACT(Properties, '$.TimeoutConfig') as timeout_config,
              JSON_EXTRACT(Properties, '$.JobExecutionsRolloutConfig') as job_executions_rollout_config,
              JSON_EXTRACT(Properties, '$.AbortConfig') as abort_config,
              JSON_EXTRACT(Properties, '$.PresignedUrlConfig') as presigned_url_config,
              JSON_EXTRACT(Properties, '$.JobExecutionsRetryConfig') as job_executions_retry_config,
              JSON_EXTRACT(Properties, '$.MaintenanceWindows') as maintenance_windows,
              JSON_EXTRACT(Properties, '$.Tags') as tags
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoT::JobTemplate'
    loggings:
      name: loggings
      id: aws.iot.loggings
      x-cfn-schema-name: Logging
      x-type: list
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.AccountId') as account_id
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoT::Logging'
    logging:
      name: logging
      id: aws.iot.logging
      x-cfn-schema-name: Logging
      x-type: get
      x-identifiers:
        - AccountId
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.AccountId') as account_id,
              JSON_EXTRACT(Properties, '$.RoleArn') as role_arn,
              JSON_EXTRACT(Properties, '$.DefaultLogLevel') as default_log_level
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoT::Logging'
    mitigation_actions:
      name: mitigation_actions
      id: aws.iot.mitigation_actions
      x-cfn-schema-name: MitigationAction
      x-type: list
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.ActionName') as action_name
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoT::MitigationAction'
    mitigation_action:
      name: mitigation_action
      id: aws.iot.mitigation_action
      x-cfn-schema-name: MitigationAction
      x-type: get
      x-identifiers:
        - ActionName
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.ActionName') as action_name,
              JSON_EXTRACT(Properties, '$.RoleArn') as role_arn,
              JSON_EXTRACT(Properties, '$.Tags') as tags,
              JSON_EXTRACT(Properties, '$.ActionParams.AddThingsToThingGroupParams') as action_params_add_things_to_thing_group_params,
              JSON_EXTRACT(Properties, '$.ActionParams.EnableIoTLoggingParams') as action_params_enable_io_tlogging_params,
              JSON_EXTRACT(Properties, '$.ActionParams.PublishFindingToSnsParams') as action_params_publish_finding_to_sns_params,
              JSON_EXTRACT(Properties, '$.ActionParams.ReplaceDefaultPolicyVersionParams') as action_params_replace_default_policy_version_params,
              JSON_EXTRACT(Properties, '$.ActionParams.UpdateCACertificateParams') as action_params_update_ca_certificate_params,
              JSON_EXTRACT(Properties, '$.ActionParams.UpdateDeviceCertificateParams') as action_params_update_device_certificate_params,
              JSON_EXTRACT(Properties, '$.MitigationActionArn') as mitigation_action_arn,
              JSON_EXTRACT(Properties, '$.MitigationActionId') as mitigation_action_id
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoT::MitigationAction'
    policies:
      name: policies
      id: aws.iot.policies
      x-cfn-schema-name: Policy
      x-type: list
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Id') as id
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoT::Policy'
    policy:
      name: policy
      id: aws.iot.policy
      x-cfn-schema-name: Policy
      x-type: get
      x-identifiers:
        - Id
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Id') as id,
              JSON_EXTRACT(Properties, '$.Arn') as arn,
              JSON_EXTRACT(Properties, '$.PolicyDocument') as policy_document,
              JSON_EXTRACT(Properties, '$.PolicyName') as policy_name
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoT::Policy'
    policy_principal_attachments:
      name: policy_principal_attachments
      id: aws.iot.policy_principal_attachments
      x-cfn-schema-name: PolicyPrincipalAttachment
      x-type: list
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Id') as id
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoT::PolicyPrincipalAttachment'
    policy_principal_attachment:
      name: policy_principal_attachment
      id: aws.iot.policy_principal_attachment
      x-cfn-schema-name: PolicyPrincipalAttachment
      x-type: get
      x-identifiers:
        - Id
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Id') as id,
              JSON_EXTRACT(Properties, '$.PolicyName') as policy_name,
              JSON_EXTRACT(Properties, '$.Principal') as principal
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoT::PolicyPrincipalAttachment'
    provisioning_templates:
      name: provisioning_templates
      id: aws.iot.provisioning_templates
      x-cfn-schema-name: ProvisioningTemplate
      x-type: list
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.TemplateName') as template_name
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoT::ProvisioningTemplate'
    provisioning_template:
      name: provisioning_template
      id: aws.iot.provisioning_template
      x-cfn-schema-name: ProvisioningTemplate
      x-type: get
      x-identifiers:
        - TemplateName
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.TemplateArn') as template_arn,
              JSON_EXTRACT(Properties, '$.TemplateName') as template_name,
              JSON_EXTRACT(Properties, '$.Description') as description,
              JSON_EXTRACT(Properties, '$.Enabled') as enabled,
              JSON_EXTRACT(Properties, '$.ProvisioningRoleArn') as provisioning_role_arn,
              JSON_EXTRACT(Properties, '$.TemplateBody') as template_body,
              JSON_EXTRACT(Properties, '$.TemplateType') as template_type,
              JSON_EXTRACT(Properties, '$.PreProvisioningHook.TargetArn') as pre_provisioning_hook_target_arn,
              JSON_EXTRACT(Properties, '$.PreProvisioningHook.PayloadVersion') as pre_provisioning_hook_payload_version,
              JSON_EXTRACT(Properties, '$.Tags') as tags
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoT::ProvisioningTemplate'
    resource_specific_loggings:
      name: resource_specific_loggings
      id: aws.iot.resource_specific_loggings
      x-cfn-schema-name: ResourceSpecificLogging
      x-type: list
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.TargetId') as target_id
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoT::ResourceSpecificLogging'
    resource_specific_logging:
      name: resource_specific_logging
      id: aws.iot.resource_specific_logging
      x-cfn-schema-name: ResourceSpecificLogging
      x-type: get
      x-identifiers:
        - TargetId
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.TargetType') as target_type,
              JSON_EXTRACT(Properties, '$.TargetName') as target_name,
              JSON_EXTRACT(Properties, '$.LogLevel') as log_level,
              JSON_EXTRACT(Properties, '$.TargetId') as target_id
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoT::ResourceSpecificLogging'
    role_aliases:
      name: role_aliases
      id: aws.iot.role_aliases
      x-cfn-schema-name: RoleAlias
      x-type: list
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.RoleAlias') as role_alias
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoT::RoleAlias'
    role_alias:
      name: role_alias
      id: aws.iot.role_alias
      x-cfn-schema-name: RoleAlias
      x-type: get
      x-identifiers:
        - RoleAlias
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.RoleAlias') as role_alias,
              JSON_EXTRACT(Properties, '$.RoleAliasArn') as role_alias_arn,
              JSON_EXTRACT(Properties, '$.RoleArn') as role_arn,
              JSON_EXTRACT(Properties, '$.CredentialDurationSeconds') as credential_duration_seconds,
              JSON_EXTRACT(Properties, '$.Tags') as tags
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoT::RoleAlias'
    scheduled_audits:
      name: scheduled_audits
      id: aws.iot.scheduled_audits
      x-cfn-schema-name: ScheduledAudit
      x-type: list
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.ScheduledAuditName') as scheduled_audit_name
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoT::ScheduledAudit'
    scheduled_audit:
      name: scheduled_audit
      id: aws.iot.scheduled_audit
      x-cfn-schema-name: ScheduledAudit
      x-type: get
      x-identifiers:
        - ScheduledAuditName
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.ScheduledAuditName') as scheduled_audit_name,
              JSON_EXTRACT(Properties, '$.Frequency') as frequency,
              JSON_EXTRACT(Properties, '$.DayOfMonth') as day_of_month,
              JSON_EXTRACT(Properties, '$.DayOfWeek') as day_of_week,
              JSON_EXTRACT(Properties, '$.TargetCheckNames') as target_check_names,
              JSON_EXTRACT(Properties, '$.ScheduledAuditArn') as scheduled_audit_arn,
              JSON_EXTRACT(Properties, '$.Tags') as tags
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoT::ScheduledAudit'
    security_profiles:
      name: security_profiles
      id: aws.iot.security_profiles
      x-cfn-schema-name: SecurityProfile
      x-type: list
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.SecurityProfileName') as security_profile_name
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoT::SecurityProfile'
    security_profile:
      name: security_profile
      id: aws.iot.security_profile
      x-cfn-schema-name: SecurityProfile
      x-type: get
      x-identifiers:
        - SecurityProfileName
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.SecurityProfileName') as security_profile_name,
              JSON_EXTRACT(Properties, '$.SecurityProfileDescription') as security_profile_description,
              JSON_EXTRACT(Properties, '$.Behaviors') as behaviors,
              JSON_EXTRACT(Properties, '$.AlertTargets') as alert_targets,
              JSON_EXTRACT(Properties, '$.AdditionalMetricsToRetainV2') as additional_metrics_to_retain_v2,
              JSON_EXTRACT(Properties, '$.Tags') as tags,
              JSON_EXTRACT(Properties, '$.TargetArns') as target_arns,
              JSON_EXTRACT(Properties, '$.SecurityProfileArn') as security_profile_arn
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoT::SecurityProfile'
    things:
      name: things
      id: aws.iot.things
      x-cfn-schema-name: Thing
      x-type: list
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.ThingName') as thing_name
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoT::Thing'
    thing:
      name: thing
      id: aws.iot.thing
      x-cfn-schema-name: Thing
      x-type: get
      x-identifiers:
        - ThingName
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Id') as id,
              JSON_EXTRACT(Properties, '$.Arn') as arn,
              JSON_EXTRACT(Properties, '$.AttributePayload.Attributes') as attribute_payload_attributes,
              JSON_EXTRACT(Properties, '$.ThingName') as thing_name
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoT::Thing'
    thing_principal_attachments:
      name: thing_principal_attachments
      id: aws.iot.thing_principal_attachments
      x-cfn-schema-name: ThingPrincipalAttachment
      x-type: list
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Id') as id
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoT::ThingPrincipalAttachment'
    thing_principal_attachment:
      name: thing_principal_attachment
      id: aws.iot.thing_principal_attachment
      x-cfn-schema-name: ThingPrincipalAttachment
      x-type: get
      x-identifiers:
        - Id
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Id') as id,
              JSON_EXTRACT(Properties, '$.Principal') as principal,
              JSON_EXTRACT(Properties, '$.ThingName') as thing_name
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoT::ThingPrincipalAttachment'
    topic_rules:
      name: topic_rules
      id: aws.iot.topic_rules
      x-cfn-schema-name: TopicRule
      x-type: list
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.RuleName') as rule_name
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoT::TopicRule'
    topic_rule:
      name: topic_rule
      id: aws.iot.topic_rule
      x-cfn-schema-name: TopicRule
      x-type: get
      x-identifiers:
        - RuleName
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Arn') as arn,
              JSON_EXTRACT(Properties, '$.RuleName') as rule_name,
              JSON_EXTRACT(Properties, '$.TopicRulePayload.RuleDisabled') as topic_rule_payload_rule_disabled,
              JSON_EXTRACT(Properties, '$.TopicRulePayload.ErrorAction') as topic_rule_payload_error_action,
              JSON_EXTRACT(Properties, '$.TopicRulePayload.Description') as topic_rule_payload_description,
              JSON_EXTRACT(Properties, '$.TopicRulePayload.AwsIotSqlVersion') as topic_rule_payload_aws_iot_sql_version,
              JSON_EXTRACT(Properties, '$.TopicRulePayload.Actions') as topic_rule_payload_actions,
              JSON_EXTRACT(Properties, '$.TopicRulePayload.Sql') as topic_rule_payload_sql,
              JSON_EXTRACT(Properties, '$.Tags') as tags
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoT::TopicRule'
    topic_rule_destinations:
      name: topic_rule_destinations
      id: aws.iot.topic_rule_destinations
      x-cfn-schema-name: TopicRuleDestination
      x-type: list
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Arn') as arn
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoT::TopicRuleDestination'
    topic_rule_destination:
      name: topic_rule_destination
      id: aws.iot.topic_rule_destination
      x-cfn-schema-name: TopicRuleDestination
      x-type: get
      x-identifiers:
        - Arn
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Arn') as arn,
              JSON_EXTRACT(Properties, '$.HttpUrlProperties.ConfirmationUrl') as http_url_properties_confirmation_url,
              JSON_EXTRACT(Properties, '$.StatusReason') as status_reason,
              JSON_EXTRACT(Properties, '$.VpcProperties.SubnetIds') as vpc_properties_subnet_ids,
              JSON_EXTRACT(Properties, '$.VpcProperties.SecurityGroups') as vpc_properties_security_groups,
              JSON_EXTRACT(Properties, '$.VpcProperties.VpcId') as vpc_properties_vpc_id,
              JSON_EXTRACT(Properties, '$.VpcProperties.RoleArn') as vpc_properties_role_arn
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoT::TopicRuleDestination'

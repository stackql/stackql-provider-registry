openapi: 3.0.0
info:
  title: IoTFleetWise
  version: 1.0.0
paths: {}
components:
  schemas:
    Compression:
      type: string
      enum:
        - 'OFF'
        - SNAPPY
      default: 'OFF'
    DataDestinationConfig:
      oneOf:
        - additionalProperties: false
          type: object
          title: S3Config
          properties:
            S3Config:
              $ref: '#/components/schemas/S3Config'
          required:
            - S3Config
        - additionalProperties: false
          type: object
          title: TimestreamConfig
          properties:
            TimestreamConfig:
              $ref: '#/components/schemas/TimestreamConfig'
          required:
            - TimestreamConfig
    S3Config:
      additionalProperties: false
      type: object
      properties:
        BucketArn:
          maxLength: 100
          type: string
          pattern: ^arn:(aws[a-zA-Z0-9-]*):s3:::.+$
          minLength: 16
        DataFormat:
          $ref: '#/components/schemas/DataFormat'
        StorageCompressionFormat:
          $ref: '#/components/schemas/StorageCompressionFormat'
        Prefix:
          maxLength: 512
          type: string
          pattern: ^[a-zA-Z0-9-_:./!*'()]+$
          minLength: 1
      required:
        - BucketArn
    TimestreamConfig:
      additionalProperties: false
      type: object
      properties:
        TimestreamTableArn:
          maxLength: 2048
          type: string
          pattern: ^arn:(aws[a-zA-Z0-9-]*):timestream:[a-zA-Z0-9-]+:[0-9]{12}:database\/[a-zA-Z0-9_.-]+\/table\/[a-zA-Z0-9_.-]+$
          minLength: 20
        ExecutionRoleArn:
          maxLength: 2048
          type: string
          pattern: ^arn:(aws[a-zA-Z0-9-]*):iam::(\d{12})?:(role((\u002F)|(\u002F[\u0021-\u007F]+\u002F))[\w+=,.@-]+)$
          minLength: 20
      required:
        - TimestreamTableArn
        - ExecutionRoleArn
    UpdateCampaignAction:
      type: string
      enum:
        - APPROVE
        - SUSPEND
        - RESUME
        - UPDATE
    CampaignStatus:
      type: string
      enum:
        - CREATING
        - WAITING_FOR_APPROVAL
        - RUNNING
        - SUSPENDED
    DiagnosticsMode:
      type: string
      enum:
        - 'OFF'
        - SEND_ACTIVE_DTCS
      default: 'OFF'
    SignalInformation:
      additionalProperties: false
      type: object
      properties:
        MaxSampleCount:
          maximum: 4294967295
          type: number
          minimum: 1
        Name:
          minLength: 1
          pattern: ^[\w|*|-]+(\.[\w|*|-]+)*$
          type: string
          maxLength: 150
        MinimumSamplingIntervalMs:
          maximum: 4294967295
          type: number
          minimum: 0
      required:
        - Name
    TimeBasedCollectionScheme:
      additionalProperties: false
      type: object
      properties:
        PeriodMs:
          maximum: 60000
          type: number
          minimum: 10000
      required:
        - PeriodMs
    SpoolingMode:
      type: string
      enum:
        - 'OFF'
        - TO_DISK
      default: 'OFF'
    TriggerMode:
      type: string
      enum:
        - ALWAYS
        - RISING_EDGE
    DataFormat:
      type: string
      enum:
        - JSON
        - PARQUET
    StorageCompressionFormat:
      type: string
      enum:
        - NONE
        - GZIP
    CollectionScheme:
      oneOf:
        - additionalProperties: false
          type: object
          title: TimeBasedCollectionScheme
          properties:
            TimeBasedCollectionScheme:
              $ref: '#/components/schemas/TimeBasedCollectionScheme'
          required:
            - TimeBasedCollectionScheme
        - additionalProperties: false
          type: object
          title: ConditionBasedCollectionScheme
          properties:
            ConditionBasedCollectionScheme:
              $ref: '#/components/schemas/ConditionBasedCollectionScheme'
          required:
            - ConditionBasedCollectionScheme
    ConditionBasedCollectionScheme:
      additionalProperties: false
      type: object
      properties:
        MinimumTriggerIntervalMs:
          maximum: 4294967295
          type: number
          minimum: 0
        Expression:
          minLength: 1
          type: string
          maxLength: 2048
        TriggerMode:
          $ref: '#/components/schemas/TriggerMode'
        ConditionLanguageVersion:
          type: integer
          minimum: 1
      required:
        - Expression
    Tag:
      type: object
      properties:
        Key:
          type: string
          maxLength: 128
          minLength: 1
        Value:
          type: string
          maxLength: 256
          minLength: 0
      required:
        - Key
        - Value
      additionalProperties: false
    Campaign:
      type: object
      properties:
        Status:
          $ref: '#/components/schemas/CampaignStatus'
        Action:
          $ref: '#/components/schemas/UpdateCampaignAction'
        CreationTime:
          type: string
          format: date-time
        Compression:
          $ref: '#/components/schemas/Compression'
        Description:
          minLength: 1
          pattern: ^[^\u0000-\u001F\u007F]+$
          type: string
          maxLength: 2048
        Priority:
          type: integer
          minimum: 0
          default: 0
        SignalsToCollect:
          minItems: 0
          maxItems: 1000
          x-insertionOrder: false
          type: array
          items:
            $ref: '#/components/schemas/SignalInformation'
        DataDestinationConfigs:
          minItems: 1
          maxItems: 1
          x-insertionOrder: false
          type: array
          items:
            $ref: '#/components/schemas/DataDestinationConfig'
        StartTime:
          format: date-time
          type: string
          default: '0'
        Name:
          minLength: 1
          pattern: ^[a-zA-Z\d\-_:]+$
          type: string
          maxLength: 100
        ExpiryTime:
          format: date-time
          type: string
          default: '253402214400'
        LastModificationTime:
          type: string
          format: date-time
        SpoolingMode:
          $ref: '#/components/schemas/SpoolingMode'
        SignalCatalogArn:
          type: string
        PostTriggerCollectionDuration:
          maximum: 4294967295
          type: number
          minimum: 0
          default: 0
        DataExtraDimensions:
          minItems: 0
          maxItems: 5
          x-insertionOrder: false
          type: array
          items:
            minLength: 1
            pattern: ^[a-zA-Z0-9_.]+$
            type: string
            maxLength: 150
        DiagnosticsMode:
          $ref: '#/components/schemas/DiagnosticsMode'
        TargetArn:
          type: string
        Arn:
          type: string
        CollectionScheme:
          $ref: '#/components/schemas/CollectionScheme'
        Tags:
          type: array
          items:
            $ref: '#/components/schemas/Tag'
          x-insertionOrder: false
          uniqueItems: true
          maxItems: 50
          minItems: 0
      required:
        - Name
        - Action
        - CollectionScheme
        - SignalCatalogArn
        - TargetArn
      x-stackql-resource-name: campaign
      description: Definition of AWS::IoTFleetWise::Campaign Resource Type
      x-type-name: AWS::IoTFleetWise::Campaign
      x-stackql-primary-identifier:
        - Name
      x-create-only-properties:
        - Name
        - TargetArn
        - SignalCatalogArn
        - PostTriggerCollectionDuration
        - DiagnosticsMode
        - SpoolingMode
        - CollectionScheme
        - Priority
        - Compression
        - StartTime
        - ExpiryTime
      x-write-only-properties:
        - Action
      x-read-only-properties:
        - Arn
        - Status
        - CreationTime
        - LastModificationTime
      x-required-properties:
        - Name
        - Action
        - CollectionScheme
        - SignalCatalogArn
        - TargetArn
      x-tagging:
        taggable: true
        tagOnCreate: true
        tagUpdatable: true
        cloudFormationSystemTags: true
        tagProperty: /properties/Tags
      x-required-permissions:
        read:
          - iotfleetwise:GetCampaign
          - iotfleetwise:ListTagsForResource
        create:
          - iotfleetwise:CreateCampaign
          - iotfleetwise:GetCampaign
          - iotfleetwise:ListTagsForResource
          - iotfleetwise:TagResource
          - iam:PassRole
          - timestream:DescribeEndpoints
          - timestream:DescribeTable
        update:
          - iotfleetwise:GetCampaign
          - iotfleetwise:ListTagsForResource
          - iotfleetwise:UpdateCampaign
          - iotfleetwise:TagResource
          - iotfleetwise:UntagResource
        list:
          - iotfleetwise:ListCampaigns
          - iotfleetwise:GetCampaign
        delete:
          - iotfleetwise:DeleteCampaign
          - iotfleetwise:GetCampaign
    CanInterface:
      type: object
      properties:
        Name:
          type: string
          maxLength: 100
          minLength: 1
        ProtocolName:
          type: string
          maxLength: 50
          minLength: 1
        ProtocolVersion:
          type: string
          maxLength: 50
          minLength: 1
      required:
        - Name
      additionalProperties: false
    CanSignal:
      type: object
      properties:
        MessageId:
          type: integer
        IsBigEndian:
          type: boolean
        IsSigned:
          type: boolean
        StartBit:
          type: integer
        Offset:
          type: number
        Factor:
          type: number
        Length:
          type: integer
        Name:
          type: string
          maxLength: 100
          minLength: 1
      required:
        - Factor
        - IsBigEndian
        - IsSigned
        - Length
        - MessageId
        - Offset
        - StartBit
      additionalProperties: false
    ManifestStatus:
      type: string
      enum:
        - ACTIVE
        - DRAFT
      default: DRAFT
    CanNetworkInterface:
      type: object
      properties:
        InterfaceId:
          type: string
          maxLength: 50
          minLength: 1
        Type:
          type: string
          enum:
            - CAN_INTERFACE
        CanInterface:
          $ref: '#/components/schemas/CanInterface'
      required:
        - InterfaceId
        - Type
        - CanInterface
      additionalProperties: false
    ObdNetworkInterface:
      type: object
      properties:
        InterfaceId:
          type: string
          maxLength: 50
          minLength: 1
        Type:
          type: string
          enum:
            - OBD_INTERFACE
        ObdInterface:
          $ref: '#/components/schemas/ObdInterface'
      required:
        - InterfaceId
        - Type
        - ObdInterface
      additionalProperties: false
    ObdInterface:
      type: object
      properties:
        Name:
          type: string
          maxLength: 100
          minLength: 1
        RequestMessageId:
          type: integer
        ObdStandard:
          type: string
          maxLength: 50
          minLength: 1
        PidRequestIntervalSeconds:
          type: integer
        DtcRequestIntervalSeconds:
          type: integer
        UseExtendedIds:
          type: boolean
        HasTransmissionEcu:
          type: boolean
      required:
        - Name
        - RequestMessageId
      additionalProperties: false
    ObdSignal:
      type: object
      properties:
        PidResponseLength:
          type: integer
        ServiceMode:
          type: integer
        Pid:
          type: integer
        Scaling:
          type: number
        Offset:
          type: number
        StartByte:
          type: integer
        ByteLength:
          type: integer
        BitRightShift:
          type: integer
        BitMaskLength:
          type: integer
      required:
        - ByteLength
        - Offset
        - Pid
        - PidResponseLength
        - Scaling
        - ServiceMode
        - StartByte
      additionalProperties: false
    CanSignalDecoder:
      type: object
      properties:
        FullyQualifiedName:
          type: string
          maxLength: 150
          minLength: 1
        Type:
          type: string
          enum:
            - CAN_SIGNAL
        InterfaceId:
          type: string
          maxLength: 50
          minLength: 1
        CanSignal:
          $ref: '#/components/schemas/CanSignal'
      required:
        - FullyQualifiedName
        - InterfaceId
        - Type
        - CanSignal
      additionalProperties: false
    ObdSignalDecoder:
      type: object
      properties:
        FullyQualifiedName:
          type: string
          maxLength: 150
          minLength: 1
        Type:
          type: string
          enum:
            - OBD_SIGNAL
        InterfaceId:
          type: string
          maxLength: 50
          minLength: 1
        ObdSignal:
          $ref: '#/components/schemas/ObdSignal'
      required:
        - FullyQualifiedName
        - InterfaceId
        - Type
        - ObdSignal
      additionalProperties: false
    DecoderManifest:
      type: object
      properties:
        Arn:
          type: string
        CreationTime:
          type: string
          format: date-time
        Description:
          type: string
          maxLength: 2048
          minLength: 1
          pattern: ^[^\u0000-\u001F\u007F]+$
        LastModificationTime:
          type: string
          format: date-time
        ModelManifestArn:
          type: string
        Name:
          type: string
          maxLength: 100
          minLength: 1
          pattern: ^[a-zA-Z\d\-_:]+$
        NetworkInterfaces:
          x-insertionOrder: false
          type: array
          items:
            oneOf:
              - $ref: '#/components/schemas/CanNetworkInterface'
              - $ref: '#/components/schemas/ObdNetworkInterface'
          maxItems: 500
          minItems: 1
        SignalDecoders:
          x-insertionOrder: false
          type: array
          items:
            oneOf:
              - $ref: '#/components/schemas/CanSignalDecoder'
              - $ref: '#/components/schemas/ObdSignalDecoder'
          maxItems: 500
          minItems: 1
        Status:
          $ref: '#/components/schemas/ManifestStatus'
        Tags:
          type: array
          items:
            $ref: '#/components/schemas/Tag'
          maxItems: 50
          minItems: 0
          x-insertionOrder: false
          uniqueItems: true
      required:
        - Name
        - ModelManifestArn
      x-stackql-resource-name: decoder_manifest
      description: Definition of AWS::IoTFleetWise::DecoderManifest Resource Type
      x-type-name: AWS::IoTFleetWise::DecoderManifest
      x-stackql-primary-identifier:
        - Name
      x-create-only-properties:
        - Name
        - ModelManifestArn
      x-read-only-properties:
        - Arn
        - CreationTime
        - LastModificationTime
      x-required-properties:
        - Name
        - ModelManifestArn
      x-tagging:
        taggable: true
        tagOnCreate: true
        tagUpdatable: true
        cloudFormationSystemTags: true
        tagProperty: /properties/Tags
      x-required-permissions:
        create:
          - iotfleetwise:CreateDecoderManifest
          - iotfleetwise:GetDecoderManifest
          - iotfleetwise:UpdateDecoderManifest
          - iotfleetwise:ListDecoderManifestSignals
          - iotfleetwise:ListDecoderManifestNetworkInterfaces
          - iotfleetwise:ListTagsForResource
          - iotfleetwise:TagResource
        read:
          - iotfleetwise:GetDecoderManifest
          - iotfleetwise:ListDecoderManifestSignals
          - iotfleetwise:ListDecoderManifestNetworkInterfaces
          - iotfleetwise:ListTagsForResource
        update:
          - iotfleetwise:UpdateDecoderManifest
          - iotfleetwise:GetDecoderManifest
          - iotfleetwise:ListDecoderManifestSignals
          - iotfleetwise:ListDecoderManifestNetworkInterfaces
          - iotfleetwise:ListTagsForResource
          - iotfleetwise:TagResource
          - iotfleetwise:UntagResource
        delete:
          - iotfleetwise:DeleteDecoderManifest
          - iotfleetwise:GetDecoderManifest
        list:
          - iotfleetwise:ListDecoderManifests
    Fleet:
      type: object
      properties:
        Arn:
          type: string
        CreationTime:
          type: string
          format: date-time
        Description:
          type: string
          maxLength: 2048
          minLength: 1
          pattern: ^[^\u0000-\u001F\u007F]+$
        Id:
          type: string
          maxLength: 100
          minLength: 1
          pattern: ^[a-zA-Z0-9:_-]+$
        LastModificationTime:
          type: string
          format: date-time
        SignalCatalogArn:
          type: string
        Tags:
          type: array
          items:
            $ref: '#/components/schemas/Tag'
          x-insertionOrder: false
          uniqueItems: true
          maxItems: 50
          minItems: 0
      required:
        - Id
        - SignalCatalogArn
      x-stackql-resource-name: fleet
      description: Definition of AWS::IoTFleetWise::Fleet Resource Type
      x-type-name: AWS::IoTFleetWise::Fleet
      x-stackql-primary-identifier:
        - Id
      x-create-only-properties:
        - Id
        - SignalCatalogArn
      x-read-only-properties:
        - Arn
        - CreationTime
        - LastModificationTime
      x-required-properties:
        - Id
        - SignalCatalogArn
      x-tagging:
        taggable: true
        tagOnCreate: true
        tagUpdatable: true
        cloudFormationSystemTags: true
        tagProperty: /properties/Tags
      x-required-permissions:
        create:
          - iotfleetwise:GetFleet
          - iotfleetwise:CreateFleet
          - iotfleetwise:ListTagsForResource
          - iotfleetwise:ListVehiclesInFleet
          - iotfleetwise:TagResource
        read:
          - iotfleetwise:GetFleet
          - iotfleetwise:ListTagsForResource
        update:
          - iotfleetwise:GetFleet
          - iotfleetwise:UpdateFleet
          - iotfleetwise:ListTagsForResource
          - iotfleetwise:TagResource
          - iotfleetwise:UntagResource
        delete:
          - iotfleetwise:GetFleet
          - iotfleetwise:DeleteFleet
        list:
          - iotfleetwise:ListFleets
    ModelManifest:
      type: object
      properties:
        Arn:
          type: string
        CreationTime:
          type: string
          format: date-time
        Description:
          type: string
          maxLength: 2048
          minLength: 1
          pattern: ^[^\u0000-\u001F\u007F]+$
        LastModificationTime:
          type: string
          format: date-time
        Name:
          type: string
          maxLength: 100
          minLength: 1
          pattern: ^[a-zA-Z\d\-_:]+$
        Nodes:
          x-insertionOrder: false
          uniqueItems: true
          minItems: 1
          type: array
          items:
            type: string
        SignalCatalogArn:
          type: string
        Status:
          $ref: '#/components/schemas/ManifestStatus'
        Tags:
          type: array
          items:
            $ref: '#/components/schemas/Tag'
          x-insertionOrder: false
          uniqueItems: true
          maxItems: 50
          minItems: 0
      required:
        - SignalCatalogArn
        - Name
      x-stackql-resource-name: model_manifest
      description: Definition of AWS::IoTFleetWise::ModelManifest Resource Type
      x-type-name: AWS::IoTFleetWise::ModelManifest
      x-stackql-primary-identifier:
        - Name
      x-create-only-properties:
        - Name
      x-read-only-properties:
        - Arn
        - CreationTime
        - LastModificationTime
      x-required-properties:
        - SignalCatalogArn
        - Name
      x-tagging:
        taggable: true
        tagOnCreate: true
        tagUpdatable: true
        cloudFormationSystemTags: true
        tagProperty: /properties/Tags
      x-required-permissions:
        create:
          - iotfleetwise:CreateModelManifest
          - iotfleetwise:GetModelManifest
          - iotfleetwise:UpdateModelManifest
          - iotfleetwise:ListModelManifestNodes
          - iotfleetwise:ListTagsForResource
          - iotfleetwise:TagResource
        read:
          - iotfleetwise:GetModelManifest
          - iotfleetwise:ListModelManifestNodes
          - iotfleetwise:ListTagsForResource
        update:
          - iotfleetwise:UpdateModelManifest
          - iotfleetwise:GetModelManifest
          - iotfleetwise:ListModelManifestNodes
          - iotfleetwise:ListTagsForResource
          - iotfleetwise:TagResource
          - iotfleetwise:UntagResource
        delete:
          - iotfleetwise:DeleteModelManifest
          - iotfleetwise:GetModelManifest
        list:
          - iotfleetwise:ListModelManifests
    Actuator:
      type: object
      properties:
        FullyQualifiedName:
          type: string
        DataType:
          $ref: '#/components/schemas/NodeDataType'
        Description:
          type: string
          maxLength: 2048
          minLength: 1
          pattern: ^[^\u0000-\u001F\u007F]+$
        Unit:
          type: string
        AllowedValues:
          $ref: '#/components/schemas/AllowedValues'
        Min:
          type: number
        Max:
          type: number
        AssignedValue:
          type: string
      required:
        - DataType
        - FullyQualifiedName
      additionalProperties: false
    AllowedValues:
      type: array
      x-insertionOrder: false
      items:
        type: string
      minItems: 1
    Attribute:
      type: object
      properties:
        FullyQualifiedName:
          type: string
        DataType:
          $ref: '#/components/schemas/NodeDataType'
        Description:
          type: string
          maxLength: 2048
          minLength: 1
          pattern: ^[^\u0000-\u001F\u007F]+$
        Unit:
          type: string
        AllowedValues:
          $ref: '#/components/schemas/AllowedValues'
        Min:
          type: number
        Max:
          type: number
        AssignedValue:
          type: string
        DefaultValue:
          type: string
      required:
        - DataType
        - FullyQualifiedName
      additionalProperties: false
    Branch:
      type: object
      properties:
        FullyQualifiedName:
          type: string
        Description:
          type: string
          maxLength: 2048
          minLength: 1
          pattern: ^[^\u0000-\u001F\u007F]+$
      required:
        - FullyQualifiedName
      additionalProperties: false
    Node:
      oneOf:
        - type: object
          title: Branch
          properties:
            Branch:
              $ref: '#/components/schemas/Branch'
          additionalProperties: false
        - type: object
          title: Sensor
          properties:
            Sensor:
              $ref: '#/components/schemas/Sensor'
          additionalProperties: false
        - type: object
          title: Actuator
          properties:
            Actuator:
              $ref: '#/components/schemas/Actuator'
          additionalProperties: false
        - type: object
          title: Attribute
          properties:
            Attribute:
              $ref: '#/components/schemas/Attribute'
          additionalProperties: false
    NodeCounts:
      type: object
      properties:
        TotalNodes:
          type: number
        TotalBranches:
          type: number
        TotalSensors:
          type: number
        TotalAttributes:
          type: number
        TotalActuators:
          type: number
      additionalProperties: false
    NodeDataType:
      type: string
      enum:
        - INT8
        - UINT8
        - INT16
        - UINT16
        - INT32
        - UINT32
        - INT64
        - UINT64
        - BOOLEAN
        - FLOAT
        - DOUBLE
        - STRING
        - UNIX_TIMESTAMP
        - INT8_ARRAY
        - UINT8_ARRAY
        - INT16_ARRAY
        - UINT16_ARRAY
        - INT32_ARRAY
        - UINT32_ARRAY
        - INT64_ARRAY
        - UINT64_ARRAY
        - BOOLEAN_ARRAY
        - FLOAT_ARRAY
        - DOUBLE_ARRAY
        - STRING_ARRAY
        - UNIX_TIMESTAMP_ARRAY
        - UNKNOWN
    Sensor:
      type: object
      properties:
        FullyQualifiedName:
          type: string
        DataType:
          $ref: '#/components/schemas/NodeDataType'
        Description:
          type: string
          maxLength: 2048
          minLength: 1
          pattern: ^[^\u0000-\u001F\u007F]+$
        Unit:
          type: string
        AllowedValues:
          $ref: '#/components/schemas/AllowedValues'
        Min:
          type: number
        Max:
          type: number
      required:
        - DataType
        - FullyQualifiedName
      additionalProperties: false
    SignalCatalog:
      type: object
      properties:
        Arn:
          type: string
        CreationTime:
          format: date-time
          type: string
        Description:
          type: string
          maxLength: 2048
          minLength: 1
          pattern: ^[^\u0000-\u001F\u007F]+$
        LastModificationTime:
          format: date-time
          type: string
        Name:
          type: string
          maxLength: 100
          minLength: 1
          pattern: ^[a-zA-Z\d\-_:]+$
        NodeCounts:
          $ref: '#/components/schemas/NodeCounts'
        Nodes:
          type: array
          x-insertionOrder: false
          uniqueItems: true
          items:
            $ref: '#/components/schemas/Node'
          maxItems: 500
          minItems: 1
        Tags:
          type: array
          items:
            $ref: '#/components/schemas/Tag'
          x-insertionOrder: false
          uniqueItems: true
          maxItems: 50
          minItems: 0
      x-stackql-resource-name: signal_catalog
      description: Definition of AWS::IoTFleetWise::SignalCatalog Resource Type
      x-type-name: AWS::IoTFleetWise::SignalCatalog
      x-stackql-primary-identifier:
        - Name
      x-create-only-properties:
        - Name
      x-read-only-properties:
        - Arn
        - CreationTime
        - LastModificationTime
        - NodeCounts/TotalNodes
        - NodeCounts/TotalBranches
        - NodeCounts/TotalSensors
        - NodeCounts/TotalAttributes
        - NodeCounts/TotalActuators
      x-tagging:
        taggable: true
        tagOnCreate: true
        tagUpdatable: true
        cloudFormationSystemTags: true
        tagProperty: /properties/Tags
      x-required-permissions:
        create:
          - iotfleetwise:GetSignalCatalog
          - iotfleetwise:CreateSignalCatalog
          - iotfleetwise:ListSignalCatalogNodes
          - iotfleetwise:ListTagsForResource
          - iotfleetwise:TagResource
        read:
          - iotfleetwise:GetSignalCatalog
          - iotfleetwise:ListSignalCatalogNodes
          - iotfleetwise:ListTagsForResource
        update:
          - iotfleetwise:GetSignalCatalog
          - iotfleetwise:UpdateSignalCatalog
          - iotfleetwise:ListSignalCatalogNodes
          - iotfleetwise:ListTagsForResource
          - iotfleetwise:TagResource
          - iotfleetwise:UntagResource
        delete:
          - iotfleetwise:GetSignalCatalog
          - iotfleetwise:DeleteSignalCatalog
        list:
          - iotfleetwise:ListSignalCatalogs
    VehicleAssociationBehavior:
      type: string
      enum:
        - CreateIotThing
        - ValidateIotThingExists
    attributesMap:
      type: object
      x-patternProperties:
        ^[a-zA-Z0-9_.-]+$:
          type: string
      minProperties: 1
      additionalProperties: false
    Vehicle:
      type: object
      properties:
        Arn:
          type: string
        AssociationBehavior:
          $ref: '#/components/schemas/VehicleAssociationBehavior'
        Attributes:
          $ref: '#/components/schemas/attributesMap'
        CreationTime:
          type: string
          format: date-time
        DecoderManifestArn:
          type: string
        Name:
          type: string
          maxLength: 100
          minLength: 1
          pattern: ^[a-zA-Z\d\-_:]+$
        LastModificationTime:
          type: string
          format: date-time
        ModelManifestArn:
          type: string
        Tags:
          type: array
          items:
            $ref: '#/components/schemas/Tag'
          x-insertionOrder: false
          uniqueItems: true
          maxItems: 50
          minItems: 0
      required:
        - Name
        - DecoderManifestArn
        - ModelManifestArn
      x-stackql-resource-name: vehicle
      description: Definition of AWS::IoTFleetWise::Vehicle Resource Type
      x-type-name: AWS::IoTFleetWise::Vehicle
      x-stackql-primary-identifier:
        - Name
      x-create-only-properties:
        - Name
      x-write-only-properties:
        - AssociationBehavior
      x-read-only-properties:
        - Arn
        - CreationTime
        - LastModificationTime
      x-required-properties:
        - Name
        - DecoderManifestArn
        - ModelManifestArn
      x-tagging:
        taggable: true
        tagOnCreate: true
        tagUpdatable: true
        cloudFormationSystemTags: true
        tagProperty: /properties/Tags
      x-required-permissions:
        create:
          - iotfleetwise:GetVehicle
          - iotfleetwise:CreateVehicle
          - iot:CreateThing
          - iot:DescribeThing
          - iotfleetwise:ListTagsForResource
          - iotfleetwise:ListVehicles
          - iotfleetwise:TagResource
        read:
          - iotfleetwise:GetVehicle
          - iotfleetwise:ListTagsForResource
        update:
          - iotfleetwise:GetVehicle
          - iotfleetwise:UpdateVehicle
          - iotfleetwise:ListTagsForResource
          - iotfleetwise:TagResource
          - iotfleetwise:UntagResource
        delete:
          - iotfleetwise:GetVehicle
          - iotfleetwise:DeleteVehicle
        list:
          - iotfleetwise:ListVehicles
  x-stackQL-resources:
    campaigns:
      name: campaigns
      id: aws.iotfleetwise.campaigns
      x-cfn-schema-name: Campaign
      x-type: list
      x-identifiers:
        - Name
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Name') as name
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoTFleetWise::Campaign'
              AND region = 'us-east-1'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'Name') as name
                FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoTFleetWise::Campaign'
                AND region = 'us-east-1'
    campaign:
      name: campaign
      id: aws.iotfleetwise.campaign
      x-cfn-schema-name: Campaign
      x-type: get
      x-identifiers:
        - Name
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              data__Identifier,
              JSON_EXTRACT(Properties, '$.Status') as status,
              JSON_EXTRACT(Properties, '$.Action') as action,
              JSON_EXTRACT(Properties, '$.CreationTime') as creation_time,
              JSON_EXTRACT(Properties, '$.Compression') as compression,
              JSON_EXTRACT(Properties, '$.Description') as description,
              JSON_EXTRACT(Properties, '$.Priority') as priority,
              JSON_EXTRACT(Properties, '$.SignalsToCollect') as signals_to_collect,
              JSON_EXTRACT(Properties, '$.DataDestinationConfigs') as data_destination_configs,
              JSON_EXTRACT(Properties, '$.StartTime') as start_time,
              JSON_EXTRACT(Properties, '$.Name') as name,
              JSON_EXTRACT(Properties, '$.ExpiryTime') as expiry_time,
              JSON_EXTRACT(Properties, '$.LastModificationTime') as last_modification_time,
              JSON_EXTRACT(Properties, '$.SpoolingMode') as spooling_mode,
              JSON_EXTRACT(Properties, '$.SignalCatalogArn') as signal_catalog_arn,
              JSON_EXTRACT(Properties, '$.PostTriggerCollectionDuration') as post_trigger_collection_duration,
              JSON_EXTRACT(Properties, '$.DataExtraDimensions') as data_extra_dimensions,
              JSON_EXTRACT(Properties, '$.DiagnosticsMode') as diagnostics_mode,
              JSON_EXTRACT(Properties, '$.TargetArn') as target_arn,
              JSON_EXTRACT(Properties, '$.Arn') as arn,
              JSON_EXTRACT(Properties, '$.CollectionScheme') as collection_scheme,
              JSON_EXTRACT(Properties, '$.Tags') as tags
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoTFleetWise::Campaign'
              AND data__Identifier = '<Name>'
              AND region = 'us-east-1'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                data__Identifier,
                json_extract_path_text(Properties, 'Status') as status,
                json_extract_path_text(Properties, 'Action') as action,
                json_extract_path_text(Properties, 'CreationTime') as creation_time,
                json_extract_path_text(Properties, 'Compression') as compression,
                json_extract_path_text(Properties, 'Description') as description,
                json_extract_path_text(Properties, 'Priority') as priority,
                json_extract_path_text(Properties, 'SignalsToCollect') as signals_to_collect,
                json_extract_path_text(Properties, 'DataDestinationConfigs') as data_destination_configs,
                json_extract_path_text(Properties, 'StartTime') as start_time,
                json_extract_path_text(Properties, 'Name') as name,
                json_extract_path_text(Properties, 'ExpiryTime') as expiry_time,
                json_extract_path_text(Properties, 'LastModificationTime') as last_modification_time,
                json_extract_path_text(Properties, 'SpoolingMode') as spooling_mode,
                json_extract_path_text(Properties, 'SignalCatalogArn') as signal_catalog_arn,
                json_extract_path_text(Properties, 'PostTriggerCollectionDuration') as post_trigger_collection_duration,
                json_extract_path_text(Properties, 'DataExtraDimensions') as data_extra_dimensions,
                json_extract_path_text(Properties, 'DiagnosticsMode') as diagnostics_mode,
                json_extract_path_text(Properties, 'TargetArn') as target_arn,
                json_extract_path_text(Properties, 'Arn') as arn,
                json_extract_path_text(Properties, 'CollectionScheme') as collection_scheme,
                json_extract_path_text(Properties, 'Tags') as tags
                FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoTFleetWise::Campaign'
                AND data__Identifier = '<Name>'
                AND region = 'us-east-1'
    decoder_manifests:
      name: decoder_manifests
      id: aws.iotfleetwise.decoder_manifests
      x-cfn-schema-name: DecoderManifest
      x-type: list
      x-identifiers:
        - Name
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Name') as name
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoTFleetWise::DecoderManifest'
              AND region = 'us-east-1'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'Name') as name
                FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoTFleetWise::DecoderManifest'
                AND region = 'us-east-1'
    decoder_manifest:
      name: decoder_manifest
      id: aws.iotfleetwise.decoder_manifest
      x-cfn-schema-name: DecoderManifest
      x-type: get
      x-identifiers:
        - Name
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              data__Identifier,
              JSON_EXTRACT(Properties, '$.Arn') as arn,
              JSON_EXTRACT(Properties, '$.CreationTime') as creation_time,
              JSON_EXTRACT(Properties, '$.Description') as description,
              JSON_EXTRACT(Properties, '$.LastModificationTime') as last_modification_time,
              JSON_EXTRACT(Properties, '$.ModelManifestArn') as model_manifest_arn,
              JSON_EXTRACT(Properties, '$.Name') as name,
              JSON_EXTRACT(Properties, '$.NetworkInterfaces') as network_interfaces,
              JSON_EXTRACT(Properties, '$.SignalDecoders') as signal_decoders,
              JSON_EXTRACT(Properties, '$.Status') as status,
              JSON_EXTRACT(Properties, '$.Tags') as tags
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoTFleetWise::DecoderManifest'
              AND data__Identifier = '<Name>'
              AND region = 'us-east-1'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                data__Identifier,
                json_extract_path_text(Properties, 'Arn') as arn,
                json_extract_path_text(Properties, 'CreationTime') as creation_time,
                json_extract_path_text(Properties, 'Description') as description,
                json_extract_path_text(Properties, 'LastModificationTime') as last_modification_time,
                json_extract_path_text(Properties, 'ModelManifestArn') as model_manifest_arn,
                json_extract_path_text(Properties, 'Name') as name,
                json_extract_path_text(Properties, 'NetworkInterfaces') as network_interfaces,
                json_extract_path_text(Properties, 'SignalDecoders') as signal_decoders,
                json_extract_path_text(Properties, 'Status') as status,
                json_extract_path_text(Properties, 'Tags') as tags
                FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoTFleetWise::DecoderManifest'
                AND data__Identifier = '<Name>'
                AND region = 'us-east-1'
    fleets:
      name: fleets
      id: aws.iotfleetwise.fleets
      x-cfn-schema-name: Fleet
      x-type: list
      x-identifiers:
        - Id
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Id') as id
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoTFleetWise::Fleet'
              AND region = 'us-east-1'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'Id') as id
                FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoTFleetWise::Fleet'
                AND region = 'us-east-1'
    fleet:
      name: fleet
      id: aws.iotfleetwise.fleet
      x-cfn-schema-name: Fleet
      x-type: get
      x-identifiers:
        - Id
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              data__Identifier,
              JSON_EXTRACT(Properties, '$.Arn') as arn,
              JSON_EXTRACT(Properties, '$.CreationTime') as creation_time,
              JSON_EXTRACT(Properties, '$.Description') as description,
              JSON_EXTRACT(Properties, '$.Id') as id,
              JSON_EXTRACT(Properties, '$.LastModificationTime') as last_modification_time,
              JSON_EXTRACT(Properties, '$.SignalCatalogArn') as signal_catalog_arn,
              JSON_EXTRACT(Properties, '$.Tags') as tags
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoTFleetWise::Fleet'
              AND data__Identifier = '<Id>'
              AND region = 'us-east-1'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                data__Identifier,
                json_extract_path_text(Properties, 'Arn') as arn,
                json_extract_path_text(Properties, 'CreationTime') as creation_time,
                json_extract_path_text(Properties, 'Description') as description,
                json_extract_path_text(Properties, 'Id') as id,
                json_extract_path_text(Properties, 'LastModificationTime') as last_modification_time,
                json_extract_path_text(Properties, 'SignalCatalogArn') as signal_catalog_arn,
                json_extract_path_text(Properties, 'Tags') as tags
                FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoTFleetWise::Fleet'
                AND data__Identifier = '<Id>'
                AND region = 'us-east-1'
    model_manifests:
      name: model_manifests
      id: aws.iotfleetwise.model_manifests
      x-cfn-schema-name: ModelManifest
      x-type: list
      x-identifiers:
        - Name
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Name') as name
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoTFleetWise::ModelManifest'
              AND region = 'us-east-1'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'Name') as name
                FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoTFleetWise::ModelManifest'
                AND region = 'us-east-1'
    model_manifest:
      name: model_manifest
      id: aws.iotfleetwise.model_manifest
      x-cfn-schema-name: ModelManifest
      x-type: get
      x-identifiers:
        - Name
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              data__Identifier,
              JSON_EXTRACT(Properties, '$.Arn') as arn,
              JSON_EXTRACT(Properties, '$.CreationTime') as creation_time,
              JSON_EXTRACT(Properties, '$.Description') as description,
              JSON_EXTRACT(Properties, '$.LastModificationTime') as last_modification_time,
              JSON_EXTRACT(Properties, '$.Name') as name,
              JSON_EXTRACT(Properties, '$.Nodes') as nodes,
              JSON_EXTRACT(Properties, '$.SignalCatalogArn') as signal_catalog_arn,
              JSON_EXTRACT(Properties, '$.Status') as status,
              JSON_EXTRACT(Properties, '$.Tags') as tags
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoTFleetWise::ModelManifest'
              AND data__Identifier = '<Name>'
              AND region = 'us-east-1'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                data__Identifier,
                json_extract_path_text(Properties, 'Arn') as arn,
                json_extract_path_text(Properties, 'CreationTime') as creation_time,
                json_extract_path_text(Properties, 'Description') as description,
                json_extract_path_text(Properties, 'LastModificationTime') as last_modification_time,
                json_extract_path_text(Properties, 'Name') as name,
                json_extract_path_text(Properties, 'Nodes') as nodes,
                json_extract_path_text(Properties, 'SignalCatalogArn') as signal_catalog_arn,
                json_extract_path_text(Properties, 'Status') as status,
                json_extract_path_text(Properties, 'Tags') as tags
                FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoTFleetWise::ModelManifest'
                AND data__Identifier = '<Name>'
                AND region = 'us-east-1'
    signal_catalogs:
      name: signal_catalogs
      id: aws.iotfleetwise.signal_catalogs
      x-cfn-schema-name: SignalCatalog
      x-type: list
      x-identifiers:
        - Name
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Name') as name
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoTFleetWise::SignalCatalog'
              AND region = 'us-east-1'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'Name') as name
                FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoTFleetWise::SignalCatalog'
                AND region = 'us-east-1'
    signal_catalog:
      name: signal_catalog
      id: aws.iotfleetwise.signal_catalog
      x-cfn-schema-name: SignalCatalog
      x-type: get
      x-identifiers:
        - Name
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              data__Identifier,
              JSON_EXTRACT(Properties, '$.Arn') as arn,
              JSON_EXTRACT(Properties, '$.CreationTime') as creation_time,
              JSON_EXTRACT(Properties, '$.Description') as description,
              JSON_EXTRACT(Properties, '$.LastModificationTime') as last_modification_time,
              JSON_EXTRACT(Properties, '$.Name') as name,
              JSON_EXTRACT(Properties, '$.NodeCounts') as node_counts,
              JSON_EXTRACT(Properties, '$.Nodes') as nodes,
              JSON_EXTRACT(Properties, '$.Tags') as tags
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoTFleetWise::SignalCatalog'
              AND data__Identifier = '<Name>'
              AND region = 'us-east-1'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                data__Identifier,
                json_extract_path_text(Properties, 'Arn') as arn,
                json_extract_path_text(Properties, 'CreationTime') as creation_time,
                json_extract_path_text(Properties, 'Description') as description,
                json_extract_path_text(Properties, 'LastModificationTime') as last_modification_time,
                json_extract_path_text(Properties, 'Name') as name,
                json_extract_path_text(Properties, 'NodeCounts') as node_counts,
                json_extract_path_text(Properties, 'Nodes') as nodes,
                json_extract_path_text(Properties, 'Tags') as tags
                FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoTFleetWise::SignalCatalog'
                AND data__Identifier = '<Name>'
                AND region = 'us-east-1'
    vehicles:
      name: vehicles
      id: aws.iotfleetwise.vehicles
      x-cfn-schema-name: Vehicle
      x-type: list
      x-identifiers:
        - Name
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Name') as name
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoTFleetWise::Vehicle'
              AND region = 'us-east-1'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'Name') as name
                FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::IoTFleetWise::Vehicle'
                AND region = 'us-east-1'
    vehicle:
      name: vehicle
      id: aws.iotfleetwise.vehicle
      x-cfn-schema-name: Vehicle
      x-type: get
      x-identifiers:
        - Name
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              data__Identifier,
              JSON_EXTRACT(Properties, '$.Arn') as arn,
              JSON_EXTRACT(Properties, '$.AssociationBehavior') as association_behavior,
              JSON_EXTRACT(Properties, '$.Attributes') as attributes,
              JSON_EXTRACT(Properties, '$.CreationTime') as creation_time,
              JSON_EXTRACT(Properties, '$.DecoderManifestArn') as decoder_manifest_arn,
              JSON_EXTRACT(Properties, '$.Name') as name,
              JSON_EXTRACT(Properties, '$.LastModificationTime') as last_modification_time,
              JSON_EXTRACT(Properties, '$.ModelManifestArn') as model_manifest_arn,
              JSON_EXTRACT(Properties, '$.Tags') as tags
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoTFleetWise::Vehicle'
              AND data__Identifier = '<Name>'
              AND region = 'us-east-1'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                data__Identifier,
                json_extract_path_text(Properties, 'Arn') as arn,
                json_extract_path_text(Properties, 'AssociationBehavior') as association_behavior,
                json_extract_path_text(Properties, 'Attributes') as attributes,
                json_extract_path_text(Properties, 'CreationTime') as creation_time,
                json_extract_path_text(Properties, 'DecoderManifestArn') as decoder_manifest_arn,
                json_extract_path_text(Properties, 'Name') as name,
                json_extract_path_text(Properties, 'LastModificationTime') as last_modification_time,
                json_extract_path_text(Properties, 'ModelManifestArn') as model_manifest_arn,
                json_extract_path_text(Properties, 'Tags') as tags
                FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::IoTFleetWise::Vehicle'
                AND data__Identifier = '<Name>'
                AND region = 'us-east-1'

openapi: 3.1.0
info:
  contact:
    name: StackQL Studios
    url: https://github.com/stackql/google-discovery-to-openapi
    email: info@stackql.io
  title: DoubleClick Bid Manager API
  description: DoubleClick Bid Manager API allows users to manage and create campaigns and reports.
  version: v2
  x-discovery-doc-revision: '20221221'
  x-generated-date: '2023-01-06'
externalDocs:
  url: https://developers.google.com/bid-manager/
servers:
  - url: https://doubleclickbidmanager.googleapis.com/v2
components:
  schemas:
    Parameters:
      type: object
      properties:
        options:
          $ref: '#/components/schemas/Options'
          description: Additional query options.
        groupBys:
          type: array
          description: Data is grouped by the filters listed in this field.
          items:
            type: string
        filters:
          items:
            $ref: '#/components/schemas/FilterPair'
          type: array
          description: Filters used to match traffic data in your report.
        metrics:
          type: array
          items:
            type: string
          description: Metrics to include as columns in your report.
        type:
          enum:
            - REPORT_TYPE_UNSPECIFIED
            - STANDARD
            - INVENTORY_AVAILABILITY
            - AUDIENCE_COMPOSITION
            - FLOODLIGHT
            - YOUTUBE
            - GRP
            - YOUTUBE_PROGRAMMATIC_GUARANTEED
            - REACH
            - UNIQUE_REACH_AUDIENCE
            - FULL_PATH
            - PATH_ATTRIBUTION
          description: The type of the report. The type of the report will dictate what dimesions, filters, and metrics can be used.
          enumDescriptions:
            - Default value when report type is not specified or is unknown in this version.
            - Standard report.
            - Inventory Availability report.
            - Audience Composition report.
            - Floodlight report.
            - YouTube report.
            - GRP report.
            - YouTube Programmatic Guaranteed report.
            - Reach report.
            - Unique Reach Audience report.
            - Full Path report.
            - Path Attribution report.
          type: string
      description: Parameters of a query or report.
      id: Parameters
    RunQueryRequest:
      description: Request to run a stored query to generate a report.
      type: object
      properties:
        dataRange:
          description: Report data range used to generate the report. If unspecified, the original parent query's data range is used.
          $ref: '#/components/schemas/DataRange'
      id: RunQueryRequest
    Rule:
      id: Rule
      type: object
      properties:
        disjunctiveMatchStatements:
          description: DisjunctiveMatchStatements within a Rule. DisjunctiveMatchStatement OR's all contained filters.
          type: array
          items:
            $ref: '#/components/schemas/DisjunctiveMatchStatement'
        name:
          description: Rule name.
          type: string
      description: A Rule defines a name, and a boolean expression in [conjunctive normal form] (http://mathworld.wolfram.com/ConjunctiveNormalForm.html){.external} that can be applied to a path event to determine if that name should be applied.
    ReportKey:
      type: object
      description: Key used to identify a report.
      id: ReportKey
      properties:
        queryId:
          readOnly: true
          type: string
          description: Output only. Query ID.
          format: int64
        reportId:
          type: string
          readOnly: true
          description: Output only. Report ID.
          format: int64
    QueryMetadata:
      id: QueryMetadata
      description: Query metadata.
      properties:
        shareEmailAddress:
          items:
            type: string
          type: array
          description: List of email addresses which are sent email notifications when the report is finished. Separate from send_notification.
        dataRange:
          $ref: '#/components/schemas/DataRange'
          description: Range of report data. All reports will be based on the same time zone as used by the advertiser.
        sendNotification:
          description: Whether to send an email notification when a report is ready. Defaults to false.
          type: boolean
        title:
          type: string
          description: Query title. It is used to name the reports generated from this query.
        format:
          enum:
            - FORMAT_UNSPECIFIED
            - CSV
            - XLSX
          enumDescriptions:
            - Default value when format is not specified or is unknown in this version.
            - CSV.
            - Excel.
          description: Format of the generated report.
          type: string
      type: object
    ReportMetadata:
      type: object
      properties:
        googleCloudStoragePath:
          readOnly: true
          type: string
          description: Output only. The path to the location in Google Cloud Storage where the report is stored.
        reportDataEndDate:
          $ref: '#/components/schemas/Date'
          description: The ending time for the data that is shown in the report.
        status:
          $ref: '#/components/schemas/ReportStatus'
          description: Report status.
        reportDataStartDate:
          description: The starting time for the data that is shown in the report.
          $ref: '#/components/schemas/Date'
      id: ReportMetadata
      description: Report metadata.
    QuerySchedule:
      description: Information on when and how frequently to run a query.
      id: QuerySchedule
      properties:
        endDate:
          $ref: '#/components/schemas/Date'
          description: Date to periodically run the query until. Not applicable to `ONE_TIME` frequency.
        nextRunTimezoneCode:
          type: string
          description: Canonical timezone code for report generation time. Defaults to `America/New_York`.
        frequency:
          description: How often the query is run.
          enumDescriptions:
            - Default value when frequency is not specified or is unknown in this version.
            - Only once.
            - Once a day.
            - Once a week.
            - Twice a month.
            - Once a month.
            - Once a quarter
            - Once a year.
          type: string
          enum:
            - FREQUENCY_UNSPECIFIED
            - ONE_TIME
            - DAILY
            - WEEKLY
            - SEMI_MONTHLY
            - MONTHLY
            - QUARTERLY
            - YEARLY
        startDate:
          description: When to start running the query. Not applicable to `ONE_TIME` frequency.
          $ref: '#/components/schemas/Date'
      type: object
    EventFilter:
      properties:
        dimensionFilter:
          description: Filter on a dimension.
          $ref: '#/components/schemas/PathQueryOptionsFilter'
      id: EventFilter
      description: Defines the type of filter to be applied to the path, a DV360 event dimension filter.
      type: object
    PathQueryOptionsFilter:
      id: PathQueryOptionsFilter
      description: Dimension filter on path events.
      type: object
      properties:
        match:
          enumDescriptions:
            - Default value when match is not specified or is unknown in this version.
            - Matches a value exactly.
            - Matches a value partially.
            - Begins with a value.
            - Matches a value, utilizing wildcard character logic in the value.
          description: Match logic of the filter.
          type: string
          enum:
            - UNKNOWN
            - EXACT
            - PARTIAL
            - BEGINS_WITH
            - WILDCARD_EXPRESSION
        values:
          items:
            type: string
          description: Values to filter on.
          type: array
        filter:
          description: Dimension the filter is applied to.
          type: string
    Report:
      type: object
      properties:
        key:
          description: Key used to identify a report.
          $ref: '#/components/schemas/ReportKey'
        params:
          description: Report parameters.
          $ref: '#/components/schemas/Parameters'
        metadata:
          $ref: '#/components/schemas/ReportMetadata'
          description: Report metadata.
      description: Represents a report.
      id: Report
    ListQueriesResponse:
      type: object
      id: ListQueriesResponse
      properties:
        nextPageToken:
          description: A token, which can be sent as page_token to retrieve the next page of queries. If this field is omitted, there are no subsequent pages.
          type: string
        queries:
          description: The list of queries.
          items:
            $ref: '#/components/schemas/Query'
          type: array
    ReportStatus:
      properties:
        state:
          type: string
          enum:
            - STATE_UNSPECIFIED
            - QUEUED
            - RUNNING
            - DONE
            - FAILED
          readOnly: true
          enumDescriptions:
            - Default value when state is not specified or is unknown in this version.
            - The report is queued to run.
            - The report is currently running.
            - The report has finished running successfully.
            - The report has finished running in failure.
          description: Output only. The state of the report.
        format:
          type: string
          description: The file type of the report.
          enum:
            - FORMAT_UNSPECIFIED
            - CSV
            - XLSX
          enumDescriptions:
            - Default value when format is not specified or is unknown in this version.
            - CSV.
            - Excel.
        finishTime:
          readOnly: true
          type: string
          format: google-datetime
          description: Output only. The time when this report either completed successfully or failed.
      description: Report status.
      id: ReportStatus
      type: object
    ListReportsResponse:
      type: object
      id: ListReportsResponse
      properties:
        nextPageToken:
          description: A token, which can be sent as page_token to retrieve the next page of reports. If this field is omitted, there are no subsequent pages.
          type: string
        reports:
          description: Retrieved reports.
          items:
            $ref: '#/components/schemas/Report'
          type: array
    FilterPair:
      description: Filter used to match traffic data in your report.
      properties:
        value:
          type: string
          description: Filter value.
        type:
          description: Filter type.
          type: string
      type: object
      id: FilterPair
    Date:
      description: 'Represents a whole or partial calendar date, such as a birthday. The time of day and time zone are either specified elsewhere or are insignificant. The date is relative to the Gregorian Calendar. This can represent one of the following: * A full date, with non-zero year, month, and day values. * A month and day, with a zero year (for example, an anniversary). * A year on its own, with a zero month and a zero day. * A year and month, with a zero day (for example, a credit card expiration date). Related types: * google.type.TimeOfDay * google.type.DateTime * google.protobuf.Timestamp'
      type: object
      properties:
        month:
          format: int32
          description: Month of a year. Must be from 1 to 12, or 0 to specify a year without a month and day.
          type: integer
        year:
          type: integer
          description: Year of the date. Must be from 1 to 9999, or 0 to specify a date without a year.
          format: int32
        day:
          format: int32
          description: Day of a month. Must be from 1 to 31 and valid for the year and month, or 0 to specify a year by itself or a year and month where the day isn't significant.
          type: integer
      id: Date
    PathQueryOptions:
      description: Path Query Options for Report Options.
      properties:
        channelGrouping:
          description: Custom Channel Groupings.
          $ref: '#/components/schemas/ChannelGrouping'
        pathFilters:
          description: Path Filters. There is a limit of 100 path filters that can be set per report.
          type: array
          items:
            $ref: '#/components/schemas/PathFilter'
      id: PathQueryOptions
      type: object
    ChannelGrouping:
      description: A channel grouping defines a set of rules that can be used to categorize events in a path report.
      properties:
        name:
          type: string
          description: Channel Grouping name.
        rules:
          description: Rules within Channel Grouping. There is a limit of 100 rules that can be set per channel grouping.
          items:
            $ref: '#/components/schemas/Rule'
          type: array
        fallbackName:
          type: string
          description: The name to apply to an event that does not match any of the rules in the channel grouping.
      id: ChannelGrouping
      type: object
    PathFilter:
      type: object
      properties:
        eventFilters:
          description: Filter on an event to be applied to some part of the path.
          type: array
          items:
            $ref: '#/components/schemas/EventFilter'
        pathMatchPosition:
          enum:
            - PATH_MATCH_POSITION_UNSPECIFIED
            - ANY
            - FIRST
            - LAST
          type: string
          enumDescriptions:
            - Default value when path match position is not specified or is unknown in this version.
            - Any position in the path.
            - The first position in the path.
            - The last position in the path.
          description: The position of the path the filter should match to (first, last, or any event in path).
      id: PathFilter
      description: Path filters specify which paths to include in a report. A path is the result of combining DV360 events based on User ID to create a workflow of users' actions. When a path filter is set, the resulting report will only include paths that match the specified event at the specified position. All other paths will be excluded.
    DisjunctiveMatchStatement:
      properties:
        eventFilters:
          items:
            $ref: '#/components/schemas/EventFilter'
          type: array
          description: Filters. There is a limit of 100 filters that can be set per disjunctive match statement.
      description: DisjunctiveMatchStatement that OR's all contained filters.
      type: object
      id: DisjunctiveMatchStatement
    DataRange:
      type: object
      description: Report data range.
      properties:
        customEndDate:
          $ref: '#/components/schemas/Date'
          description: The ending date for the data that is shown in the report. Note, `customEndDate` is required if `range` is `CUSTOM_DATES` and ignored otherwise.
        customStartDate:
          description: The starting data for the data that is shown in the report. Note, `customStartDate` is required if `range` is `CUSTOM_DATES` and ignored otherwise.
          $ref: '#/components/schemas/Date'
        range:
          description: Report data range used to generate the report.
          type: string
          enumDescriptions:
            - Default value when range is not specified or is unknown in this version.
            - Custom range specified by custom_start_date and custom_end_date fields.
            - Current day.
            - Previous day.
            - All days, including the current day, since the most recent Sunday.
            - All days, including the current day, since the start of the current month.
            - All days, including the current day, since the start of the current quarter.
            - All days, including the current day, since the start of the current calendar year.
            - The previous completed week, beginning from Sunday.
            - The previous completed calendar month.
            - The previous completed quarter.
            - The previous completed calendar year.
            - The previous 7 days, excluding the current day.
            - The previous 30 days, excluding the current day.
            - The previous 90 days, excluding the current day.
            - The previous 365 days, excluding the current day.
            - All time for which data is available, excluding the current day.
            - The previous 14 days, excluding the current day.
            - The previous 60 days, excluding the current day.
          enum:
            - RANGE_UNSPECIFIED
            - CUSTOM_DATES
            - CURRENT_DAY
            - PREVIOUS_DAY
            - WEEK_TO_DATE
            - MONTH_TO_DATE
            - QUARTER_TO_DATE
            - YEAR_TO_DATE
            - PREVIOUS_WEEK
            - PREVIOUS_MONTH
            - PREVIOUS_QUARTER
            - PREVIOUS_YEAR
            - LAST_7_DAYS
            - LAST_30_DAYS
            - LAST_90_DAYS
            - LAST_365_DAYS
            - ALL_TIME
            - LAST_14_DAYS
            - LAST_60_DAYS
      id: DataRange
    Query:
      properties:
        queryId:
          readOnly: true
          format: int64
          description: Output only. Query ID.
          type: string
        schedule:
          $ref: '#/components/schemas/QuerySchedule'
          description: Information on how often and when to run a query. If `ONE_TIME` is set to the frequency field, the query will only be run at the time of creation.
        params:
          description: Query parameters.
          $ref: '#/components/schemas/Parameters'
        metadata:
          $ref: '#/components/schemas/QueryMetadata'
          description: Query metadata.
      type: object
      id: Query
      description: Represents a query.
    Options:
      id: Options
      description: Additional query options.
      properties:
        pathQueryOptions:
          $ref: '#/components/schemas/PathQueryOptions'
          description: Options that contain Path Filters and Custom Channel Groupings.
        includeOnlyTargetedUserLists:
          type: boolean
          description: Set to true and filter your report by `FILTER_INSERTION_ORDER` or `FILTER_LINE_ITEM` to include data for audience lists specifically targeted by those items.
      type: object
  parameters:
    upload_protocol:
      description: Upload protocol for media (e.g. "raw", "multipart").
      in: query
      name: upload_protocol
      schema:
        type: string
    key:
      description: API key. Your API key identifies your project and provides you with API access, quota, and reports. Required unless you provide an OAuth 2.0 token.
      in: query
      name: key
      schema:
        type: string
    callback:
      description: JSONP
      in: query
      name: callback
      schema:
        type: string
    oauth_token:
      description: OAuth 2.0 token for the current user.
      in: query
      name: oauth_token
      schema:
        type: string
    uploadType:
      description: Legacy upload protocol for media (e.g. "media", "multipart").
      in: query
      name: uploadType
      schema:
        type: string
    fields:
      description: Selector specifying which fields to include in a partial response.
      in: query
      name: fields
      schema:
        type: string
    prettyPrint:
      description: Returns response with indentations and line breaks.
      in: query
      name: prettyPrint
      schema:
        type: boolean
    access_token:
      description: OAuth access token.
      in: query
      name: access_token
      schema:
        type: string
    _.xgafv:
      description: V1 error format.
      in: query
      name: _.xgafv
      schema:
        type: string
        enum:
          - '1'
          - '2'
    alt:
      description: Data format for response.
      in: query
      name: alt
      schema:
        type: string
        enum:
          - json
          - media
          - proto
    quotaUser:
      description: Available to use for quota purposes for server-side applications. Can be any arbitrary string assigned to a user, but should not exceed 40 characters.
      in: query
      name: quotaUser
      schema:
        type: string
  securitySchemes:
    Oauth2:
      type: oauth2
      description: Oauth 2.0 implicit authentication
      flows:
        implicit:
          authorizationUrl: https://accounts.google.com/o/oauth2/auth
          scopes: &ref_0
            https://www.googleapis.com/auth/doubleclickbidmanager: View and manage your reports in DoubleClick Bid Manager
    Oauth2c:
      type: oauth2
      description: Oauth 2.0 authorization code authentication
      flows:
        authorizationCode:
          authorizationUrl: https://accounts.google.com/o/oauth2/auth
          tokenUrl: https://accounts.google.com/o/oauth2/token
          scopes: *ref_0
  x-stackQL-resources:
    reports:
      id: googleads.doubleclickbidmanager.reports
      name: reports
      title: Reports
      methods:
        queries_reports_list:
          operation:
            $ref: '#/paths/~1queries~1{queryId}~1reports/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        queries_reports_get:
          operation:
            $ref: '#/paths/~1queries~1{queryId}~1reports~1{reportId}/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
          - $ref: '#/components/x-stackQL-resources/reports/methods/queries_reports_get'
          - $ref: '#/components/x-stackQL-resources/reports/methods/queries_reports_list'
        insert: []
        update: []
        delete: []
    queries:
      id: googleads.doubleclickbidmanager.queries
      name: queries
      title: Queries
      methods:
        run:
          operation:
            $ref: '#/paths/~1queries~1{queryId}:run/post'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        list:
          operation:
            $ref: '#/paths/~1queries/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        create:
          operation:
            $ref: '#/paths/~1queries/post'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        delete:
          operation:
            $ref: '#/paths/~1queries~1{queryId}/delete'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
        get:
          operation:
            $ref: '#/paths/~1queries~1{queryId}/get'
          response:
            mediaType: application/json
            openAPIDocKey: '200'
      sqlVerbs:
        select:
          - $ref: '#/components/x-stackQL-resources/queries/methods/get'
          - $ref: '#/components/x-stackQL-resources/queries/methods/list'
        insert:
          - $ref: '#/components/x-stackQL-resources/queries/methods/create'
        update: []
        delete:
          - $ref: '#/components/x-stackQL-resources/queries/methods/delete'
paths:
  /queries/{queryId}/reports:
    parameters: &ref_1
      - $ref: '#/components/parameters/upload_protocol'
      - $ref: '#/components/parameters/key'
      - $ref: '#/components/parameters/callback'
      - $ref: '#/components/parameters/oauth_token'
      - $ref: '#/components/parameters/uploadType'
      - $ref: '#/components/parameters/fields'
      - $ref: '#/components/parameters/prettyPrint'
      - $ref: '#/components/parameters/access_token'
      - $ref: '#/components/parameters/_.xgafv'
      - $ref: '#/components/parameters/alt'
      - $ref: '#/components/parameters/quotaUser'
    get:
      description: Lists reports associated with a query.
      operationId: doubleclickbidmanager.queries.reports.list
      security:
        - Oauth2:
            - https://www.googleapis.com/auth/doubleclickbidmanager
          Oauth2c:
            - https://www.googleapis.com/auth/doubleclickbidmanager
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ListReportsResponse'
      parameters:
        - in: path
          name: queryId
          required: true
          schema:
            type: string
        - in: query
          name: pageSize
          schema:
            type: integer
        - in: query
          name: pageToken
          schema:
            type: string
        - in: query
          name: orderBy
          schema:
            type: string
      x-stackQL-resource: reports
      x-stackQL-verb: select
  /queries/{queryId}/reports/{reportId}:
    parameters: *ref_1
    get:
      description: Retrieves a report.
      operationId: doubleclickbidmanager.queries.reports.get
      security:
        - Oauth2:
            - https://www.googleapis.com/auth/doubleclickbidmanager
          Oauth2c:
            - https://www.googleapis.com/auth/doubleclickbidmanager
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Report'
      parameters:
        - in: path
          name: queryId
          required: true
          schema:
            type: string
        - in: path
          name: reportId
          required: true
          schema:
            type: string
      x-stackQL-resource: reports
      x-stackQL-verb: select
  /queries/{queryId}:run:
    parameters: *ref_1
    post:
      description: Runs a stored query to generate a report.
      operationId: doubleclickbidmanager.queries.run
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RunQueryRequest'
      security:
        - Oauth2:
            - https://www.googleapis.com/auth/doubleclickbidmanager
          Oauth2c:
            - https://www.googleapis.com/auth/doubleclickbidmanager
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Report'
      parameters:
        - in: path
          name: queryId
          required: true
          schema:
            type: string
        - in: query
          name: synchronous
          schema:
            type: boolean
      x-stackQL-resource: queries
      x-stackQL-verb: exec
  /queries:
    parameters: *ref_1
    get:
      description: Lists queries created by the current user.
      operationId: doubleclickbidmanager.queries.list
      security:
        - Oauth2:
            - https://www.googleapis.com/auth/doubleclickbidmanager
          Oauth2c:
            - https://www.googleapis.com/auth/doubleclickbidmanager
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ListQueriesResponse'
      parameters:
        - in: query
          name: orderBy
          schema:
            type: string
        - in: query
          name: pageToken
          schema:
            type: string
        - in: query
          name: pageSize
          schema:
            type: integer
      x-stackQL-resource: queries
      x-stackQL-verb: select
    post:
      description: Creates a query.
      operationId: doubleclickbidmanager.queries.create
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Query'
      security:
        - Oauth2:
            - https://www.googleapis.com/auth/doubleclickbidmanager
          Oauth2c:
            - https://www.googleapis.com/auth/doubleclickbidmanager
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Query'
      parameters: []
      x-stackQL-resource: queries
      x-stackQL-verb: insert
  /queries/{queryId}:
    parameters: *ref_1
    delete:
      description: Deletes a query as well as the associated reports.
      operationId: doubleclickbidmanager.queries.delete
      security:
        - Oauth2:
            - https://www.googleapis.com/auth/doubleclickbidmanager
          Oauth2c:
            - https://www.googleapis.com/auth/doubleclickbidmanager
      parameters:
        - in: path
          name: queryId
          required: true
          schema:
            type: string
      x-stackQL-resource: queries
      x-stackQL-verb: delete
    get:
      description: Retrieves a query.
      operationId: doubleclickbidmanager.queries.get
      security:
        - Oauth2:
            - https://www.googleapis.com/auth/doubleclickbidmanager
          Oauth2c:
            - https://www.googleapis.com/auth/doubleclickbidmanager
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Query'
      parameters:
        - in: path
          name: queryId
          required: true
          schema:
            type: string
      x-stackQL-resource: queries
      x-stackQL-verb: select
